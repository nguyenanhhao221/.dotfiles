{
  "version": 3,
  "sources": ["../node_modules/webidl-conversions/lib/index.js", "../node_modules/whatwg-url/lib/utils.js", "../node_modules/tr46/index.js", "../node_modules/whatwg-url/lib/url-state-machine.js", "../node_modules/whatwg-url/lib/URL-impl.js", "../node_modules/whatwg-url/lib/URL.js", "../node_modules/whatwg-url/lib/public-api.js", "../node_modules/node-fetch/lib/index.js", "../node_modules/fuse.js/dist/fuse.common.js", "../node_modules/relative-time-format/source/LocaleDataStore.js", "../node_modules/relative-time-format/source/resolveLocale.js", "../node_modules/relative-time-format/source/PluralRuleFunctions.js", "../node_modules/relative-time-format/source/getPluralRulesLocale.js", "../node_modules/relative-time-format/source/PluralRules.js", "../node_modules/relative-time-format/source/RelativeTimeFormat.js", "../node_modules/relative-time-format/index.commonjs.js", "../node_modules/javascript-time-ago/source/cache.js", "../node_modules/javascript-time-ago/source/locale.js", "../node_modules/javascript-time-ago/source/steps/units.js", "../node_modules/javascript-time-ago/source/steps/getStepDenominator.js", "../node_modules/javascript-time-ago/source/round.js", "../node_modules/javascript-time-ago/source/steps/getStepMinTime.js", "../node_modules/javascript-time-ago/source/steps/getStep.js", "../node_modules/javascript-time-ago/source/steps/getTimeToNextUpdateForUnit.js", "../node_modules/javascript-time-ago/source/steps/getTimeToNextUpdate.js", "../node_modules/javascript-time-ago/source/LocaleDataStore.js", "../node_modules/javascript-time-ago/source/steps/round.js", "../node_modules/javascript-time-ago/source/style/round.js", "../node_modules/javascript-time-ago/source/style/roundMinute.js", "../node_modules/javascript-time-ago/source/steps/approximate.js", "../node_modules/javascript-time-ago/source/style/approximate.js", "../node_modules/javascript-time-ago/source/style/approximateTime.js", "../node_modules/javascript-time-ago/source/steps/helpers.js", "../node_modules/javascript-time-ago/source/steps/index.js", "../node_modules/javascript-time-ago/source/steps/renameLegacyProperties.js", "../node_modules/javascript-time-ago/source/style/renameLegacyProperties.js", "../node_modules/javascript-time-ago/source/style/twitter.js", "../node_modules/javascript-time-ago/source/style/twitterNow.js", "../node_modules/javascript-time-ago/source/style/twitterMinute.js", "../node_modules/javascript-time-ago/source/style/twitterMinuteNow.js", "../node_modules/javascript-time-ago/source/style/twitterFirstMinute.js", "../node_modules/javascript-time-ago/source/style/mini.js", "../node_modules/javascript-time-ago/source/style/miniNow.js", "../node_modules/javascript-time-ago/source/style/miniMinute.js", "../node_modules/javascript-time-ago/source/style/miniMinuteNow.js", "../node_modules/javascript-time-ago/source/style/getStyleByName.js", "../node_modules/javascript-time-ago/source/TimeAgo.js", "../node_modules/javascript-time-ago/index.commonjs.js", "../node_modules/url-join/lib/url-join.js", "../src/status.tsx", "../src/components/status/list.tsx", "../src/cache.ts", "../src/utils.ts", "../src/icons.ts", "../src/common.ts", "../src/gitlabapi.ts", "../src/components/status/utils.ts", "../src/components/status/presets.ts", "../src/components/status/actions.tsx", "../src/components/status/form.tsx"],
  "sourcesContent": ["\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n", "\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n", "\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n", "\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n", "\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n", "\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n", "\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Stream = _interopDefault(require('stream'));\nvar http = _interopDefault(require('http'));\nvar Url = _interopDefault(require('url'));\nvar whatwgUrl = _interopDefault(require('whatwg-url'));\nvar https = _interopDefault(require('https'));\nvar zlib = _interopDefault(require('zlib'));\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nmodule.exports = exports = fetch;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports;\nexports.Headers = Headers;\nexports.Request = Request;\nexports.Response = Response;\nexports.FetchError = FetchError;\n", "/**\n * Fuse.js v6.4.6 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n'use strict';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction isArray(value) {\n  return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n} // Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\n\nvar INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isNumber(value) {\n  return typeof value === 'number';\n} // Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\n\nfunction isBoolean(value) {\n  return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n}\nfunction isObject(value) {\n  return _typeof(value) === 'object';\n} // Checks if `value` is object-like.\n\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null;\n}\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\nfunction isBlank(value) {\n  return !value.trim().length;\n} // Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\n\nfunction getTag(value) {\n  return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n}\n\nvar EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\nvar INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\nvar LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = function LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key) {\n  return \"Invalid value for key \".concat(key);\n};\nvar PATTERN_LENGTH_TOO_LARGE = function PATTERN_LENGTH_TOO_LARGE(max) {\n  return \"Pattern length exceeds max of \".concat(max, \".\");\n};\nvar MISSING_KEY_PROPERTY = function MISSING_KEY_PROPERTY(name) {\n  return \"Missing \".concat(name, \" property in key\");\n};\nvar INVALID_KEY_WEIGHT_VALUE = function INVALID_KEY_WEIGHT_VALUE(key) {\n  return \"Property 'weight' in key '\".concat(key, \"' must be a positive integer\");\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nvar KeyStore = /*#__PURE__*/function () {\n  function KeyStore(keys) {\n    var _this = this;\n\n    _classCallCheck(this, KeyStore);\n\n    this._keys = [];\n    this._keyMap = {};\n    var totalWeight = 0;\n    keys.forEach(function (key) {\n      var obj = createKey(key);\n      totalWeight += obj.weight;\n\n      _this._keys.push(obj);\n\n      _this._keyMap[obj.id] = obj;\n      totalWeight += obj.weight;\n    }); // Normalize weights so that their sum is equal to 1\n\n    this._keys.forEach(function (key) {\n      key.weight /= totalWeight;\n    });\n  }\n\n  _createClass(KeyStore, [{\n    key: \"get\",\n    value: function get(keyId) {\n      return this._keyMap[keyId];\n    }\n  }, {\n    key: \"keys\",\n    value: function keys() {\n      return this._keys;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return JSON.stringify(this._keys);\n    }\n  }]);\n\n  return KeyStore;\n}();\nfunction createKey(key) {\n  var path = null;\n  var id = null;\n  var src = null;\n  var weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'));\n    }\n\n    var name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return {\n    path: path,\n    id: id,\n    weight: weight,\n    src: src\n  };\n}\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.');\n}\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key;\n}\n\nfunction get(obj, path) {\n  var list = [];\n  var arr = false;\n\n  var deepGet = function deepGet(obj, path, index) {\n    if (!isDefined(obj)) {\n      return;\n    }\n\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      var key = path[index];\n      var value = obj[key];\n\n      if (!isDefined(value)) {\n        return;\n      } // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n\n\n      if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true; // Search each item in the array.\n\n        for (var i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  }; // Backwards compatibility (since path used to be a string)\n\n\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n  return arr ? list : list[0];\n}\n\nvar MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\nvar BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: function sortFn(a, b) {\n    return a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1;\n  }\n};\nvar FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\nvar AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false\n};\nvar Config = _objectSpread2({}, BasicOptions, {}, MatchOptions, {}, FuzzyOptions, {}, AdvancedOptions);\n\nvar SPACE = /[^ ]+/g; // Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\n\nfunction norm() {\n  var mantissa = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n  var cache = new Map();\n  var m = Math.pow(10, mantissa);\n  return {\n    get: function get(value) {\n      var numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens);\n      }\n\n      var norm = 1 / Math.sqrt(numTokens); // In place of `toFixed(mantissa)`, for faster computation\n\n      var n = parseFloat(Math.round(norm * m) / m);\n      cache.set(numTokens, n);\n      return n;\n    },\n    clear: function clear() {\n      cache.clear();\n    }\n  };\n}\n\nvar FuseIndex = /*#__PURE__*/function () {\n  function FuseIndex() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$getFn = _ref.getFn,\n        getFn = _ref$getFn === void 0 ? Config.getFn : _ref$getFn;\n\n    _classCallCheck(this, FuseIndex);\n\n    this.norm = norm(3);\n    this.getFn = getFn;\n    this.isCreated = false;\n    this.setIndexRecords();\n  }\n\n  _createClass(FuseIndex, [{\n    key: \"setSources\",\n    value: function setSources() {\n      var docs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.docs = docs;\n    }\n  }, {\n    key: \"setIndexRecords\",\n    value: function setIndexRecords() {\n      var records = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.records = records;\n    }\n  }, {\n    key: \"setKeys\",\n    value: function setKeys() {\n      var _this = this;\n\n      var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.keys = keys;\n      this._keysMap = {};\n      keys.forEach(function (key, idx) {\n        _this._keysMap[key.id] = idx;\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create() {\n      var _this2 = this;\n\n      if (this.isCreated || !this.docs.length) {\n        return;\n      }\n\n      this.isCreated = true; // List is Array<String>\n\n      if (isString(this.docs[0])) {\n        this.docs.forEach(function (doc, docIndex) {\n          _this2._addString(doc, docIndex);\n        });\n      } else {\n        // List is Array<Object>\n        this.docs.forEach(function (doc, docIndex) {\n          _this2._addObject(doc, docIndex);\n        });\n      }\n\n      this.norm.clear();\n    } // Adds a doc to the end of the index\n\n  }, {\n    key: \"add\",\n    value: function add(doc) {\n      var idx = this.size();\n\n      if (isString(doc)) {\n        this._addString(doc, idx);\n      } else {\n        this._addObject(doc, idx);\n      }\n    } // Removes the doc at the specified index of the index\n\n  }, {\n    key: \"removeAt\",\n    value: function removeAt(idx) {\n      this.records.splice(idx, 1); // Change ref index of every subsquent doc\n\n      for (var i = idx, len = this.size(); i < len; i += 1) {\n        this.records[i].i -= 1;\n      }\n    }\n  }, {\n    key: \"getValueForItemAtKeyId\",\n    value: function getValueForItemAtKeyId(item, keyId) {\n      return item[this._keysMap[keyId]];\n    }\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this.records.length;\n    }\n  }, {\n    key: \"_addString\",\n    value: function _addString(doc, docIndex) {\n      if (!isDefined(doc) || isBlank(doc)) {\n        return;\n      }\n\n      var record = {\n        v: doc,\n        i: docIndex,\n        n: this.norm.get(doc)\n      };\n      this.records.push(record);\n    }\n  }, {\n    key: \"_addObject\",\n    value: function _addObject(doc, docIndex) {\n      var _this3 = this;\n\n      var record = {\n        i: docIndex,\n        $: {}\n      }; // Iterate over every key (i.e, path), and fetch the value at that key\n\n      this.keys.forEach(function (key, keyIndex) {\n        // console.log(key)\n        var value = _this3.getFn(doc, key.path);\n\n        if (!isDefined(value)) {\n          return;\n        }\n\n        if (isArray(value)) {\n          (function () {\n            var subRecords = [];\n            var stack = [{\n              nestedArrIndex: -1,\n              value: value\n            }];\n\n            while (stack.length) {\n              var _stack$pop = stack.pop(),\n                  nestedArrIndex = _stack$pop.nestedArrIndex,\n                  _value = _stack$pop.value;\n\n              if (!isDefined(_value)) {\n                continue;\n              }\n\n              if (isString(_value) && !isBlank(_value)) {\n                var subRecord = {\n                  v: _value,\n                  i: nestedArrIndex,\n                  n: _this3.norm.get(_value)\n                };\n                subRecords.push(subRecord);\n              } else if (isArray(_value)) {\n                _value.forEach(function (item, k) {\n                  stack.push({\n                    nestedArrIndex: k,\n                    value: item\n                  });\n                });\n              }\n            }\n\n            record.$[keyIndex] = subRecords;\n          })();\n        } else if (!isBlank(value)) {\n          var subRecord = {\n            v: value,\n            n: _this3.norm.get(value)\n          };\n          record.$[keyIndex] = subRecord;\n        }\n      });\n      this.records.push(record);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        keys: this.keys,\n        records: this.records\n      };\n    }\n  }]);\n\n  return FuseIndex;\n}();\nfunction createIndex(keys, docs) {\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$getFn = _ref2.getFn,\n      getFn = _ref2$getFn === void 0 ? Config.getFn : _ref2$getFn;\n\n  var myIndex = new FuseIndex({\n    getFn: getFn\n  });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex;\n}\nfunction parseIndex(data) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$getFn = _ref3.getFn,\n      getFn = _ref3$getFn === void 0 ? Config.getFn : _ref3$getFn;\n\n  var keys = data.keys,\n      records = data.records;\n  var myIndex = new FuseIndex({\n    getFn: getFn\n  });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex;\n}\n\nfunction computeScore(pattern) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$errors = _ref.errors,\n      errors = _ref$errors === void 0 ? 0 : _ref$errors,\n      _ref$currentLocation = _ref.currentLocation,\n      currentLocation = _ref$currentLocation === void 0 ? 0 : _ref$currentLocation,\n      _ref$expectedLocation = _ref.expectedLocation,\n      expectedLocation = _ref$expectedLocation === void 0 ? 0 : _ref$expectedLocation,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? Config.distance : _ref$distance,\n      _ref$ignoreLocation = _ref.ignoreLocation,\n      ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;\n\n  var accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy;\n  }\n\n  var proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n\n  return accuracy + proximity / distance;\n}\n\nfunction convertMaskToIndices() {\n  var matchmask = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var minMatchCharLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Config.minMatchCharLength;\n  var indices = [];\n  var start = -1;\n  var end = -1;\n  var i = 0;\n\n  for (var len = matchmask.length; i < len; i += 1) {\n    var match = matchmask[i];\n\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n\n      start = -1;\n    }\n  } // (i-1 - start) + 1 => i - start\n\n\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices;\n}\n\n// Machine word size\nvar MAX_BITS = 32;\n\nfunction search(text, pattern, patternAlphabet) {\n  var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref$location = _ref.location,\n      location = _ref$location === void 0 ? Config.location : _ref$location,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? Config.distance : _ref$distance,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold,\n      _ref$findAllMatches = _ref.findAllMatches,\n      findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches,\n      _ref$minMatchCharLeng = _ref.minMatchCharLength,\n      minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng,\n      _ref$includeMatches = _ref.includeMatches,\n      includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches,\n      _ref$ignoreLocation = _ref.ignoreLocation,\n      ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;\n\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n  }\n\n  var patternLen = pattern.length; // Set starting location at beginning text and initialize the alphabet.\n\n  var textLen = text.length; // Handle the case when location > text.length\n\n  var expectedLocation = Math.max(0, Math.min(location, textLen)); // Highest score beyond which we give up.\n\n  var currentThreshold = threshold; // Is there a nearby exact match? (speedup)\n\n  var bestLocation = expectedLocation; // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n\n  var computeMatches = minMatchCharLength > 1 || includeMatches; // A mask of the matches, used for building the indices\n\n  var matchMask = computeMatches ? Array(textLen) : [];\n  var index; // Get all exact matches, here for speed up\n\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    var score = computeScore(pattern, {\n      currentLocation: index,\n      expectedLocation: expectedLocation,\n      distance: distance,\n      ignoreLocation: ignoreLocation\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      var i = 0;\n\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  } // Reset the best location\n\n\n  bestLocation = -1;\n  var lastBitArr = [];\n  var finalScore = 1;\n  var binMax = patternLen + textLen;\n  var mask = 1 << patternLen - 1;\n\n  for (var _i = 0; _i < patternLen; _i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    var binMin = 0;\n    var binMid = binMax;\n\n    while (binMin < binMid) {\n      var _score2 = computeScore(pattern, {\n        errors: _i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation: expectedLocation,\n        distance: distance,\n        ignoreLocation: ignoreLocation\n      });\n\n      if (_score2 <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    } // Use the result from this iteration as the maximum for the next.\n\n\n    binMax = binMid;\n    var start = Math.max(1, expectedLocation - binMid + 1);\n    var finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen; // Initialize the bit array\n\n    var bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << _i) - 1;\n\n    for (var j = finish; j >= start; j -= 1) {\n      var currentLocation = j - 1;\n      var charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      } // First pass: exact match\n\n\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch; // Subsequent passes: fuzzy match\n\n      if (_i) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore(pattern, {\n          errors: _i,\n          currentLocation: currentLocation,\n          expectedLocation: expectedLocation,\n          distance: distance,\n          ignoreLocation: ignoreLocation\n        }); // This match will almost certainly be better than any existing match.\n        // But check anyway.\n\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation; // Already passed `loc`, downhill from here on in.\n\n          if (bestLocation <= expectedLocation) {\n            break;\n          } // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n\n\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    } // No hope for a (better) match at greater error levels.\n\n\n    var _score = computeScore(pattern, {\n      errors: _i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation: expectedLocation,\n      distance: distance,\n      ignoreLocation: ignoreLocation\n    });\n\n    if (_score > currentThreshold) {\n      break;\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  var result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    var indices = convertMaskToIndices(matchMask, minMatchCharLength);\n\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result;\n}\n\nfunction createPatternAlphabet(pattern) {\n  var mask = {};\n\n  for (var i = 0, len = pattern.length; i < len; i += 1) {\n    var char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n  }\n\n  return mask;\n}\n\nvar BitapSearch = /*#__PURE__*/function () {\n  function BitapSearch(pattern) {\n    var _this = this;\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$location = _ref.location,\n        location = _ref$location === void 0 ? Config.location : _ref$location,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === void 0 ? Config.distance : _ref$distance,\n        _ref$includeMatches = _ref.includeMatches,\n        includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng,\n        _ref$isCaseSensitive = _ref.isCaseSensitive,\n        isCaseSensitive = _ref$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref$isCaseSensitive,\n        _ref$ignoreLocation = _ref.ignoreLocation,\n        ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;\n\n    _classCallCheck(this, BitapSearch);\n\n    this.options = {\n      location: location,\n      threshold: threshold,\n      distance: distance,\n      includeMatches: includeMatches,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      isCaseSensitive: isCaseSensitive,\n      ignoreLocation: ignoreLocation\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return;\n    }\n\n    var addChunk = function addChunk(pattern, startIndex) {\n      _this.chunks.push({\n        pattern: pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex: startIndex\n      });\n    };\n\n    var len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      var i = 0;\n      var remainder = len % MAX_BITS;\n      var end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        var startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  _createClass(BitapSearch, [{\n    key: \"searchIn\",\n    value: function searchIn(text) {\n      var _this$options = this.options,\n          isCaseSensitive = _this$options.isCaseSensitive,\n          includeMatches = _this$options.includeMatches;\n\n      if (!isCaseSensitive) {\n        text = text.toLowerCase();\n      } // Exact match\n\n\n      if (this.pattern === text) {\n        var _result = {\n          isMatch: true,\n          score: 0\n        };\n\n        if (includeMatches) {\n          _result.indices = [[0, text.length - 1]];\n        }\n\n        return _result;\n      } // Otherwise, use Bitap algorithm\n\n\n      var _this$options2 = this.options,\n          location = _this$options2.location,\n          distance = _this$options2.distance,\n          threshold = _this$options2.threshold,\n          findAllMatches = _this$options2.findAllMatches,\n          minMatchCharLength = _this$options2.minMatchCharLength,\n          ignoreLocation = _this$options2.ignoreLocation;\n      var allIndices = [];\n      var totalScore = 0;\n      var hasMatches = false;\n      this.chunks.forEach(function (_ref2) {\n        var pattern = _ref2.pattern,\n            alphabet = _ref2.alphabet,\n            startIndex = _ref2.startIndex;\n\n        var _search = search(text, pattern, alphabet, {\n          location: location + startIndex,\n          distance: distance,\n          threshold: threshold,\n          findAllMatches: findAllMatches,\n          minMatchCharLength: minMatchCharLength,\n          includeMatches: includeMatches,\n          ignoreLocation: ignoreLocation\n        }),\n            isMatch = _search.isMatch,\n            score = _search.score,\n            indices = _search.indices;\n\n        if (isMatch) {\n          hasMatches = true;\n        }\n\n        totalScore += score;\n\n        if (isMatch && indices) {\n          allIndices = [].concat(_toConsumableArray(allIndices), _toConsumableArray(indices));\n        }\n      });\n      var result = {\n        isMatch: hasMatches,\n        score: hasMatches ? totalScore / this.chunks.length : 1\n      };\n\n      if (hasMatches && includeMatches) {\n        result.indices = allIndices;\n      }\n\n      return result;\n    }\n  }]);\n\n  return BitapSearch;\n}();\n\nvar BaseMatch = /*#__PURE__*/function () {\n  function BaseMatch(pattern) {\n    _classCallCheck(this, BaseMatch);\n\n    this.pattern = pattern;\n  }\n\n  _createClass(BaseMatch, [{\n    key: \"search\",\n    value: function search()\n    /*text*/\n    {}\n  }], [{\n    key: \"isMultiMatch\",\n    value: function isMultiMatch(pattern) {\n      return getMatch(pattern, this.multiRegex);\n    }\n  }, {\n    key: \"isSingleMatch\",\n    value: function isSingleMatch(pattern) {\n      return getMatch(pattern, this.singleRegex);\n    }\n  }]);\n\n  return BaseMatch;\n}();\n\nfunction getMatch(pattern, exp) {\n  var matches = pattern.match(exp);\n  return matches ? matches[1] : null;\n}\n\nvar ExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(ExactMatch, _BaseMatch);\n\n  var _super = _createSuper(ExactMatch);\n\n  function ExactMatch(pattern) {\n    _classCallCheck(this, ExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(ExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = text === this.pattern;\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, this.pattern.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^=\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^=(.*)$/;\n    }\n  }]);\n\n  return ExactMatch;\n}(BaseMatch);\n\nvar InverseExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(InverseExactMatch, _BaseMatch);\n\n  var _super = _createSuper(InverseExactMatch);\n\n  function InverseExactMatch(pattern) {\n    _classCallCheck(this, InverseExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(InverseExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var index = text.indexOf(this.pattern);\n      var isMatch = index === -1;\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'inverse-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^!\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^!(.*)$/;\n    }\n  }]);\n\n  return InverseExactMatch;\n}(BaseMatch);\n\nvar PrefixExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(PrefixExactMatch, _BaseMatch);\n\n  var _super = _createSuper(PrefixExactMatch);\n\n  function PrefixExactMatch(pattern) {\n    _classCallCheck(this, PrefixExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(PrefixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = text.startsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, this.pattern.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'prefix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^\\^\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^\\^(.*)$/;\n    }\n  }]);\n\n  return PrefixExactMatch;\n}(BaseMatch);\n\nvar InversePrefixExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(InversePrefixExactMatch, _BaseMatch);\n\n  var _super = _createSuper(InversePrefixExactMatch);\n\n  function InversePrefixExactMatch(pattern) {\n    _classCallCheck(this, InversePrefixExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(InversePrefixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = !text.startsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'inverse-prefix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^!\\^\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^!\\^(.*)$/;\n    }\n  }]);\n\n  return InversePrefixExactMatch;\n}(BaseMatch);\n\nvar SuffixExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(SuffixExactMatch, _BaseMatch);\n\n  var _super = _createSuper(SuffixExactMatch);\n\n  function SuffixExactMatch(pattern) {\n    _classCallCheck(this, SuffixExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(SuffixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = text.endsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [text.length - this.pattern.length, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'suffix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^\"(.*)\"\\$$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^(.*)\\$$/;\n    }\n  }]);\n\n  return SuffixExactMatch;\n}(BaseMatch);\n\nvar InverseSuffixExactMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(InverseSuffixExactMatch, _BaseMatch);\n\n  var _super = _createSuper(InverseSuffixExactMatch);\n\n  function InverseSuffixExactMatch(pattern) {\n    _classCallCheck(this, InverseSuffixExactMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(InverseSuffixExactMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var isMatch = !text.endsWith(this.pattern);\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: [0, text.length - 1]\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'inverse-suffix-exact';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^!\"(.*)\"\\$$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^!(.*)\\$$/;\n    }\n  }]);\n\n  return InverseSuffixExactMatch;\n}(BaseMatch);\n\nvar FuzzyMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(FuzzyMatch, _BaseMatch);\n\n  var _super = _createSuper(FuzzyMatch);\n\n  function FuzzyMatch(pattern) {\n    var _this;\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$location = _ref.location,\n        location = _ref$location === void 0 ? Config.location : _ref$location,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === void 0 ? Config.distance : _ref$distance,\n        _ref$includeMatches = _ref.includeMatches,\n        includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng,\n        _ref$isCaseSensitive = _ref.isCaseSensitive,\n        isCaseSensitive = _ref$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref$isCaseSensitive,\n        _ref$ignoreLocation = _ref.ignoreLocation,\n        ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;\n\n    _classCallCheck(this, FuzzyMatch);\n\n    _this = _super.call(this, pattern);\n    _this._bitapSearch = new BitapSearch(pattern, {\n      location: location,\n      threshold: threshold,\n      distance: distance,\n      includeMatches: includeMatches,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      isCaseSensitive: isCaseSensitive,\n      ignoreLocation: ignoreLocation\n    });\n    return _this;\n  }\n\n  _createClass(FuzzyMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      return this._bitapSearch.searchIn(text);\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'fuzzy';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^(.*)$/;\n    }\n  }]);\n\n  return FuzzyMatch;\n}(BaseMatch);\n\nvar IncludeMatch = /*#__PURE__*/function (_BaseMatch) {\n  _inherits(IncludeMatch, _BaseMatch);\n\n  var _super = _createSuper(IncludeMatch);\n\n  function IncludeMatch(pattern) {\n    _classCallCheck(this, IncludeMatch);\n\n    return _super.call(this, pattern);\n  }\n\n  _createClass(IncludeMatch, [{\n    key: \"search\",\n    value: function search(text) {\n      var location = 0;\n      var index;\n      var indices = [];\n      var patternLen = this.pattern.length; // Get all exact matches\n\n      while ((index = text.indexOf(this.pattern, location)) > -1) {\n        location = index + patternLen;\n        indices.push([index, location - 1]);\n      }\n\n      var isMatch = !!indices.length;\n      return {\n        isMatch: isMatch,\n        score: isMatch ? 0 : 1,\n        indices: indices\n      };\n    }\n  }], [{\n    key: \"type\",\n    get: function get() {\n      return 'include';\n    }\n  }, {\n    key: \"multiRegex\",\n    get: function get() {\n      return /^'\"(.*)\"$/;\n    }\n  }, {\n    key: \"singleRegex\",\n    get: function get() {\n      return /^'(.*)$/;\n    }\n  }]);\n\n  return IncludeMatch;\n}(BaseMatch);\n\nvar searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\nvar searchersLen = searchers.length; // Regex to split by spaces, but keep anything in quotes together\n\nvar SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nvar OR_TOKEN = '|'; // Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\n\nfunction parseQuery(pattern) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return pattern.split(OR_TOKEN).map(function (item) {\n    var query = item.trim().split(SPACE_RE).filter(function (item) {\n      return item && !!item.trim();\n    });\n    var results = [];\n\n    for (var i = 0, len = query.length; i < len; i += 1) {\n      var queryItem = query[i]; // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n\n      var found = false;\n      var idx = -1;\n\n      while (!found && ++idx < searchersLen) {\n        var searcher = searchers[idx];\n        var token = searcher.isMultiMatch(queryItem);\n\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue;\n      } // 2. Handle single query matches (i.e, once that are *not* quoted)\n\n\n      idx = -1;\n\n      while (++idx < searchersLen) {\n        var _searcher = searchers[idx];\n\n        var _token = _searcher.isSingleMatch(queryItem);\n\n        if (_token) {\n          results.push(new _searcher(_token, options));\n          break;\n        }\n      }\n    }\n\n    return results;\n  });\n}\n\n// to a singl match\n\nvar MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\n\nvar ExtendedSearch = /*#__PURE__*/function () {\n  function ExtendedSearch(pattern) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$isCaseSensitive = _ref.isCaseSensitive,\n        isCaseSensitive = _ref$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref$isCaseSensitive,\n        _ref$includeMatches = _ref.includeMatches,\n        includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng,\n        _ref$ignoreLocation = _ref.ignoreLocation,\n        ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches,\n        _ref$location = _ref.location,\n        location = _ref$location === void 0 ? Config.location : _ref$location,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === void 0 ? Config.distance : _ref$distance;\n\n    _classCallCheck(this, ExtendedSearch);\n\n    this.query = null;\n    this.options = {\n      isCaseSensitive: isCaseSensitive,\n      includeMatches: includeMatches,\n      minMatchCharLength: minMatchCharLength,\n      findAllMatches: findAllMatches,\n      ignoreLocation: ignoreLocation,\n      location: location,\n      threshold: threshold,\n      distance: distance\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  _createClass(ExtendedSearch, [{\n    key: \"searchIn\",\n    value: function searchIn(text) {\n      var query = this.query;\n\n      if (!query) {\n        return {\n          isMatch: false,\n          score: 1\n        };\n      }\n\n      var _this$options = this.options,\n          includeMatches = _this$options.includeMatches,\n          isCaseSensitive = _this$options.isCaseSensitive;\n      text = isCaseSensitive ? text : text.toLowerCase();\n      var numMatches = 0;\n      var allIndices = [];\n      var totalScore = 0; // ORs\n\n      for (var i = 0, qLen = query.length; i < qLen; i += 1) {\n        var searchers = query[i]; // Reset indices\n\n        allIndices.length = 0;\n        numMatches = 0; // ANDs\n\n        for (var j = 0, pLen = searchers.length; j < pLen; j += 1) {\n          var searcher = searchers[j];\n\n          var _searcher$search = searcher.search(text),\n              isMatch = _searcher$search.isMatch,\n              indices = _searcher$search.indices,\n              score = _searcher$search.score;\n\n          if (isMatch) {\n            numMatches += 1;\n            totalScore += score;\n\n            if (includeMatches) {\n              var type = searcher.constructor.type;\n\n              if (MultiMatchSet.has(type)) {\n                allIndices = [].concat(_toConsumableArray(allIndices), _toConsumableArray(indices));\n              } else {\n                allIndices.push(indices);\n              }\n            }\n          } else {\n            totalScore = 0;\n            numMatches = 0;\n            allIndices.length = 0;\n            break;\n          }\n        } // OR condition, so if TRUE, return\n\n\n        if (numMatches) {\n          var result = {\n            isMatch: true,\n            score: totalScore / numMatches\n          };\n\n          if (includeMatches) {\n            result.indices = allIndices;\n          }\n\n          return result;\n        }\n      } // Nothing was matched\n\n\n      return {\n        isMatch: false,\n        score: 1\n      };\n    }\n  }], [{\n    key: \"condition\",\n    value: function condition(_, options) {\n      return options.useExtendedSearch;\n    }\n  }]);\n\n  return ExtendedSearch;\n}();\n\nvar registeredSearchers = [];\nfunction register() {\n  registeredSearchers.push.apply(registeredSearchers, arguments);\n}\nfunction createSearcher(pattern, options) {\n  for (var i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    var searcherClass = registeredSearchers[i];\n\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options);\n    }\n  }\n\n  return new BitapSearch(pattern, options);\n}\n\nvar LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\nvar KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nvar isExpression = function isExpression(query) {\n  return !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n};\n\nvar isPath = function isPath(query) {\n  return !!query[KeyType.PATH];\n};\n\nvar isLeaf = function isLeaf(query) {\n  return !isArray(query) && isObject(query) && !isExpression(query);\n};\n\nvar convertToExplicit = function convertToExplicit(query) {\n  return _defineProperty({}, LogicalOperator.AND, Object.keys(query).map(function (key) {\n    return _defineProperty({}, key, query[key]);\n  }));\n}; // When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\n\n\nfunction parse(query, options) {\n  var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref3$auto = _ref3.auto,\n      auto = _ref3$auto === void 0 ? true : _ref3$auto;\n\n  var next = function next(query) {\n    var keys = Object.keys(query);\n    var isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query));\n    }\n\n    if (isLeaf(query)) {\n      var key = isQueryPath ? query[KeyType.PATH] : keys[0];\n      var pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n      }\n\n      var obj = {\n        keyId: createKeyId(key),\n        pattern: pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj;\n    }\n\n    var node = {\n      children: [],\n      operator: keys[0]\n    };\n    keys.forEach(function (key) {\n      var value = query[key];\n\n      if (isArray(value)) {\n        value.forEach(function (item) {\n          node.children.push(next(item));\n        });\n      }\n    });\n    return node;\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query);\n}\n\nfunction computeScore$1(results, _ref) {\n  var _ref$ignoreFieldNorm = _ref.ignoreFieldNorm,\n      ignoreFieldNorm = _ref$ignoreFieldNorm === void 0 ? Config.ignoreFieldNorm : _ref$ignoreFieldNorm;\n  results.forEach(function (result) {\n    var totalScore = 1;\n    result.matches.forEach(function (_ref2) {\n      var key = _ref2.key,\n          norm = _ref2.norm,\n          score = _ref2.score;\n      var weight = key ? key.weight : null;\n      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n    });\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  var matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return;\n  }\n\n  matches.forEach(function (match) {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return;\n    }\n\n    var indices = match.indices,\n        value = match.value;\n    var obj = {\n      indices: indices,\n      value: value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(results, docs) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$includeMatches = _ref.includeMatches,\n      includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches,\n      _ref$includeScore = _ref.includeScore,\n      includeScore = _ref$includeScore === void 0 ? Config.includeScore : _ref$includeScore;\n\n  var transformers = [];\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n  return results.map(function (result) {\n    var idx = result.idx;\n    var data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach(function (transformer) {\n        transformer(result, data);\n      });\n    }\n\n    return data;\n  });\n}\n\nvar Fuse = /*#__PURE__*/function () {\n  function Fuse(docs) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var index = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, Fuse);\n\n    this.options = _objectSpread2({}, Config, {}, options);\n\n    if (this.options.useExtendedSearch && !true) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n    this.setCollection(docs, index);\n  }\n\n  _createClass(Fuse, [{\n    key: \"setCollection\",\n    value: function setCollection(docs, index) {\n      this._docs = docs;\n\n      if (index && !(index instanceof FuseIndex)) {\n        throw new Error(INCORRECT_INDEX_TYPE);\n      }\n\n      this._myIndex = index || createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(doc) {\n      if (!isDefined(doc)) {\n        return;\n      }\n\n      this._docs.push(doc);\n\n      this._myIndex.add(doc);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var predicate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {\n        return (\n          /* doc, idx */\n          false\n        );\n      };\n      var results = [];\n\n      for (var i = 0, len = this._docs.length; i < len; i += 1) {\n        var doc = this._docs[i];\n\n        if (predicate(doc, i)) {\n          this.removeAt(i);\n          i -= 1;\n          len -= 1;\n          results.push(doc);\n        }\n      }\n\n      return results;\n    }\n  }, {\n    key: \"removeAt\",\n    value: function removeAt(idx) {\n      this._docs.splice(idx, 1);\n\n      this._myIndex.removeAt(idx);\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex() {\n      return this._myIndex;\n    }\n  }, {\n    key: \"search\",\n    value: function search(query) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$limit = _ref.limit,\n          limit = _ref$limit === void 0 ? -1 : _ref$limit;\n\n      var _this$options = this.options,\n          includeMatches = _this$options.includeMatches,\n          includeScore = _this$options.includeScore,\n          shouldSort = _this$options.shouldSort,\n          sortFn = _this$options.sortFn,\n          ignoreFieldNorm = _this$options.ignoreFieldNorm;\n      var results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n      computeScore$1(results, {\n        ignoreFieldNorm: ignoreFieldNorm\n      });\n\n      if (shouldSort) {\n        results.sort(sortFn);\n      }\n\n      if (isNumber(limit) && limit > -1) {\n        results = results.slice(0, limit);\n      }\n\n      return format(results, this._docs, {\n        includeMatches: includeMatches,\n        includeScore: includeScore\n      });\n    }\n  }, {\n    key: \"_searchStringList\",\n    value: function _searchStringList(query) {\n      var searcher = createSearcher(query, this.options);\n      var records = this._myIndex.records;\n      var results = []; // Iterate over every string in the index\n\n      records.forEach(function (_ref2) {\n        var text = _ref2.v,\n            idx = _ref2.i,\n            norm = _ref2.n;\n\n        if (!isDefined(text)) {\n          return;\n        }\n\n        var _searcher$searchIn = searcher.searchIn(text),\n            isMatch = _searcher$searchIn.isMatch,\n            score = _searcher$searchIn.score,\n            indices = _searcher$searchIn.indices;\n\n        if (isMatch) {\n          results.push({\n            item: text,\n            idx: idx,\n            matches: [{\n              score: score,\n              value: text,\n              norm: norm,\n              indices: indices\n            }]\n          });\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"_searchLogical\",\n    value: function _searchLogical(query) {\n      var _this = this;\n\n      var expression = parse(query, this.options);\n\n      var evaluate = function evaluate(node, item, idx) {\n        if (!node.children) {\n          var keyId = node.keyId,\n              searcher = node.searcher;\n\n          var matches = _this._findMatches({\n            key: _this._keyStore.get(keyId),\n            value: _this._myIndex.getValueForItemAtKeyId(item, keyId),\n            searcher: searcher\n          });\n\n          if (matches && matches.length) {\n            return [{\n              idx: idx,\n              item: item,\n              matches: matches\n            }];\n          }\n\n          return [];\n        }\n        /*eslint indent: [2, 2, {\"SwitchCase\": 1}]*/\n\n\n        switch (node.operator) {\n          case LogicalOperator.AND:\n            {\n              var res = [];\n\n              for (var i = 0, len = node.children.length; i < len; i += 1) {\n                var child = node.children[i];\n                var result = evaluate(child, item, idx);\n\n                if (result.length) {\n                  res.push.apply(res, _toConsumableArray(result));\n                } else {\n                  return [];\n                }\n              }\n\n              return res;\n            }\n\n          case LogicalOperator.OR:\n            {\n              var _res = [];\n\n              for (var _i = 0, _len = node.children.length; _i < _len; _i += 1) {\n                var _child = node.children[_i];\n\n                var _result = evaluate(_child, item, idx);\n\n                if (_result.length) {\n                  _res.push.apply(_res, _toConsumableArray(_result));\n\n                  break;\n                }\n              }\n\n              return _res;\n            }\n        }\n      };\n\n      var records = this._myIndex.records;\n      var resultMap = {};\n      var results = [];\n      records.forEach(function (_ref3) {\n        var item = _ref3.$,\n            idx = _ref3.i;\n\n        if (isDefined(item)) {\n          var expResults = evaluate(expression, item, idx);\n\n          if (expResults.length) {\n            // Dedupe when adding\n            if (!resultMap[idx]) {\n              resultMap[idx] = {\n                idx: idx,\n                item: item,\n                matches: []\n              };\n              results.push(resultMap[idx]);\n            }\n\n            expResults.forEach(function (_ref4) {\n              var _resultMap$idx$matche;\n\n              var matches = _ref4.matches;\n\n              (_resultMap$idx$matche = resultMap[idx].matches).push.apply(_resultMap$idx$matche, _toConsumableArray(matches));\n            });\n          }\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"_searchObjectList\",\n    value: function _searchObjectList(query) {\n      var _this2 = this;\n\n      var searcher = createSearcher(query, this.options);\n      var _this$_myIndex = this._myIndex,\n          keys = _this$_myIndex.keys,\n          records = _this$_myIndex.records;\n      var results = []; // List is Array<Object>\n\n      records.forEach(function (_ref5) {\n        var item = _ref5.$,\n            idx = _ref5.i;\n\n        if (!isDefined(item)) {\n          return;\n        }\n\n        var matches = []; // Iterate over every key (i.e, path), and fetch the value at that key\n\n        keys.forEach(function (key, keyIndex) {\n          matches.push.apply(matches, _toConsumableArray(_this2._findMatches({\n            key: key,\n            value: item[keyIndex],\n            searcher: searcher\n          })));\n        });\n\n        if (matches.length) {\n          results.push({\n            idx: idx,\n            item: item,\n            matches: matches\n          });\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"_findMatches\",\n    value: function _findMatches(_ref6) {\n      var key = _ref6.key,\n          value = _ref6.value,\n          searcher = _ref6.searcher;\n\n      if (!isDefined(value)) {\n        return [];\n      }\n\n      var matches = [];\n\n      if (isArray(value)) {\n        value.forEach(function (_ref7) {\n          var text = _ref7.v,\n              idx = _ref7.i,\n              norm = _ref7.n;\n\n          if (!isDefined(text)) {\n            return;\n          }\n\n          var _searcher$searchIn2 = searcher.searchIn(text),\n              isMatch = _searcher$searchIn2.isMatch,\n              score = _searcher$searchIn2.score,\n              indices = _searcher$searchIn2.indices;\n\n          if (isMatch) {\n            matches.push({\n              score: score,\n              key: key,\n              value: text,\n              idx: idx,\n              norm: norm,\n              indices: indices\n            });\n          }\n        });\n      } else {\n        var text = value.v,\n            norm = value.n;\n\n        var _searcher$searchIn3 = searcher.searchIn(text),\n            isMatch = _searcher$searchIn3.isMatch,\n            score = _searcher$searchIn3.score,\n            indices = _searcher$searchIn3.indices;\n\n        if (isMatch) {\n          matches.push({\n            score: score,\n            key: key,\n            value: text,\n            norm: norm,\n            indices: indices\n          });\n        }\n      }\n\n      return matches;\n    }\n  }]);\n\n  return Fuse;\n}();\n\nFuse.version = '6.4.6';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nmodule.exports = Fuse;\n", "// Fallback locale.\r\n// (when not a single one of the supplied \"preferred\" locales is available)\r\nlet defaultLocale = 'en'\r\n\r\n// For all locales added\r\n// their relative time formatter messages will be stored here.\r\nconst localesData = {}\r\n\r\n// According to the spec BCP 47 language tags are case-insensitive.\r\n// https://tools.ietf.org/html/rfc5646\r\nconst lowercaseLocaleLookup = {}\r\n\r\nexport function getDefaultLocale() {\r\n  return defaultLocale\r\n}\r\n\r\nexport function setDefaultLocale(locale) {\r\n  defaultLocale = locale\r\n}\r\n\r\n/**\r\n * Gets locale data previously added by `addLocaleData()`.\r\n * @return  {object} [localeData]\r\n */\r\nexport function getLocaleData(locale) {\r\n\treturn localesData[locale]\r\n}\r\n\r\n/**\r\n * Adds locale data.\r\n * Is called by `RelativeTimeFormat.addLocale(...)`.\r\n * @param  {object} localeData\r\n */\r\nexport function addLocaleData(localeData) {\r\n  if (!localeData) {\r\n    throw new Error('No locale data passed')\r\n  }\r\n  // This locale data is stored in a global variable\r\n  // and later used when calling `.format(time)`.\r\n  localesData[localeData.locale] = localeData\r\n  lowercaseLocaleLookup[localeData.locale.toLowerCase()] = localeData.locale\r\n}\r\n\r\n/**\r\n * Returns a locale for which locale data has been added\r\n * via `RelativeTimeFormat.addLocale(...)`.\r\n * @param  {string} locale\r\n * @return {string} [locale]\r\n */\r\nexport function resolveLocale(locale) {\r\n\tif (localesData[locale]) {\r\n\t\treturn locale\r\n\t}\r\n\tif (lowercaseLocaleLookup[locale.toLowerCase()]) {\r\n\t\treturn lowercaseLocaleLookup[locale.toLowerCase()]\r\n\t}\r\n}", "import {\r\n  resolveLocale as resolveLocaleForData\r\n} from './LocaleDataStore'\r\n\r\n/**\r\n * Resolves a locale to a supported one (if any).\r\n * @param  {string} locale\r\n * @param {Object} [options] - An object that may have the following property:\r\n * @param {string} [options.localeMatcher=\"lookup\"] - The locale matching algorithm to use. Possible values are \"lookup\" and \"best fit\". Currently only \"lookup\" is supported.\r\n * @return {string} [locale]\r\n * @example\r\n * // Returns \"sr\"\r\n * resolveLocale(\"sr-Cyrl-BA\")\r\n * // Returns `undefined`\r\n * resolveLocale(\"xx-Latn\")\r\n */\r\nexport default function resolveLocale(locale, options = {}) {\r\n  const localeMatcher = options.localeMatcher || 'lookup'\r\n  switch (localeMatcher) {\r\n    case 'lookup':\r\n      return resolveLocaleLookup(locale)\r\n    // \"best fit\" locale matching is not supported.\r\n    // https://github.com/catamphetamine/relative-time-format/issues/2\r\n    case 'best fit':\r\n      // return resolveLocaleBestFit(locale)\r\n      return resolveLocaleLookup(locale)\r\n    default:\r\n      throw new RangeError(`Invalid \"localeMatcher\" option: ${localeMatcher}`)\r\n  }\r\n}\r\n\r\n/**\r\n * Resolves a locale to a supported one (if any).\r\n * Starts from the most specific locale and gradually\r\n * falls back to less specific ones.\r\n * This is a basic implementation of the \"lookup\" algorithm.\r\n * https://tools.ietf.org/html/rfc4647#section-3.4\r\n * @param  {string} locale\r\n * @return {string} [locale]\r\n * @example\r\n * // Returns \"sr\"\r\n * resolveLocaleLookup(\"sr-Cyrl-BA\")\r\n * // Returns `undefined`\r\n * resolveLocaleLookup(\"xx-Latn\")\r\n */\r\nexport function resolveLocaleLookup(locale) {\r\n  const resolvedLocale = resolveLocaleForData(locale)\r\n  if (resolvedLocale) {\r\n    return resolvedLocale\r\n  }\r\n  // `sr-Cyrl-BA` -> `sr-Cyrl` -> `sr`.\r\n  const parts = locale.split('-')\r\n  while (locale.length > 1) {\r\n    parts.pop()\r\n    locale = parts.join('-')\r\n    const resolvedLocale = resolveLocaleForData(locale)\r\n    if (resolvedLocale) {\r\n      return resolvedLocale\r\n    }\r\n  }\r\n}\r\n", "// (this file was autogenerated by `generate-locales`)\n// \"plural rules\" functions are not stored in locale JSON files because they're not strings.\n// This file isn't big \u2014 it's about 5 kilobytes in size (minified).\n// Alternatively, the pluralization rules for each locale could be stored\n// in their JSON files in a non-parsed form and later parsed via `make-plural` library.\n// But `make-plural` library itself is relatively big in size:\n// `make-plural.min.js` is about 6 kilobytes (https://unpkg.com/make-plural/).\n// So, it's more practical to bypass runtime `make-plural` pluralization rules compilation\n// and just include the already compiled pluarlization rules for all locales in the library code.\n\nvar $ = {\n\taf: (n) => n == 1 ? 'one' : 'other',\n\tam: (n) => n >= 0 && n <= 1 ? 'one' : 'other',\n\tar: (n) => {\n\t\tconst s = String(n).split('.'), t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n\t\treturn n == 0 ? 'zero'\n\t\t\t: n == 1 ? 'one'\n\t\t\t: n == 2 ? 'two'\n\t\t\t: (n100 >= 3 && n100 <= 10) ? 'few'\n\t\t\t: (n100 >= 11 && n100 <= 99) ? 'many'\n\t\t\t: 'other';\n\t},\n\tast: (n) => {\n\t\tconst s = String(n).split('.'), v0 = !s[1];\n\t\treturn n == 1 && v0 ? 'one' : 'other';\n\t},\n\tbe: (n) => {\n\t\tconst s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n\t\treturn n10 == 1 && n100 != 11 ? 'one'\n\t\t\t: (n10 >= 2 && n10 <= 4) && (n100 < 12 || n100 > 14) ? 'few'\n\t\t\t: t0 && n10 == 0 || (n10 >= 5 && n10 <= 9) || (n100 >= 11 && n100 <= 14) ? 'many'\n\t\t\t: 'other';\n\t},\n\tbr: (n) => {\n\t\tconst s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2), n1000000 = t0 && s[0].slice(-6);\n\t\treturn n10 == 1 && n100 != 11 && n100 != 71 && n100 != 91 ? 'one'\n\t\t\t: n10 == 2 && n100 != 12 && n100 != 72 && n100 != 92 ? 'two'\n\t\t\t: ((n10 == 3 || n10 == 4) || n10 == 9) && (n100 < 10 || n100 > 19) && (n100 < 70 || n100 > 79) && (n100 < 90 || n100 > 99) ? 'few'\n\t\t\t: n != 0 && t0 && n1000000 == 0 ? 'many'\n\t\t\t: 'other';\n\t},\n\tbs: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n\t\treturn v0 && i10 == 1 && i100 != 11 || f10 == 1 && f100 != 11 ? 'one'\n\t\t\t: v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) || (f10 >= 2 && f10 <= 4) && (f100 < 12 || f100 > 14) ? 'few'\n\t\t\t: 'other';\n\t},\n\tceb: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), f10 = f.slice(-1);\n\t\treturn v0 && (i == 1 || i == 2 || i == 3) || v0 && i10 != 4 && i10 != 6 && i10 != 9 || !v0 && f10 != 4 && f10 != 6 && f10 != 9 ? 'one' : 'other';\n\t},\n\tcs: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], v0 = !s[1];\n\t\treturn n == 1 && v0 ? 'one'\n\t\t\t: (i >= 2 && i <= 4) && v0 ? 'few'\n\t\t\t: !v0 ? 'many'\n\t\t\t: 'other';\n\t},\n\tcy: (n) => n == 0 ? 'zero'\n\t\t\t: n == 1 ? 'one'\n\t\t\t: n == 2 ? 'two'\n\t\t\t: n == 3 ? 'few'\n\t\t\t: n == 6 ? 'many'\n\t\t\t: 'other',\n\tda: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n;\n\t\treturn n == 1 || !t0 && (i == 0 || i == 1) ? 'one' : 'other';\n\t},\n\tdsb: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i100 = i.slice(-2), f100 = f.slice(-2);\n\t\treturn v0 && i100 == 1 || f100 == 1 ? 'one'\n\t\t\t: v0 && i100 == 2 || f100 == 2 ? 'two'\n\t\t\t: v0 && (i100 == 3 || i100 == 4) || (f100 == 3 || f100 == 4) ? 'few'\n\t\t\t: 'other';\n\t},\n\tdz: (n) => 'other',\n\tff: (n) => n >= 0 && n < 2 ? 'one' : 'other',\n\tfr: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], v0 = !s[1], i1000000 = i.slice(-6);\n\t\treturn n >= 0 && n < 2 ? 'one'\n\t\t\t: i != 0 && i1000000 == 0 && v0 ? 'many'\n\t\t\t: 'other';\n\t},\n\tga: (n) => {\n\t\tconst s = String(n).split('.'), t0 = Number(s[0]) == n;\n\t\treturn n == 1 ? 'one'\n\t\t\t: n == 2 ? 'two'\n\t\t\t: (t0 && n >= 3 && n <= 6) ? 'few'\n\t\t\t: (t0 && n >= 7 && n <= 10) ? 'many'\n\t\t\t: 'other';\n\t},\n\tgd: (n) => {\n\t\tconst s = String(n).split('.'), t0 = Number(s[0]) == n;\n\t\treturn (n == 1 || n == 11) ? 'one'\n\t\t\t: (n == 2 || n == 12) ? 'two'\n\t\t\t: ((t0 && n >= 3 && n <= 10) || (t0 && n >= 13 && n <= 19)) ? 'few'\n\t\t\t: 'other';\n\t},\n\the: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1);\n\t\treturn n == 1 && v0 ? 'one'\n\t\t\t: i == 2 && v0 ? 'two'\n\t\t\t: v0 && (n < 0 || n > 10) && t0 && n10 == 0 ? 'many'\n\t\t\t: 'other';\n\t},\n\tis: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n, i10 = i.slice(-1), i100 = i.slice(-2);\n\t\treturn t0 && i10 == 1 && i100 != 11 || !t0 ? 'one' : 'other';\n\t},\n\tksh: (n) => n == 0 ? 'zero'\n\t\t\t: n == 1 ? 'one'\n\t\t\t: 'other',\n\tlt: (n) => {\n\t\tconst s = String(n).split('.'), f = s[1] || '', t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n\t\treturn n10 == 1 && (n100 < 11 || n100 > 19) ? 'one'\n\t\t\t: (n10 >= 2 && n10 <= 9) && (n100 < 11 || n100 > 19) ? 'few'\n\t\t\t: f != 0 ? 'many'\n\t\t\t: 'other';\n\t},\n\tlv: (n) => {\n\t\tconst s = String(n).split('.'), f = s[1] || '', v = f.length, t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n\t\treturn t0 && n10 == 0 || (n100 >= 11 && n100 <= 19) || v == 2 && (f100 >= 11 && f100 <= 19) ? 'zero'\n\t\t\t: n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11 || v != 2 && f10 == 1 ? 'one'\n\t\t\t: 'other';\n\t},\n\tmk: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n\t\treturn v0 && i10 == 1 && i100 != 11 || f10 == 1 && f100 != 11 ? 'one' : 'other';\n\t},\n\tmt: (n) => {\n\t\tconst s = String(n).split('.'), t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n\t\treturn n == 1 ? 'one'\n\t\t\t: n == 0 || (n100 >= 2 && n100 <= 10) ? 'few'\n\t\t\t: (n100 >= 11 && n100 <= 19) ? 'many'\n\t\t\t: 'other';\n\t},\n\tpa: (n) => (n == 0 || n == 1) ? 'one' : 'other',\n\tpl: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2);\n\t\treturn n == 1 && v0 ? 'one'\n\t\t\t: v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) ? 'few'\n\t\t\t: v0 && i != 1 && (i10 == 0 || i10 == 1) || v0 && (i10 >= 5 && i10 <= 9) || v0 && (i100 >= 12 && i100 <= 14) ? 'many'\n\t\t\t: 'other';\n\t},\n\tpt: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0];\n\t\treturn (i == 0 || i == 1) ? 'one' : 'other';\n\t},\n\tro: (n) => {\n\t\tconst s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n\t\treturn n == 1 && v0 ? 'one'\n\t\t\t: !v0 || n == 0 || (n100 >= 2 && n100 <= 19) ? 'few'\n\t\t\t: 'other';\n\t},\n\tru: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2);\n\t\treturn v0 && i10 == 1 && i100 != 11 ? 'one'\n\t\t\t: v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) ? 'few'\n\t\t\t: v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9) || v0 && (i100 >= 11 && i100 <= 14) ? 'many'\n\t\t\t: 'other';\n\t},\n\tse: (n) => n == 1 ? 'one'\n\t\t\t: n == 2 ? 'two'\n\t\t\t: 'other',\n\tsi: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], f = s[1] || '';\n\t\treturn (n == 0 || n == 1) || i == 0 && f == 1 ? 'one' : 'other';\n\t},\n\tsl: (n) => {\n\t\tconst s = String(n).split('.'), i = s[0], v0 = !s[1], i100 = i.slice(-2);\n\t\treturn v0 && i100 == 1 ? 'one'\n\t\t\t: v0 && i100 == 2 ? 'two'\n\t\t\t: v0 && (i100 == 3 || i100 == 4) || !v0 ? 'few'\n\t\t\t: 'other';\n\t}\n}\n\n$.as = $.am\n$.az = $.af\n$.bg = $.af\n$.bn = $.am\n$.ca = $.ast\n$.ce = $.af\n$.chr = $.af\n$.de = $.ast\n$.ee = $.af\n$.el = $.af\n$.en = $.ast\n$.es = $.af\n$.et = $.ast\n$.eu = $.af\n$.fa = $.am\n$.fi = $.ast\n$.fil = $.ceb\n$.fo = $.af\n$.fur = $.af\n$.fy = $.ast\n$.gl = $.ast\n$.gu = $.am\n$.ha = $.af\n$.hi = $.am\n$.hr = $.bs\n$.hsb = $.dsb\n$.hu = $.af\n$.hy = $.ff\n$.ia = $.ast\n$.id = $.dz\n$.ig = $.dz\n$.it = $.ast\n$.ja = $.dz\n$.jgo = $.af\n$.jv = $.dz\n$.ka = $.af\n$.kea = $.dz\n$.kk = $.af\n$.kl = $.af\n$.km = $.dz\n$.kn = $.am\n$.ko = $.dz\n$.ku = $.af\n$.ky = $.af\n$.lb = $.af\n$.lkt = $.dz\n$.lo = $.dz\n$.ml = $.af\n$.mn = $.af\n$.mr = $.af\n$.ms = $.dz\n$.my = $.dz\n$.nb = $.af\n$.ne = $.af\n$.nl = $.ast\n$.nn = $.af\n$.no = $.af\n$.or = $.af\n$.pcm = $.am\n$.ps = $.af\n$.rm = $.af\n$.sah = $.dz\n$.sd = $.af\n$.sk = $.cs\n$.so = $.af\n$.sq = $.af\n$.sr = $.bs\n$.su = $.dz\n$.sv = $.ast\n$.sw = $.ast\n$.ta = $.af\n$.te = $.af\n$.th = $.dz\n$.ti = $.pa\n$.tk = $.af\n$.to = $.dz\n$.tr = $.af\n$.ug = $.af\n$.uk = $.ru\n$.ur = $.ast\n$.uz = $.af\n$.vi = $.dz\n$.wae = $.af\n$.wo = $.dz\n$.yi = $.ast\n$.yo = $.dz\n$.yue = $.dz\n$.zh = $.dz\n$.zu = $.am\n\nexport default $", "/**\r\n * Returns a `locale` for which a function exists in `./PluralRuleFunctions.js`.\r\n * @param  {string} locale\r\n * @return {string}\r\n * @example\r\n * getPluralRulesLocale(\"ru-RU-Cyrl\") // Returns \"ru\".\r\n */\r\nexport default function getPluralRulesLocale(locale) {\r\n\t// \"pt\" language is the only one having different pluralization rules\r\n\t// for the one (\"pt\") (Portuguese) locale and the other (\"pt-PT\") (European Portuguese).\r\n\t// http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html\r\n\t// (see the entries for \"pt\" and \"pt_PT\" there)\r\n\tif (locale === 'pt-PT') {\r\n\t\treturn locale\r\n\t}\r\n\treturn getLanguageFromLanguageTag(locale)\r\n}\r\n\r\n/**\r\n * Extracts language from an IETF BCP 47 language tag.\r\n * @param {string} languageTag - IETF BCP 47 language tag.\r\n * @return {string}\r\n * @example\r\n * // Returns \"he\"\r\n * getLanguageFromLanguageTag(\"he-IL-u-ca-hebrew-tz-jeruslm\")\r\n * // Returns \"ar\"\r\n * getLanguageFromLanguageTag(\"ar-u-nu-latn\")\r\n */\r\nconst LANGUAGE_REG_EXP = /^([a-z0-9]+)/i\r\nfunction getLanguageFromLanguageTag(languageTag) {\r\n\tconst match = languageTag.match(LANGUAGE_REG_EXP)\r\n\tif (!match) {\r\n\t\tthrow new TypeError(`Invalid locale: ${languageTag}`)\r\n\t}\r\n\treturn match[1]\r\n}\r\n", "// Importing `PluralRule` polyfill from a separate package\r\n// results in a bundle that is larger by 1kB for some reason.\r\n// export { default as default } from 'intl-plural-rules-polyfill/cardinal'\r\n\r\nimport PluralRuleFunctions from \"./PluralRuleFunctions\"\r\nimport getPluralRulesLocale from \"./getPluralRulesLocale\"\r\n\r\n/**\r\n * `Intl.PluralRules` polyfill.\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/PluralRules\r\n */\r\nexport default class PluralRules {\r\n\tconstructor(locale, options) {\r\n\t\tconst locales = PluralRules.supportedLocalesOf(locale)\r\n\t\tif (locales.length === 0) {\r\n\t\t\tthrow new RangeError(\"Unsupported locale: \" + locale)\r\n\t\t}\r\n\t\tif (options && options.type !== \"cardinal\") {\r\n\t\t\tthrow new RangeError(\"Only \\\"cardinal\\\" \\\"type\\\" is supported\")\r\n\t\t}\r\n\t\tthis.$ = PluralRuleFunctions[getPluralRulesLocale(locales[0])]\r\n\t}\r\n\tselect(number) {\r\n\t\treturn this.$(number)\r\n\t}\r\n\tstatic supportedLocalesOf(locales) {\r\n\t\tif (typeof locales === \"string\") {\r\n\t\t\tlocales = [locales]\r\n\t\t}\r\n\t\treturn locales.filter(locale => PluralRuleFunctions[getPluralRulesLocale(locale)])\r\n\t}\r\n}", "import {\r\n  getDefaultLocale,\r\n  setDefaultLocale,\r\n  getLocaleData,\r\n  addLocaleData\r\n} from './LocaleDataStore'\r\n\r\nimport resolveLocale from './resolveLocale'\r\nimport PluralRules from './PluralRules'\r\n// Importing `PluralRule` polyfill from a separate package\r\n// results in a bundle that is larger by 1kB for some reason.\r\n// import PluralRules from 'intl-plural-rules-polyfill/cardinal'\r\n\r\n// Valid time units.\r\nexport const UNITS = [\r\n  \"second\",\r\n  \"minute\",\r\n  \"hour\",\r\n  \"day\",\r\n  \"week\",\r\n  \"month\",\r\n  \"quarter\",\r\n  \"year\"\r\n]\r\n\r\n// Valid values for the `numeric` option.\r\nconst NUMERIC_VALUES = [\r\n  \"auto\",\r\n  \"always\"\r\n]\r\n\r\n// Valid values for the `style` option.\r\nconst STYLE_VALUES = [\r\n  \"long\",\r\n  \"short\",\r\n  \"narrow\"\r\n]\r\n\r\n// Valid values for the `localeMatcher` option.\r\nconst LOCALE_MATCHER_VALUES = [\r\n  \"lookup\",\r\n  \"best fit\"\r\n]\r\n\r\n/**\r\n * Polyfill for `Intl.RelativeTimeFormat` proposal.\r\n * https://github.com/tc39/proposal-intl-relative-time\r\n * https://github.com/tc39/proposal-intl-relative-time/issues/55\r\n */\r\nexport default class RelativeTimeFormat {\r\n  numeric = \"always\"\r\n  style = \"long\"\r\n  localeMatcher = \"lookup\"\r\n\r\n  /**\r\n   * @param {(string|string[])} [locales] - Preferred locales (or locale).\r\n   * @param {Object} [options] - Formatting options.\r\n   * @param {string} [options.style=\"long\"] - One of: \"long\", \"short\", \"narrow\".\r\n   * @param {string} [options.numeric=\"always\"] - (Version >= 2) One of: \"always\", \"auto\".\r\n   * @param {string} [options.localeMatcher=\"lookup\"] - One of: \"lookup\", \"best fit\". Currently only \"lookup\" is supported.\r\n   * @param {boolean} [options.styleFallback] - If \"style\" is missing from locale data then fall back to an existing one (for example, \"long\"). Is used in `javascript-time-ago`.\r\n   */\r\n  constructor(locales = [], options = {}) {\r\n    const {\r\n      numeric,\r\n      style,\r\n      styleFallback,\r\n      localeMatcher\r\n    } = options\r\n\r\n    // Set `numeric` option.\r\n    if (numeric !== undefined) {\r\n      if (NUMERIC_VALUES.indexOf(numeric) < 0) {\r\n        throw new RangeError(`Invalid \"numeric\" option: ${numeric}`)\r\n      }\r\n      this.numeric = numeric\r\n    }\r\n\r\n    // Set `style` option.\r\n    if (style !== undefined) {\r\n      if (STYLE_VALUES.indexOf(style) < 0 && !styleFallback) {\r\n        throw new RangeError(`Invalid \"style\" option: ${style}`)\r\n      }\r\n      this.style = style\r\n    }\r\n\r\n    // Set `localeMatcher` option.\r\n    if (localeMatcher !== undefined) {\r\n      if (LOCALE_MATCHER_VALUES.indexOf(localeMatcher) < 0) {\r\n        throw new RangeError(`Invalid \"localeMatcher\" option: ${localeMatcher}`)\r\n      }\r\n      this.localeMatcher = localeMatcher\r\n    }\r\n\r\n    // Set `locale`.\r\n    // Convert `locales` to an array.\r\n    if (typeof locales === 'string') {\r\n      locales = [locales]\r\n    }\r\n    // Add default locale.\r\n    locales.push(getDefaultLocale())\r\n    // Choose the most appropriate locale.\r\n    this.locale = RelativeTimeFormat.supportedLocalesOf(locales, {\r\n      localeMatcher: this.localeMatcher\r\n    })[0]\r\n    if (!this.locale) {\r\n      throw new Error(\"No supported locale was found\")\r\n    }\r\n\r\n    // Construct an `Intl.PluralRules` instance (polyfill).\r\n    if (PluralRules.supportedLocalesOf(this.locale).length > 0) {\r\n      this.pluralRules = new PluralRules(this.locale)\r\n    } else {\r\n      console.warn(`\"${this.locale}\" locale is not supported`)\r\n    }\r\n\r\n    // Use `Intl.NumberFormat` for formatting numbers (when available).\r\n    if (typeof Intl !== 'undefined' && Intl.NumberFormat) {\r\n      this.numberFormat = new Intl.NumberFormat(this.locale)\r\n      this.numberingSystem = this.numberFormat.resolvedOptions().numberingSystem\r\n    } else {\r\n      this.numberingSystem = 'latn'\r\n    }\r\n\r\n    this.locale = resolveLocale(this.locale, {\r\n      localeMatcher: this.localeMatcher\r\n    })\r\n\r\n    // Fall back to another style if `style` is not supported for the `locale`.\r\n    if (styleFallback) {\r\n      const styles = Object.keys(getLocaleData(this.locale))\r\n      for (const style of [this.style, ...STYLE_VALUES, styles[0]]) {\r\n        if (styles.indexOf(style) >= 0) {\r\n          this.style = style\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Formats time `number` in `units` (either in past or in future).\r\n   * @param {number} number - Time interval value.\r\n   * @param {string} unit - Time interval measurement unit.\r\n   * @return {string}\r\n   * @throws {RangeError} If unit is not one of \"second\", \"minute\", \"hour\", \"day\", \"week\", \"month\", \"quarter\".\r\n   * @example\r\n   * // Returns \"2 days ago\"\r\n   * rtf.format(-2, \"day\")\r\n   * // Returns \"in 5 minutes\"\r\n   * rtf.format(5, \"minute\")\r\n   */\r\n  format() {\r\n    const [number, unit] = parseFormatArgs(arguments)\r\n    return this.getRule(number, unit).replace('{0}', this.formatNumber(Math.abs(number)))\r\n  }\r\n\r\n  /**\r\n   * Formats time `number` in `units` (either in past or in future).\r\n   * @param {number} number - Time interval value.\r\n   * @param {string} unit - Time interval measurement unit.\r\n   * @return {Object[]} The parts (`{ type, value, unit? }`).\r\n   * @throws {RangeError} If unit is not one of \"second\", \"minute\", \"hour\", \"day\", \"week\", \"month\", \"quarter\".\r\n   * @example\r\n   * // Version 1 (deprecated).\r\n   * // Returns [\r\n   * //   { type: \"literal\", value: \"in \" },\r\n   * //   { type: \"day\", value: \"100\" },\r\n   * //   { type: \"literal\", value: \" days\" }\r\n   * // ]\r\n   * rtf.formatToParts(100, \"day\")\r\n   * //\r\n   * // Version 2.\r\n   * // Returns [\r\n   * //   { type: \"literal\", value: \"in \" },\r\n   * //   { type: \"integer\", value: \"100\", unit: \"day\" },\r\n   * //   { type: \"literal\", value: \" days\" }\r\n   * // ]\r\n   * rtf.formatToParts(100, \"day\")\r\n   */\r\n  formatToParts() {\r\n    const [number, unit] = parseFormatArgs(arguments)\r\n    const rule = this.getRule(number, unit)\r\n    const valueIndex = rule.indexOf(\"{0}\")\r\n    // \"yesterday\"/\"today\"/\"tomorrow\".\r\n    if (valueIndex < 0) {\r\n      return [{\r\n        type: \"literal\",\r\n        value: rule\r\n      }]\r\n    }\r\n    let parts = []\r\n    if (valueIndex > 0) {\r\n      parts.push({\r\n        type: \"literal\",\r\n        value: rule.slice(0, valueIndex)\r\n      })\r\n    }\r\n    parts = parts.concat(\r\n      this.formatNumberToParts(Math.abs(number))\r\n        .map(part => ({ ...part, unit }))\r\n    )\r\n    if (valueIndex + \"{0}\".length < rule.length - 1) {\r\n      parts.push({\r\n        type: \"literal\",\r\n        value: rule.slice(valueIndex + \"{0}\".length)\r\n      })\r\n    }\r\n    return parts\r\n  }\r\n\r\n  /**\r\n   * Returns formatting rule for `value` in `units` (either in past or in future).\r\n   * @param {number} value - Time interval value.\r\n   * @param {string} unit - Time interval measurement unit.\r\n   * @return {string}\r\n   * @throws {RangeError} If unit is not one of \"second\", \"minute\", \"hour\", \"day\", \"week\", \"month\", \"quarter\".\r\n   * @example\r\n   * // Returns \"{0} days ago\"\r\n   * getRule(-2, \"day\")\r\n   */\r\n  getRule(value, unit) {\r\n    // Get locale-specific time interval formatting rules\r\n    // of a given `style` for the given value of measurement `unit`.\r\n    //\r\n    // E.g.:\r\n    //\r\n    // ```json\r\n    // {\r\n    //  \"past\": {\r\n    //    \"one\": \"a second ago\",\r\n    //    \"other\": \"{0} seconds ago\"\r\n    //  },\r\n    //  \"future\": {\r\n    //    \"one\": \"in a second\",\r\n    //    \"other\": \"in {0} seconds\"\r\n    //  }\r\n    // }\r\n    // ```\r\n    //\r\n    const unitMessages = getLocaleData(this.locale)[this.style][unit]\r\n    // Bundle size optimization technique for styles like\r\n    // \"tiny\" in `javascript-time-ago`: \"1m\", \"2h\", \"3d\"...\r\n    if (typeof unitMessages === 'string') {\r\n      return unitMessages\r\n    }\r\n    // Special case for \"yesterday\"/\"today\"/\"tomorrow\".\r\n    if (this.numeric === \"auto\") {\r\n      // \"yesterday\", \"the day before yesterday\", etc.\r\n      if (value === -2 || value === -1) {\r\n        const message = unitMessages[`previous${value === -1 ? '' : '-' + Math.abs(value)}`]\r\n        if (message) {\r\n          return message\r\n        }\r\n      }\r\n      // \"tomorrow\", \"the day after tomorrow\", etc.\r\n      else if (value === 1 || value === 2) {\r\n        const message = unitMessages[`next${value === 1 ? '' : '-' + Math.abs(value)}`]\r\n        if (message) {\r\n          return message\r\n        }\r\n      }\r\n      // \"today\"\r\n      else if (value === 0) {\r\n        if (unitMessages.current) {\r\n          return unitMessages.current\r\n        }\r\n      }\r\n    }\r\n    // Choose either \"past\" or \"future\" based on time `value` sign.\r\n    // If there's only \"other\" then it's being collapsed.\r\n    // (the resulting bundle size optimization technique)\r\n    const pluralizedMessages = unitMessages[isNegative(value) ? \"past\" : \"future\"]\r\n    // Bundle size optimization technique for styles like \"narrow\"\r\n    // having messages like \"in {0} d.\" or \"{0} d. ago\".\r\n    if (typeof pluralizedMessages === \"string\") {\r\n      return pluralizedMessages\r\n    }\r\n    // Quantify `value`.\r\n    // There seems to be no such locale in CLDR\r\n    // for which \"plural rules\" function is missing.\r\n    const quantifier = this.pluralRules && this.pluralRules.select(Math.abs(value)) || 'other'\r\n    // \"other\" rule is supposed to be always present.\r\n    // If only \"other\" rule is present then \"rules\" is not an object and is a string.\r\n    return pluralizedMessages[quantifier] || pluralizedMessages.other\r\n  }\r\n\r\n  /**\r\n   * Formats a number into a string.\r\n   * Uses `Intl.NumberFormat` when available.\r\n   * @param  {number} number\r\n   * @return {string}\r\n   */\r\n  formatNumber(number) {\r\n    return this.numberFormat ? this.numberFormat.format(number) : String(number)\r\n  }\r\n\r\n  /**\r\n   * Formats a number into a list of parts.\r\n   * Uses `Intl.NumberFormat` when available.\r\n   * @param  {number} number\r\n   * @return {object[]}\r\n   */\r\n  formatNumberToParts(number) {\r\n    // `Intl.NumberFormat.formatToParts()` is not present, for example,\r\n    // in Node.js 8.x while `Intl.NumberFormat` itself is present.\r\n    return this.numberFormat && this.numberFormat.formatToParts ?\r\n      this.numberFormat.formatToParts(number) :\r\n      [{\r\n        type: \"integer\",\r\n        value: this.formatNumber(number)\r\n      }]\r\n  }\r\n\r\n  /**\r\n   * Returns a new object with properties reflecting the locale and date and time formatting options computed during initialization of this DateTimeFormat object.\r\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/resolvedOptions\r\n   * @return {Object}\r\n   */\r\n  resolvedOptions() {\r\n    return {\r\n      locale: this.locale,\r\n      style: this.style,\r\n      numeric: this.numeric,\r\n      numberingSystem: this.numberingSystem\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Returns an array containing those of the provided locales\r\n * that are supported in collation without having to fall back\r\n * to the runtime's default locale.\r\n * @param {(string|string[])} locale - A string with a BCP 47 language tag, or an array of such strings. For the general form of the locales argument, see the Intl page.\r\n * @param {Object} [options] - An object that may have the following property:\r\n * @param {string} [options.localeMatcher=\"lookup\"] - The locale matching algorithm to use. Possible values are \"lookup\" and \"best fit\". Currently only \"lookup\" is supported.\r\n * @return {string[]} An array of strings representing a subset of the given locale tags that are supported in collation without having to fall back to the runtime's default locale.\r\n * @example\r\n * var locales = ['ban', 'id-u-co-pinyin', 'es-PY']\r\n * var options = { localeMatcher: 'lookup' }\r\n * // Returns [\"id\", \"es-PY\"]\r\n * Intl.RelativeTimeFormat.supportedLocalesOf(locales, options)\r\n */\r\nRelativeTimeFormat.supportedLocalesOf = function(locales, options = {}) {\r\n  // Convert `locales` to an array.\r\n  if (typeof locales === 'string') {\r\n    locales = [locales]\r\n  } else if (!Array.isArray(locales)) {\r\n    throw new TypeError('Invalid \"locales\" argument')\r\n  }\r\n  return locales.filter(locale => resolveLocale(locale, options))\r\n}\r\n\r\n/**\r\n * Adds locale data for a specific locale.\r\n * @param {Object} localeData\r\n */\r\nRelativeTimeFormat.addLocale = addLocaleData\r\n\r\n/**\r\n * Sets default locale.\r\n * @param  {string} locale\r\n */\r\nRelativeTimeFormat.setDefaultLocale = setDefaultLocale\r\n\r\n/**\r\n * Gets default locale.\r\n * @return  {string} locale\r\n */\r\nRelativeTimeFormat.getDefaultLocale = getDefaultLocale\r\n\r\n/**\r\n * Export `Intl.PluralRules` just in case it's used somewhere else.\r\n */\r\nRelativeTimeFormat.PluralRules = PluralRules\r\n\r\n// The specification allows units to be in plural form.\r\n// Convert plural to singular.\r\n// Example: \"seconds\" -> \"second\".\r\nconst UNIT_ERROR = 'Invalid \"unit\" argument'\r\nfunction parseUnit(unit) {\r\n  if (typeof unit === 'symbol') {\r\n    throw new TypeError(UNIT_ERROR)\r\n  }\r\n  if (typeof unit !== 'string') {\r\n    throw new RangeError(`${UNIT_ERROR}: ${unit}`)\r\n  }\r\n  if (unit[unit.length - 1] === 's') {\r\n    unit = unit.slice(0, unit.length - 1)\r\n  }\r\n  if (UNITS.indexOf(unit) < 0) {\r\n    throw new RangeError(`${UNIT_ERROR}: ${unit}`)\r\n  }\r\n  return unit\r\n}\r\n\r\n// Converts `value` to a `Number`.\r\n// The specification allows value to be a non-number.\r\n// For example, \"-0\" is supposed to be treated as `-0`.\r\n// Also checks if `value` is a finite number.\r\nconst NUMBER_ERROR = 'Invalid \"number\" argument'\r\nfunction parseNumber(value) {\r\n  value = Number(value)\r\n  if (Number.isFinite) {\r\n    if (!Number.isFinite(value)) {\r\n      throw new RangeError(`${NUMBER_ERROR}: ${value}`)\r\n    }\r\n  }\r\n  return value\r\n}\r\n\r\n/**\r\n * Tells `0` from `-0`.\r\n * https://stackoverflow.com/questions/7223359/are-0-and-0-the-same\r\n * @param  {number} number\r\n * @return {Boolean}\r\n * @example\r\n * isNegativeZero(0); // false\r\n * isNegativeZero(-0); // true\r\n */\r\nfunction isNegativeZero(number) {\r\n  return 1 / number === -Infinity\r\n}\r\n\r\nfunction isNegative(number) {\r\n  return number < 0 || number === 0 && isNegativeZero(number)\r\n}\r\n\r\nfunction parseFormatArgs(args) {\r\n  if (args.length < 2) {\r\n    throw new TypeError(`\"unit\" argument is required`)\r\n  }\r\n  return [\r\n    parseNumber(args[0]),\r\n    parseUnit(args[1])\r\n  ]\r\n}", "'use strict'\r\n\r\nexports = module.exports = require('./commonjs/RelativeTimeFormat').default\r\nexports['default'] = require('./commonjs/RelativeTimeFormat').default", "/**\r\n * A basic in-memory cache.\r\n *\r\n * import Cache from 'javascript-time-ago/Cache'\r\n * const cache = new Cache()\r\n * const object = cache.get('key1', 'key2', ...) || cache.put('key1', 'key2', ..., createObject())\r\n */\r\nexport default class Cache {\r\n\tcache = {}\r\n\r\n\tget(...keys) {\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache !== 'object') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache\r\n\t}\r\n\r\n\tput(...keys) {\r\n\t\tconst value = keys.pop()\r\n\t\tconst lastKey = keys.pop()\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache[key] !== 'object') {\r\n\t\t\t\tcache[key] = {}\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache[lastKey] = value\r\n\t}\r\n}", "/**\r\n * Chooses the most appropriate locale\r\n * (one of the registered ones)\r\n * based on the list of preferred `locales` supplied by the user.\r\n *\r\n * @param {string[]} locales - the list of preferable locales (in [IETF format](https://en.wikipedia.org/wiki/IETF_language_tag)).\r\n * @param {Function} isLocaleDataAvailable - tests if a locale is available.\r\n *\r\n * @returns {string} The most suitable locale.\r\n *\r\n * @example\r\n * // Returns 'en'\r\n * chooseLocale(['en-US'], undefined, (locale) => locale === 'ru' || locale === 'en')\r\n */\r\nexport default function chooseLocale(locales, isLocaleDataAvailable) {\r\n\t// This is not an intelligent algorithm,\r\n\t// but it will do for this library's case.\r\n\t// `sr-Cyrl-BA` -> `sr-Cyrl` -> `sr`.\r\n\tfor (let locale of locales) {\r\n\t\tif (isLocaleDataAvailable(locale)) {\r\n\t\t\treturn locale\r\n\t\t}\r\n\t\tconst parts = locale.split('-')\r\n\t\twhile (parts.length > 1) {\r\n\t\t\tparts.pop()\r\n\t\t\tlocale = parts.join('-')\r\n\t\t\tif (isLocaleDataAvailable(locale)) {\r\n\t\t\t\treturn locale\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tthrow new Error(`No locale data has been registered for any of the locales: ${locales.join(', ')}`)\r\n}\r\n\r\n/**\r\n * Whether can use `Intl.DateTimeFormat` for these `locales`.\r\n * Returns the first suitable one.\r\n * @param  {(string|string[])} locales\r\n * @return {?string} The first locale that can be used.\r\n */\r\nexport function intlDateTimeFormatSupportedLocale(locales) {\r\n\t/* istanbul ignore else */\r\n\tif (intlDateTimeFormatSupported()) {\r\n\t\treturn Intl.DateTimeFormat.supportedLocalesOf(locales)[0]\r\n\t}\r\n}\r\n\r\n/**\r\n * Whether can use `Intl.DateTimeFormat`.\r\n * @return {boolean}\r\n */\r\nexport function intlDateTimeFormatSupported() {\r\n\t// Babel transforms `typeof` into some \"branches\"\r\n\t// so istanbul will show this as \"branch not covered\".\r\n\t/* istanbul ignore next */\r\n\tconst isIntlAvailable = typeof Intl === 'object'\r\n\treturn isIntlAvailable && typeof Intl.DateTimeFormat === 'function'\r\n}\r\n", "export const minute = 60 // in seconds\r\n\r\nexport const hour = 60 * minute // in seconds\r\n\r\nexport const day = 24 * hour // in seconds\r\n\r\nexport const week = 7 * day // in seconds\r\n\r\n// https://www.quora.com/What-is-the-average-number-of-days-in-a-month\r\nexport const month = 30.44 * day // in seconds\r\n\r\n// \"400 years have 146097 days (taking into account leap year rules)\"\r\nexport const year = (146097 / 400) * day // in seconds\r\n\r\nexport function getSecondsInUnit(unit) {\r\n\tswitch (unit) {\r\n\t\tcase 'second':\r\n\t\t\treturn 1\r\n\t\tcase 'minute':\r\n\t\t\treturn minute\r\n\t\tcase 'hour':\r\n\t\t\treturn hour\r\n\t\tcase 'day':\r\n\t\t\treturn day\r\n\t\tcase 'week':\r\n\t\t\treturn week\r\n\t\tcase 'month':\r\n\t\t\treturn month\r\n\t\tcase 'year':\r\n\t\t\treturn year\r\n\t}\r\n}\r\n\r\n// export function getPreviousUnitFor(unit) {\r\n// \tswitch (unit) {\r\n// \t\tcase 'second':\r\n// \t\t\treturn 'now'\r\n// \t\tcase 'minute':\r\n// \t\t\treturn 'second'\r\n// \t\tcase 'hour':\r\n// \t\t\treturn 'minute'\r\n// \t\tcase 'day':\r\n// \t\t\treturn 'hour'\r\n// \t\tcase 'week':\r\n// \t\t\treturn 'day'\r\n// \t\tcase 'month':\r\n// \t\t\treturn 'week'\r\n// \t\tcase 'year':\r\n// \t\t\treturn 'month'\r\n// \t}\r\n// }", "import { getSecondsInUnit } from './units'\r\n\r\nexport default function getStepDenominator(step) {\r\n\t// `factor` is a legacy property.\r\n\tif (step.factor !== undefined) {\r\n\t\treturn step.factor\r\n\t}\r\n\t// \"unit\" is now called \"formatAs\".\r\n\treturn getSecondsInUnit(step.unit || step.formatAs) || 1\r\n}", "export function getRoundFunction(round) {\r\n\tswitch (round) {\r\n\t\tcase 'floor':\r\n\t\t\treturn Math.floor\r\n\t\tdefault:\r\n\t\t\treturn Math.round\r\n\t}\r\n}\r\n\r\n// For non-negative numbers.\r\nexport function getDiffRatioToNextRoundedNumber(round) {\r\n\tswitch (round) {\r\n\t\tcase 'floor':\r\n\t\t\t// Math.floor(x) = x\r\n\t\t\t// Math.floor(x + 1) = x + 1\r\n\t\t\treturn 1\r\n\t\tdefault:\r\n\t\t\t// Math.round(x) = x\r\n\t\t\t// Math.round(x + 0.5) = x + 1\r\n\t\t\treturn 0.5\r\n\t}\r\n}", "import { getSecondsInUnit } from './units'\r\nimport { getDiffRatioToNextRoundedNumber } from '../round'\r\n\r\nexport default function getStepMinTime(step, {\r\n\tprevStep,\r\n\ttimestamp,\r\n\t// `now` argument is used in a deprecated `step.test()` function.\r\n\tnow,\r\n\tfuture,\r\n\tround\r\n}) {\r\n\tlet minTime\r\n\t// \"threshold_for_xxx\" is a legacy property.\r\n\tif (prevStep) {\r\n\t\tif (prevStep.id || prevStep.unit) {\r\n\t\t\tminTime = step[`threshold_for_${prevStep.id || prevStep.unit}`]\r\n\t\t}\r\n\t}\r\n\tif (minTime === undefined) {\r\n\t\t// \"threshold\" is a legacy property.\r\n\t\tif (step.threshold !== undefined) {\r\n\t\t\t// \"threshold\" is a legacy name for \"minTime\".\r\n\t\t\tminTime = step.threshold\r\n\t\t\t// \"threshold\" function is deprecated.\r\n\t\t\tif (typeof minTime === 'function') {\r\n\t\t\t\tminTime = minTime(now, future)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (minTime === undefined) {\r\n\t\tminTime = step.minTime\r\n\t}\r\n\t// A deprecated way of specifying a different threshold\r\n\t// depending on the previous step's unit.\r\n\tif (typeof minTime === 'object') {\r\n\t\tif (prevStep && prevStep.id && minTime[prevStep.id] !== undefined) {\r\n\t\t\tminTime = minTime[prevStep.id]\r\n\t\t} else {\r\n\t\t\tminTime = minTime.default\r\n\t\t}\r\n\t}\r\n\tif (typeof minTime === 'function') {\r\n\t\tminTime = minTime(timestamp, {\r\n\t\t\tfuture,\r\n\t\t\tgetMinTimeForUnit(toUnit, fromUnit) {\r\n\t\t\t\treturn getMinTimeForUnit(\r\n\t\t\t\t\ttoUnit,\r\n\t\t\t\t\tfromUnit || prevStep && prevStep.formatAs,\r\n\t\t\t\t\t{ round }\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t// Evaluate the `test()` function.\r\n\t// `test()` function is deprecated.\r\n\tif (minTime === undefined) {\r\n\t\tif (step.test) {\r\n\t\t\tif (step.test(timestamp, {\r\n\t\t\t\tnow,\r\n\t\t\t\tfuture\r\n\t\t\t})) {\r\n\t\t\t\t// `0` threshold always passes.\r\n\t\t\t\tminTime = 0\r\n\t\t\t} else {\r\n\t\t\t\t// `MAX_SAFE_INTEGER` threshold won't ever pass in real life.\r\n\t\t\t\tminTime = 9007199254740991 // Number.MAX_SAFE_INTEGER\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (minTime === undefined) {\r\n\t\tif (prevStep) {\r\n\t\t\tif (step.formatAs && prevStep.formatAs) {\r\n\t\t\t\tminTime = getMinTimeForUnit(step.formatAs, prevStep.formatAs, { round })\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// The first step's `minTime` is `0` by default.\r\n\t\t\tminTime = 0\r\n\t\t}\r\n\t}\r\n\t// Warn if no `minTime` was defined or could be deduced.\r\n\tif (minTime === undefined) {\r\n\t\tconsole.warn('[javascript-time-ago] A step should specify `minTime`:\\n' + JSON.stringify(step, null, 2))\r\n\t}\r\n\treturn minTime\r\n}\r\n\r\nfunction getMinTimeForUnit(toUnit, fromUnit, { round }) {\r\n\tconst toUnitAmount = getSecondsInUnit(toUnit)\r\n\t// if (!fromUnit) {\r\n\t// \treturn toUnitAmount;\r\n\t// }\r\n\t// if (!fromUnit) {\r\n\t// \tfromUnit = getPreviousUnitFor(toUnit)\r\n\t// }\r\n\tlet fromUnitAmount\r\n\tif (fromUnit === 'now') {\r\n\t\tfromUnitAmount = getSecondsInUnit(toUnit)\r\n\t} else {\r\n\t\tfromUnitAmount = getSecondsInUnit(fromUnit)\r\n\t}\r\n\tif (toUnitAmount !== undefined && fromUnitAmount !== undefined) {\r\n\t\treturn toUnitAmount - fromUnitAmount * (1 - getDiffRatioToNextRoundedNumber(round))\r\n\t}\r\n}", "import getStepDenominator from './getStepDenominator'\r\nimport getStepMinTime from './getStepMinTime'\r\nimport { getRoundFunction } from '../round'\r\n\r\n/**\r\n * Finds an appropriate `step` of `steps` for the time interval (in seconds).\r\n *\r\n * @param {Object[]} steps - Time formatting steps.\r\n *\r\n * @param {number} secondsPassed - Time interval (in seconds).\r\n *                                 `< 0` for past dates and `> 0` for future dates.\r\n *\r\n * @param {number} options.now - Current timestamp.\r\n *\r\n * @param {boolean} [options.future] - Whether the date should be formatted as a future one\r\n *                                     instead of a past one.\r\n *\r\n * @param {string} [options.round] - (undocumented) Rounding mechanism.\r\n *\r\n * @param {string[]} [options.units] - A list of allowed time units.\r\n *                                     (Example: ['second', 'minute', 'hour', \u2026])\r\n *\r\n * @param {boolean} [options.getNextStep] - Pass true to return `[step, nextStep]` instead of just `step`.\r\n *\r\n * @return {Object|Object[]} [step] \u2014 Either a `step` or `[prevStep, step, nextStep]`.\r\n */\r\nexport default function getStep(steps, secondsPassed, { now, future, round, units, getNextStep }) {\r\n\t// Ignore steps having not-supported time units in `formatAs`.\r\n\tsteps = filterStepsByUnits(steps, units)\r\n\tconst step = _getStep(steps, secondsPassed, { now, future, round })\r\n\tif (getNextStep) {\r\n\t\tif (step) {\r\n\t\t\tconst prevStep = steps[steps.indexOf(step) - 1]\r\n\t\t\tconst nextStep = steps[steps.indexOf(step) + 1]\r\n\t\t\treturn [prevStep, step, nextStep]\r\n\t\t}\r\n\t\treturn [undefined, undefined, steps[0]]\r\n\t}\r\n\treturn step\r\n}\r\n\r\nfunction _getStep(steps, secondsPassed, { now, future, round }) {\r\n\t// If no steps fit the conditions then return nothing.\r\n\tif (steps.length === 0) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Find the most appropriate step.\r\n\tconst i = getStepIndex(steps, secondsPassed, {\r\n\t\tnow,\r\n\t\tfuture: future || secondsPassed < 0,\r\n\t\tround\r\n\t})\r\n\r\n\t// If no step is applicable the return nothing.\r\n\tif (i === -1) {\r\n\t\treturn\r\n\t}\r\n\r\n\tconst step = steps[i]\r\n\r\n\t// Apply granularity to the time amount\r\n\t// (and fall back to the previous step\r\n\t//  if the first level of granularity\r\n\t//  isn't met by this amount)\r\n\tif (step.granularity) {\r\n\t\t// Recalculate the amount of seconds passed based on `granularity`.\r\n\t\tconst secondsPassedGranular = getRoundFunction(round)((Math.abs(secondsPassed) / getStepDenominator(step)) / step.granularity) * step.granularity\r\n\t\t// If the granularity for this step is too high,\r\n\t\t// then fall back to the previous step.\r\n\t\t// (if there is any previous step)\r\n\t\tif (secondsPassedGranular === 0 && i > 0) {\r\n\t\t\treturn steps[i - 1]\r\n\t\t}\r\n\t}\r\n\r\n\treturn step\r\n}\r\n\r\n/**\r\n * Iterates through steps until it finds the maximum one satisfying the `minTime` threshold.\r\n * @param  {Object} steps - Steps.\r\n * @param  {number} secondsPassed - How much seconds have passed since the date till `now`.\r\n * @param  {number} options.now - Current timestamp.\r\n * @param  {boolean} options.future - Whether the time interval should be formatted as a future one.\r\n * @param  {number} [i] - Gradation step currently being tested.\r\n * @return {number} Gradation step index.\r\n */\r\nfunction getStepIndex(steps, secondsPassed, options, i = 0) {\r\n\tconst minTime = getStepMinTime(steps[i], {\r\n\t\tprevStep: steps[i - 1],\r\n\t\ttimestamp: options.now - secondsPassed * 1000,\r\n\t\t...options\r\n\t})\r\n\t// If `minTime` isn't defined or deduceable for this step, then stop.\r\n\tif (minTime === undefined) {\r\n\t\treturn i - 1\r\n\t}\r\n\t// If the `minTime` threshold for moving from previous step\r\n\t// to this step is too high then return the previous step.\r\n\tif (Math.abs(secondsPassed) < minTime) {\r\n\t\treturn i - 1\r\n\t}\r\n\t// If it's the last step then return it.\r\n\tif (i === steps.length - 1) {\r\n\t\treturn i\r\n\t}\r\n\t// Move to the next step.\r\n\treturn getStepIndex(steps, secondsPassed, options, i + 1)\r\n}\r\n\r\n/**\r\n * Leaves only allowed steps.\r\n * @param  {Object[]} steps\r\n * @param  {string[]} units - Allowed time units.\r\n * @return {Object[]}\r\n */\r\nfunction filterStepsByUnits(steps, units) {\r\n\treturn steps.filter(({ unit, formatAs }) => {\r\n\t\t// \"unit\" is now called \"formatAs\".\r\n\t\tunit = unit || formatAs\r\n\t\t// If this step has a `unit` defined\r\n\t\t// then this `unit` must be in the list of allowed `units`.\r\n\t\tif (unit) {\r\n\t\t\treturn units.indexOf(unit) >= 0\r\n\t\t}\r\n\t\t// A step is not required to specify a `unit`:\r\n\t\t// alternatively, it could specify `format()`.\r\n\t\t// (see \"twitter\" style for an example)\r\n\t\treturn true\r\n\t})\r\n}", "import { getSecondsInUnit } from './units'\r\nimport { getRoundFunction, getDiffRatioToNextRoundedNumber } from '../round'\r\n\r\n/**\r\n * Gets the time to next update for a step with a time unit defined.\r\n * @param  {string} unit\r\n * @param  {number} date \u2014 The date passed to `.format()`, converted to a timestamp.\r\n * @param  {number} options.now\r\n * @param  {string} [options.round] \u2014 (undocumented) Rounding mechanism.\r\n * @return {number} [timeToNextUpdate]\r\n */\r\nexport default function getTimeToNextUpdateForUnit(unit, timestamp, { now, round }) {\r\n\t// For some units, like \"now\", there's no defined amount of seconds in them.\r\n\tif (!getSecondsInUnit(unit)) {\r\n\t\t// If there's no amount of seconds defined for this unit\r\n\t\t// then the update interval can't be determined reliably.\r\n\t\treturn\r\n\t}\r\n\tconst unitDenominator = getSecondsInUnit(unit) * 1000\r\n\tconst future = timestamp > now\r\n\tconst preciseAmount = Math.abs(timestamp - now)\r\n\tconst roundedAmount = getRoundFunction(round)(preciseAmount / unitDenominator) * unitDenominator\r\n\tif (future) {\r\n\t\tif (roundedAmount > 0) {\r\n\t\t\t// Amount decreases with time.\r\n\t\t\treturn (preciseAmount - roundedAmount) +\r\n\t\t\t\tgetDiffToPreviousRoundedNumber(round, unitDenominator)\r\n\t\t} else {\r\n\t\t\t// Refresh right after the zero point,\r\n\t\t\t// when \"future\" changes to \"past\".\r\n\t\t\treturn (preciseAmount - roundedAmount) + 1\r\n\t\t}\r\n\t}\r\n \t// Amount increases with time.\r\n\treturn -(preciseAmount - roundedAmount) + getDiffToNextRoundedNumber(round, unitDenominator)\r\n}\r\n\r\nfunction getDiffToNextRoundedNumber(round, unitDenominator) {\r\n\treturn getDiffRatioToNextRoundedNumber(round) * unitDenominator\r\n}\r\n\r\nfunction getDiffToPreviousRoundedNumber(round, unitDenominator) {\r\n\treturn (1 - getDiffRatioToNextRoundedNumber(round)) * unitDenominator + 1\r\n}", "import _getTimeToNextUpdateForUnit from './getTimeToNextUpdateForUnit'\r\nimport getStepMinTime from './getStepMinTime'\r\nimport { getRoundFunction } from '../round'\r\n\r\n// A thousand years is practically a metaphor for \"infinity\".\r\nconst YEAR = 365 * 24 * 60 * 60 * 1000\r\nexport const INFINITY = 1000 * YEAR\r\n\r\n/**\r\n * Gets the time to next update for a date and a step.\r\n * @param  {number} date \u2014 The date passed to `.format()`, converted to a timestamp.\r\n * @param  {object} step\r\n * @param  {object} [options.previousStep]\r\n * @param  {object} [options.nextStep]\r\n * @param  {number} options.now\r\n * @param  {boolean} options.future\r\n * @param  {string} [options.round] - (undocumented) Rounding mechanism.\r\n * @return {number} [timeToNextUpdate]\r\n */\r\nexport default function getTimeToNextUpdate(date, step, { prevStep, nextStep, now, future, round }) {\r\n\tconst timestamp = date.getTime ? date.getTime() : date\r\n\r\n\tconst getTimeToNextUpdateForUnit = (unit) => _getTimeToNextUpdateForUnit(unit, timestamp, { now, round })\r\n\r\n\t// For future dates, steps move from the last one to the first one,\r\n\t// while for past dates, steps move from the first one to the last one,\r\n\t// due to the fact that time flows in one direction,\r\n\t// and future dates' interval naturally becomes smaller\r\n\t// while past dates' interval naturally grows larger.\r\n\t//\r\n\t// For future dates, it's the transition\r\n\t// from the current step to the previous step,\r\n\t// therefore check the `minTime` of the current step.\r\n\t//\r\n\t// For past dates, it's the transition\r\n\t// from the current step to the next step,\r\n\t// therefore check the `minTime` of the next step.\r\n\t//\r\n\tconst timeToStepChange = getTimeToStepChange(future ? step : nextStep, timestamp, {\r\n\t\tfuture,\r\n\t\tnow,\r\n\t\tround,\r\n\t\tprevStep: future ? prevStep : step,\r\n\t\t// isFirstStep: future && isFirstStep\r\n\t})\r\n\r\n\tif (timeToStepChange === undefined) {\r\n\t\t// Can't reliably determine \"time to next update\"\r\n\t\t// if not all of the steps provide `minTime`.\r\n\t\treturn\r\n\t}\r\n\r\n\tlet timeToNextUpdate\r\n\r\n\tif (step) {\r\n\t\tif (step.getTimeToNextUpdate) {\r\n\t\t\ttimeToNextUpdate = step.getTimeToNextUpdate(timestamp, {\r\n\t\t\t\tgetTimeToNextUpdateForUnit,\r\n\t\t\t\tgetRoundFunction,\r\n\t\t\t\tnow,\r\n\t\t\t\tfuture,\r\n\t\t\t\tround\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (timeToNextUpdate === undefined) {\r\n\t\t\t// \"unit\" is now called \"formatAs\".\r\n\t\t\tconst unit = step.unit || step.formatAs\r\n\t\t\tif (unit) {\r\n\t\t\t\t// For some units, like \"now\", there's no defined amount of seconds in them.\r\n\t\t\t\t// In such cases, `getTimeToNextUpdateForUnit()` returns `undefined`,\r\n\t\t\t\t// and the next step's `minTime` could be used to calculate the update interval:\r\n\t\t\t\t// it will just assume that the label never changes for this step.\r\n\t\t\t\ttimeToNextUpdate = getTimeToNextUpdateForUnit(unit)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (timeToNextUpdate === undefined) {\r\n\t\treturn timeToStepChange\r\n\t}\r\n\r\n\treturn Math.min(timeToNextUpdate, timeToStepChange)\r\n}\r\n\r\nexport function getStepChangesAt(currentOrNextStep, timestamp, { now, future, round, prevStep }) {\r\n\t// The first step's `minTime` is `0` by default.\r\n\t// It doesn't \"change\" steps at zero point\r\n\t// but it does change the wording when switching\r\n\t// from \"future\" to \"past\": \"in ...\" -> \"... ago\".\r\n\t// Therefore, the label should be updated at zero-point too.\r\n\tconst minTime = getStepMinTime(currentOrNextStep, { timestamp, now, future, round, prevStep })\r\n\tif (minTime === undefined) {\r\n\t\treturn\r\n\t}\r\n\tif (future) {\r\n\t\t// The step changes to the previous step\r\n\t\t// as soon as `timestamp - now` becomes\r\n\t\t// less than the `minTime` of the current step:\r\n\t\t// `timestamp - now === minTime - 1`\r\n\t\t// => `now === timestamp - minTime + 1`.\r\n\t\treturn timestamp - minTime * 1000 + 1\r\n\t} else {\r\n\t\t// The step changes to the next step\r\n\t\t// as soon as `now - timestamp` becomes\r\n\t\t// equal to `minTime` of the next step:\r\n\t\t// `now - timestamp === minTime`\r\n\t\t// => `now === timestamp + minTime`.\r\n\r\n\t\t// This is a special case when double-update could be skipped.\r\n\t\tif (minTime === 0 && timestamp === now) {\r\n\t\t\treturn INFINITY\r\n\t\t}\r\n\r\n\t\treturn timestamp + minTime * 1000\r\n\t}\r\n}\r\n\r\nexport function getTimeToStepChange(step, timestamp, {\r\n\tnow,\r\n\tfuture,\r\n\tround,\r\n\tprevStep\r\n}) {\r\n\tif (step) {\r\n\t\tconst stepChangesAt = getStepChangesAt(step, timestamp, {\r\n\t\t\tnow,\r\n\t\t\tfuture,\r\n\t\t\tround,\r\n\t\t\tprevStep\r\n\t\t})\r\n\t\tif (stepChangesAt === undefined) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn stepChangesAt - now\r\n\t} else {\r\n\t\tif (future) {\r\n\t\t\t// No step.\r\n\t\t\t// Update right after zero point, when it changes from \"future\" to \"past\".\r\n\t\t\treturn timestamp - now + 1\r\n\t\t} else {\r\n\t\t\t// The last step doesn't ever change when `date` is in the past.\r\n\t\t\treturn INFINITY\r\n\t\t}\r\n\t}\r\n}", "// For all locales added\r\n// their relative time formatter messages will be stored here.\r\nconst localesData = {}\r\n\r\nexport function getLocaleData(locale) {\r\n\treturn localesData[locale]\r\n}\r\n\r\nexport function addLocaleData(localeData) {\r\n\tif (!localeData) {\r\n\t\tthrow new Error('[javascript-time-ago] No locale data passed.')\r\n\t}\r\n\t// This locale data is stored in a global variable\r\n\t// and later used when calling `.format(time)`.\r\n\tlocalesData[localeData.locale] = localeData\r\n}", "// just now\r\n// 1 second ago\r\n// 2 seconds ago\r\n// \u2026\r\n// 59 seconds ago\r\n// 1 minute ago\r\n// 2 minutes ago\r\n// \u2026\r\n// 59 minutes ago\r\n// 1 hour ago\r\n// 2 hours ago\r\n// \u2026\r\n// 24 hours ago\r\n// 1 day ago\r\n// 2 days ago\r\n// \u2026\r\n// 6 days ago\r\n// 1 week ago\r\n// 2 weeks ago\r\n// \u2026\r\n// 3 weeks ago\r\n// 1 month ago\r\n// 2 months ago\r\n// \u2026\r\n// 11 months ago\r\n// 1 year ago\r\n// 2 years ago\r\n// \u2026\r\nexport default [\r\n\t{\r\n\t\tformatAs: 'now'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'second'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'minute'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'hour'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'day'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'week'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'month'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'year'\r\n\t}\r\n]", "import round from '../steps/round'\r\n\r\n// just now\r\n// 1 second ago\r\n// 2 seconds ago\r\n// \u2026\r\n// 59 seconds ago\r\n// 1 minute ago\r\n// 2 minutes ago\r\n// \u2026\r\n// 59 minutes ago\r\n// 1 minute ago\r\n// 2 minutes ago\r\n// \u2026\r\n// 59 minutes ago\r\n// 1 hour ago\r\n// 2 hours ago\r\n// \u2026\r\n// 24 hours ago\r\n// 1 day ago\r\n// 2 days ago\r\n// \u2026\r\n// 6 days ago\r\n// 1 week ago\r\n// 2 weeks ago\r\n// 3 weeks ago\r\n// 4 weeks ago\r\n// 1 month ago\r\n// 2 months ago\r\n// \u2026\r\n// 11 months ago\r\n// 1 year ago\r\n// 2 years ago\r\n// \u2026\r\n//\r\nexport default {\r\n\tsteps: round,\r\n\tlabels: 'long'\r\n}", "import round from './round'\r\n\r\n// just now\r\n// 1 minute ago\r\n// 2 minutes ago\r\n// \u2026\r\n// 59 minutes ago\r\n// 1 minute ago\r\n// 2 minutes ago\r\n// \u2026\r\n// 59 minutes ago\r\n// 1 hour ago\r\n// 2 hours ago\r\n// \u2026\r\n// 24 hours ago\r\n// 1 day ago\r\n// 2 days ago\r\n// \u2026\r\n// 6 days ago\r\n// 1 week ago\r\n// 2 weeks ago\r\n// 3 weeks ago\r\n// 4 weeks ago\r\n// 1 month ago\r\n// 2 months ago\r\n// \u2026\r\n// 11 months ago\r\n// 1 year ago\r\n// 2 years ago\r\n// \u2026\r\n//\r\nexport default {\r\n\t...round,\r\n\t// Skip \"seconds\".\r\n\tsteps: round.steps.filter(step => step.formatAs !== 'second')\r\n}", "import { minute, hour, day, week, month, year } from './units'\r\n\r\n// \"factor\" is a legacy property.\r\n// Developers shouldn't need to use it in their custom steps.\r\n\r\n// \"threshold\" is a legacy name of \"min\".\r\n// Developers should use \"min\" property name instead of \"threshold\".\r\n\r\n// \"threshold_for_idOrUnit: value\" is a legacy way of specifying \"min: { id: value }\".\r\n// Developers should use \"min\" property instead of \"threshold\".\r\n\r\n// just now\r\n// 1 minute ago\r\n// 2 minutes ago\r\n// 5 minutes ago\r\n// 10 minutes ago\r\n// 15 minutes ago\r\n// 20 minutes ago\r\n// \u2026\r\n// 50 minutes ago\r\n// an hour ago\r\n// 2 hours ago\r\n// \u2026\r\n// 20 hours ago\r\n// a day ago\r\n// 2 days ago\r\n// 5 days ago\r\n// a week ago\r\n// 2 weeks ago\r\n// 3 weeks ago\r\n// a month ago\r\n// 2 months ago\r\n// 4 months ago\r\n// a year ago\r\n// 2 years ago\r\n// \u2026\r\nexport default [\r\n\t{\r\n\t\t// This step returns the amount of seconds\r\n\t\t// by dividing the amount of seconds by `1`.\r\n\t\tfactor: 1,\r\n    \t// \"now\" labels are used for formatting the output.\r\n\t\tunit: 'now'\r\n\t},\r\n\t{\r\n\t\t// When the language doesn't support `now` unit,\r\n\t\t// the first step is ignored, and it uses this `second` unit.\r\n\t\tthreshold: 1,\r\n\t\t// `threshold_for_now` should be the same as `threshold` on minutes.\r\n\t\tthreshold_for_now: 45.5,\r\n\t\t// This step returns the amount of seconds\r\n\t\t// by dividing the amount of seconds by `1`.\r\n\t\tfactor: 1,\r\n    \t// \"second\" labels are used for formatting the output.\r\n\t\tunit: 'second'\r\n\t},\r\n\t{\r\n\t\t// `threshold` should be the same as `threshold_for_now` on seconds.\r\n\t\tthreshold: 45.5,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in a minute.\r\n\t\tfactor: minute,\r\n    \t// \"minute\" labels are used for formatting the output.\r\n\t\tunit: 'minute'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 2.5 minutes.\r\n\t\tthreshold: 2.5 * minute,\r\n\t\t// Allow only 5-minute increments of minutes starting from 2.5 minutes.\r\n\t\t// `granularity` \u2014 (advanced) Time interval value \"granularity\".\r\n\t\t// For example, it could be set to `5` for minutes to allow only 5-minute increments\r\n\t\t// when formatting time intervals: `0 minutes`, `5 minutes`, `10 minutes`, etc.\r\n\t\t// Perhaps this feature will be removed because there seem to be no use cases\r\n\t\t// of it in the real world.\r\n\t\tgranularity: 5,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in a minute.\r\n\t\tfactor: minute,\r\n\t\t// \"minute\" labels are used for formatting the output.\r\n\t\tunit: 'minute'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 22.5 minutes.\r\n\t\tthreshold: 22.5 * minute,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in  half-an-hour.\r\n\t\tfactor: 0.5 * hour,\r\n\t\t// \"half-hour\" labels are used for formatting the output.\r\n\t\t// (if available, which is no longer the case)\r\n\t\tunit: 'half-hour'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 42.5 minutes.\r\n\t\tthreshold: 42.5 * minute,\r\n\t\tthreshold_for_minute: 52.5 * minute,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in an hour.\r\n\t\tfactor: hour,\r\n\t\t// \"hour\" labels are used for formatting the output.\r\n\t\tunit: 'hour'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 20.5 hours.\r\n\t\tthreshold: (20.5 / 24) * day,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in a day.\r\n\t\tfactor: day,\r\n\t\t// \"day\" labels are used for formatting the output.\r\n\t\tunit: 'day'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 5.5 days.\r\n\t\tthreshold: 5.5 * day,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in a week.\r\n\t\tfactor: week,\r\n\t\t// \"week\" labels are used for formatting the output.\r\n\t\tunit: 'week'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 3.5 weeks.\r\n\t\tthreshold: 3.5 * week,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in a month.\r\n\t\tfactor: month,\r\n\t\t// \"month\" labels are used for formatting the output.\r\n\t\tunit: 'month'\r\n\t},\r\n\t{\r\n\t\t// This step is effective starting from 10.5 months.\r\n\t\tthreshold: 10.5 * month,\r\n\t\t// Return the amount of minutes by dividing the amount\r\n\t\t// of seconds by the amount of seconds in a year.\r\n\t\tfactor: year,\r\n\t\t// \"year\" labels are used for formatting the output.\r\n\t\tunit: 'year'\r\n\t}\r\n]", "import approximate from '../steps/approximate'\r\n\r\n// \"gradation\" is a legacy name for \"steps\".\r\n// It's here just for legacy compatibility.\r\n// Use \"steps\" name instead.\r\n\r\n// \"flavour\" is a legacy name for \"labels\".\r\n// It's here just for legacy compatibility.\r\n// Use \"labels\" name instead.\r\n\r\n// \"units\" is a legacy property.\r\n// It's here just for legacy compatibility.\r\n// Developers shouldn't need to use it in their custom styles.\r\n\r\nexport default {\r\n\tgradation: approximate,\r\n\tflavour: 'long',\r\n\tunits: [\r\n\t\t'now',\r\n\t\t'minute',\r\n\t\t'hour',\r\n\t\t'day',\r\n\t\t'week',\r\n\t\t'month',\r\n\t\t'year'\r\n\t]\r\n}", "import approximate from '../steps/approximate'\r\n\r\n// \"gradation\" is a legacy name for \"steps\".\r\n// It's here just for legacy compatibility.\r\n// Use \"steps\" name instead.\r\n\r\n// \"flavour\" is a legacy name for \"labels\".\r\n// It's here just for legacy compatibility.\r\n// Use \"labels\" name instead.\r\n\r\n// \"units\" is a legacy property.\r\n// It's here just for legacy compatibility.\r\n// Developers shouldn't need to use it in their custom styles.\r\n\r\n// Similar to the default style but with \"ago\" omitted.\r\n//\r\n// just now\r\n// 5 minutes\r\n// 10 minutes\r\n// 15 minutes\r\n// 20 minutes\r\n// an hour\r\n// 2 hours\r\n// \u2026\r\n// 20 hours\r\n// 1 day\r\n// 2 days\r\n// a week\r\n// 2 weeks\r\n// 3 weeks\r\n// a month\r\n// 2 months\r\n// 3 months\r\n// 4 months\r\n// a year\r\n// 2 years\r\n//\r\nexport default {\r\n\tgradation: approximate,\r\n\tflavour: 'long-time',\r\n\tunits: [\r\n\t\t'now',\r\n\t\t'minute',\r\n\t\t'hour',\r\n\t\t'day',\r\n\t\t'week',\r\n\t\t'month',\r\n\t\t'year'\r\n\t]\r\n}", "// Looks like this one's deprecated.\r\n// /**\r\n//  * Returns a step corresponding to the unit.\r\n//  * @param  {Object[]} steps\r\n//  * @param  {string} unit\r\n//  * @return {?Object}\r\n//  */\r\n// export function getStepForUnit(steps, unit) {\r\n// \tfor (const step of steps) {\r\n// \t\tif (step.unit === unit) {\r\n// \t\t\treturn step\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\n// Looks like this one won't be used in the next major version.\r\n/**\r\n * Converts value to a `Date`\r\n * @param {(number|Date)} value\r\n * @return {Date}\r\n */\r\nexport function getDate(value) {\r\n\treturn value instanceof Date ? value : new Date(value)\r\n}", "// \"convenient\" is a legacy name of \"approximate\" steps.\r\nexport { default as approximate, default as convenient } from './approximate'\r\n\r\n// \"canonical\" is a legacy name of \"round\" steps.\r\nexport { default as round, default as canonical } from './round'\r\n\r\nexport {\r\n\tminute,\r\n\thour,\r\n\tday,\r\n\tweek,\r\n\tmonth,\r\n\tyear\r\n} from './units'\r\n\r\nexport {\r\n\tgetDate\r\n} from './helpers'", "// This function is only used for backwards compatibility\r\n// with legacy code that uses the older versions of this library.\r\nexport default function(step_) {\r\n\tconst step = { ...step_ }\r\n\tif (step.minTime !== undefined) {\r\n\t\tif (typeof step.minTime === 'object') {\r\n\t\t\tfor (const key of Object.keys(step.minTime)) {\r\n\t\t\t\tif (key === 'default') {\r\n\t\t\t\t\tstep.threshold = step.minTime.default\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstep[`threshold_for_${key}`] = step.minTime[key]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tstep.threshold = step.minTime\r\n\t\t}\r\n\t\tdelete step.minTime\r\n\t}\r\n\tif (step.formatAs) {\r\n\t\tstep.unit = step.formatAs\r\n\t\tdelete step.formatAs\r\n\t}\r\n\treturn step\r\n}", "import renameLegacyProperties from '../steps/renameLegacyProperties'\r\n\r\n// This function is only used for backwards compatibility\r\n// with legacy code that uses the older versions of this library.\r\nexport default function(style_) {\r\n\tconst style = { ...style_ }\r\n\tif (style.steps) {\r\n\t\tstyle.gradation = style.steps.map(renameLegacyProperties)\r\n\t\tdelete style.steps\r\n\t}\r\n\tif (style.labels) {\r\n\t\tstyle.flavour = style.labels\r\n\t\tdelete style.labels\r\n\t}\r\n\treturn style\r\n}", "import { day, getDate } from '../steps'\r\nimport { intlDateTimeFormatSupported } from '../locale'\r\n\r\n// For compatibility with the old versions of this library.\r\nimport renameLegacyProperties from './renameLegacyProperties'\r\n\r\n// Twitter-style relative date/time formatting.\r\n// (\"1m\", \"2h\", \"Mar 3\", \"Apr 4, 2012\").\r\n//\r\n// Seconds, minutes or hours are shown for shorter intervals,\r\n// and longer intervals are formatted using full date format.\r\n\r\nconst steps = [\r\n\t{\r\n\t\tformatAs: 'second'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'minute'\r\n\t},\r\n\t{\r\n\t\tformatAs: 'hour'\r\n\t}\r\n]\r\n\r\n// A cache for `Intl.DateTimeFormat` formatters\r\n// for various locales (is a global variable).\r\nconst formatters = {}\r\n\r\n// Starting from day intervals, output month and day.\r\nconst monthAndDay = {\r\n\tminTime(timestamp, { future, getMinTimeForUnit }) {\r\n\t\t// Returns `23.5 * 60 * 60` when `round` is \"round\",\r\n\t\t// and `24 * 60 * 60` when `round` is \"floor\".\r\n\t\treturn getMinTimeForUnit('day')\r\n\t},\r\n\tformat(value, locale) {\r\n\t\t/* istanbul ignore else */\r\n\t\tif (!formatters[locale]) {\r\n\t\t\tformatters[locale] = {}\r\n\t\t}\r\n\t\t/* istanbul ignore else */\r\n\t\tif (!formatters[locale].dayMonth) {\r\n\t\t\t// \"Apr 11\" (MMMd)\r\n\t\t\tformatters[locale].dayMonth = new Intl.DateTimeFormat(locale, {\r\n\t\t\t\tmonth: 'short',\r\n\t\t\t\tday: 'numeric'\r\n\t\t\t})\r\n\t\t}\r\n\t\t// Output month and day.\r\n\t\treturn formatters[locale].dayMonth.format(getDate(value))\r\n\t}\r\n}\r\n\r\n// If the `date` happened/happens outside of current year,\r\n// then output day, month and year.\r\n// The interval should be such that the `date` lies outside of the current year.\r\nconst yearMonthAndDay = {\r\n\tminTime(timestamp, { future }) {\r\n\t\tif (future) {\r\n\t\t\t// January 1, 00:00, of the `date`'s year is right after\r\n\t\t\t// the maximum `now` for formatting a future date:\r\n\t\t\t// When `now` is before that date, the `date` is formatted as \"day/month/year\" (this step),\r\n\t\t\t// When `now` is equal to or after that date, the `date` is formatted as \"day/month\" (another step).\r\n\t\t\t// After that, it's hours, minutes, seconds, and after that it's no longer `future`.\r\n\t\t\t// The date is right after the maximum `now` for formatting a future date,\r\n\t\t\t// so subtract 1 millisecond from it.\r\n\t\t\tconst maxFittingNow = new Date(new Date(timestamp).getFullYear(), 0).getTime() - 1\r\n\t\t\t// Return `minTime` (in seconds).\r\n\t\t\treturn (timestamp - maxFittingNow) / 1000\r\n\t\t} else {\r\n\t\t\t// January 1, 00:00, of the year following the `date`'s year\r\n\t\t\t// is the minimum `now` for formatting a past date:\r\n\t\t\t// When `now` is before that date, the `date` is formatted as \"day/month\" (another step),\r\n\t\t\t// When `now` is equal to or after that date, the `date` is formatted as \"day/month/year\" (this step).\r\n\t\t\t// After that, it's hours, minutes, seconds, and after that it's no longer `future`.\r\n\t\t\tconst minFittingNow = new Date(new Date(timestamp).getFullYear() + 1, 0).getTime()\r\n\t\t\t// Return `minTime` (in seconds).\r\n\t\t\treturn (minFittingNow - timestamp) / 1000\r\n\t\t}\r\n\t},\r\n\tformat(value, locale) {\r\n\t\t/* istanbul ignore if */\r\n\t\tif (!formatters[locale]) {\r\n\t\t\tformatters[locale] = {}\r\n\t\t}\r\n\t\t/* istanbul ignore else */\r\n\t\tif (!formatters[locale].dayMonthYear) {\r\n\t\t\t// \"Apr 11, 2017\" (yMMMd)\r\n\t\t\tformatters[locale].dayMonthYear = new Intl.DateTimeFormat(locale, {\r\n\t\t\t\tyear: 'numeric',\r\n\t\t\t\tmonth: 'short',\r\n\t\t\t\tday: 'numeric'\r\n\t\t\t})\r\n\t\t}\r\n\t\t// Output day, month and year.\r\n\t\treturn formatters[locale].dayMonthYear.format(getDate(value))\r\n\t}\r\n}\r\n\r\n// If `Intl.DateTimeFormat` is supported,\r\n// then longer time intervals will be formatted as dates.\r\n/* istanbul ignore else */\r\nif (intlDateTimeFormatSupported()) {\r\n\tsteps.push(monthAndDay, yearMonthAndDay)\r\n}\r\n// Otherwise, if `Intl.DateTimeFormat` is not supported,\r\n// which could be the case when using Internet Explorer,\r\n// then simply mimick \"round\" steps.\r\nelse {\r\n\tsteps.push(\r\n\t\t{\r\n\t\t\tformatAs: 'day'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'week'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'month'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'year'\r\n\t\t}\r\n\t)\r\n}\r\n\r\nexport default {\r\n\tsteps,\r\n\tlabels: [\r\n\t\t// \"mini\" labels are only defined for a few languages.\r\n\t\t'mini',\r\n\t\t// \"short-time\" labels are only defined for a few languages.\r\n\t\t'short-time',\r\n\t\t// \"narrow\" and \"short\" labels are defined for all languages.\r\n\t\t// \"narrow\" labels can sometimes be weird (like \"+5d.\"),\r\n\t\t// but \"short\" labels have the \" ago\" part, so \"narrow\" seem\r\n\t\t// more appropriate.\r\n\t\t// \"short\" labels would have been more appropriate if they\r\n\t\t// didn't have the \" ago\" part, hence the \"short-time\" above.\r\n\t\t'narrow',\r\n\t\t// Since \"narrow\" labels are always present, \"short\" element\r\n\t\t// of this array can be removed.\r\n\t\t'short'\r\n\t]\r\n}", "import twitter from './twitter'\r\n\r\nexport default {\r\n\t...twitter,\r\n\t// Add \"now\".\r\n\tsteps: [{ formatAs: 'now' }].concat(twitter.steps)\r\n}", "import twitter from './twitter'\r\n\r\nexport default {\r\n\t...twitter,\r\n\t// Skip \"seconds\".\r\n\tsteps: twitter.steps.filter(step => step.formatAs !== 'second')\r\n}", "import twitterMinute from './twitterMinute'\r\n\r\nexport default {\r\n\t...twitterMinute,\r\n\t// Add \"now\".\r\n\tsteps: [{ formatAs: 'now' }].concat(twitterMinute.steps)\r\n}", "import { minute } from '../steps/units'\r\nimport twitter from './twitter'\r\n\r\nexport default {\r\n\t...twitter,\r\n\t// Skip \"seconds\".\r\n\tsteps: twitter.steps.filter(step => step.formatAs !== 'second')\r\n\t\t// Start showing `1m` from the first minute.\r\n\t\t.map(step => step.formatAs === 'minute' ? { ...step, minTime: minute } : step)\r\n}", "export default {\r\n\tsteps: [\r\n\t\t{\r\n\t\t\tformatAs: 'second'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'minute'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'hour'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'day'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'month'\r\n\t\t},\r\n\t\t{\r\n\t\t\tformatAs: 'year'\r\n\t\t}\r\n\t],\r\n\tlabels: [\r\n\t\t// \"mini\" labels are only defined for a few languages.\r\n\t\t'mini',\r\n\t\t// \"short-time\" labels are only defined for a few languages.\r\n\t\t'short-time',\r\n\t\t// \"narrow\" and \"short\" labels are defined for all languages.\r\n\t\t// \"narrow\" labels can sometimes be weird (like \"+5d.\"),\r\n\t\t// but \"short\" labels have the \" ago\" part, so \"narrow\" seem\r\n\t\t// more appropriate.\r\n\t\t// \"short\" labels would have been more appropriate if they\r\n\t\t// didn't have the \" ago\" part, hence the \"short-time\" above.\r\n\t\t'narrow',\r\n\t\t// Since \"narrow\" labels are always present, \"short\" element\r\n\t\t// of this array can be removed.\r\n\t\t'short'\r\n\t]\r\n}", "import mini from './mini'\r\n\r\nexport default {\r\n\t...mini,\r\n\t// Add \"now\".\r\n\tsteps: [{ formatAs: 'now' }].concat(mini.steps)\r\n}", "import mini from './mini'\r\n\r\nexport default {\r\n\t...mini,\r\n\t// Skip \"seconds\".\r\n\tsteps: mini.steps.filter(step => step.formatAs !== 'second')\r\n}", "import miniMinute from './miniMinute'\r\n\r\nexport default {\r\n\t...miniMinute,\r\n\t// Add \"now\".\r\n\tsteps: [{ formatAs: 'now' }].concat(miniMinute.steps)\r\n}", "import round from './round'\r\nimport roundMinute from './roundMinute'\r\n// `approximate` style is deprecated.\r\nimport approximate from './approximate'\r\n// `approximateTime` style is deprecated.\r\nimport approximateTime from './approximateTime'\r\nimport twitter from './twitter'\r\nimport twitterNow from './twitterNow'\r\nimport twitterMinute from './twitterMinute'\r\nimport twitterMinuteNow from './twitterMinuteNow'\r\nimport twitterFirstMinute from './twitterFirstMinute'\r\nimport mini from './mini'\r\nimport miniNow from './miniNow'\r\nimport miniMinute from './miniMinute'\r\nimport miniMinuteNow from './miniMinuteNow'\r\n\r\nexport default function getStyleByName(style) {\r\n\tswitch (style) {\r\n\t\t// \"default\" style name is deprecated.\r\n\t\tcase 'default':\r\n\t\tcase 'round':\r\n\t\t\treturn round\r\n\t\tcase 'round-minute':\r\n\t\t\treturn roundMinute\r\n\t\tcase 'approximate':\r\n\t\t\treturn approximate\r\n\t\t// \"time\" style name is deprecated.\r\n\t\tcase 'time':\r\n\t\tcase 'approximate-time':\r\n\t\t\treturn approximateTime\r\n\t\tcase 'mini':\r\n\t\t\treturn mini\r\n\t\tcase 'mini-now':\r\n\t\t\treturn miniNow\r\n\t\tcase 'mini-minute':\r\n\t\t\treturn miniMinute\r\n\t\tcase 'mini-minute-now':\r\n\t\t\treturn miniMinuteNow\r\n\t\tcase 'twitter':\r\n\t\t\treturn twitter\r\n\t\tcase 'twitter-now':\r\n\t\t\treturn twitterNow\r\n\t\tcase 'twitter-minute':\r\n\t\t\treturn twitterMinute\r\n\t\tcase 'twitter-minute-now':\r\n\t\t\treturn twitterMinuteNow\r\n\t\tcase 'twitter-first-minute':\r\n\t\t\treturn twitterFirstMinute\r\n\t\tdefault:\r\n\t\t\t// For historical reasons, the default style is \"approximate\".\r\n\t\t\treturn approximate\r\n\t}\r\n}", "import RelativeTimeFormatPolyfill from 'relative-time-format'\r\n\r\nimport Cache from './cache'\r\nimport chooseLocale from './locale'\r\nimport getStep from './steps/getStep'\r\nimport getStepDenominator from './steps/getStepDenominator'\r\nimport getTimeToNextUpdate from './steps/getTimeToNextUpdate'\r\n\r\nimport {\r\n\taddLocaleData,\r\n\tgetLocaleData\r\n} from './LocaleDataStore'\r\n\r\nimport defaultStyle from './style/roundMinute'\r\nimport getStyleByName from './style/getStyleByName'\r\n\r\nimport { getRoundFunction } from './round'\r\n\r\n// Valid time units.\r\nconst UNITS = [\r\n\t'now',\r\n\t// The rest are the same as in `Intl.RelativeTimeFormat`.\r\n\t'second',\r\n\t'minute',\r\n\t'hour',\r\n\t'day',\r\n\t'week',\r\n\t'month',\r\n\t'quarter',\r\n\t'year'\r\n]\r\n\r\nexport default class TimeAgo {\r\n\t/**\r\n\t * @param {(string|string[])} locales=[] - Preferred locales (or locale).\r\n\t * @param {boolean} [polyfill] \u2014 Pass `false` to use native `Intl.RelativeTimeFormat` and `Intl.PluralRules` instead of the polyfills.\r\n\t */\r\n\tconstructor(locales = [], { polyfill } = {}) {\r\n\t\t// Convert `locales` to an array.\r\n\t\tif (typeof locales === 'string') {\r\n\t\t\tlocales = [locales]\r\n\t\t}\r\n\r\n\t\t// Choose the most appropriate locale\r\n\t\t// from the list of `locales` added by the user.\r\n\t\t// For example, new TimeAgo(\"en-US\") -> \"en\".\r\n\t\tthis.locale = chooseLocale(\r\n\t\t\tlocales.concat(TimeAgo.getDefaultLocale()),\r\n\t\t\tgetLocaleData\r\n\t\t)\r\n\r\n\t\tif (typeof Intl !== 'undefined') {\r\n\t\t\t// Use `Intl.NumberFormat` for formatting numbers (when available).\r\n\t\t\tif (Intl.NumberFormat) {\r\n\t\t\t\tthis.numberFormat = new Intl.NumberFormat(this.locale)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Some people have requested the ability to use native\r\n\t\t// `Intl.RelativeTimeFormat` and `Intl.PluralRules`\r\n\t\t// instead of the polyfills.\r\n\t\t// https://github.com/catamphetamine/javascript-time-ago/issues/21\r\n\t\tif (polyfill === false) {\r\n\t\t\tthis.IntlRelativeTimeFormat = Intl.RelativeTimeFormat\r\n\t\t\tthis.IntlPluralRules = Intl.PluralRules\r\n\t\t} else {\r\n\t\t\tthis.IntlRelativeTimeFormat = RelativeTimeFormatPolyfill\r\n\t\t\tthis.IntlPluralRules = RelativeTimeFormatPolyfill.PluralRules\r\n\t\t}\r\n\r\n\t\t// Cache `Intl.RelativeTimeFormat` instance.\r\n\t\tthis.relativeTimeFormatCache = new Cache()\r\n\r\n\t\t// Cache `Intl.PluralRules` instance.\r\n\t\tthis.pluralRulesCache = new Cache()\r\n\t}\r\n\r\n\t/**\r\n\t * Formats relative date/time.\r\n\t *\r\n\t * @param {number} [options.now] - Sets the current date timestamp.\r\n\t *\r\n\t * @param  {boolean} [options.future] \u2014 Tells how to format value `0`:\r\n\t *         as \"future\" (`true`) or \"past\" (`false`).\r\n\t *         Is `false` by default, but should have been `true` actually,\r\n\t *         in order to correspond to `Intl.RelativeTimeFormat`\r\n\t *         that uses `future` formatting for `0` unless `-0` is passed.\r\n\t *\r\n\t * @param {string} [options.round] \u2014 Rounding method. Overrides the style's one.\r\n\t *\r\n\t * @param {boolean} [options.getTimeToNextUpdate] \u2014 Pass `true` to return `[formattedDate, timeToNextUpdate]` instead of just `formattedDate`.\r\n\t *\r\n\t * @return {string} The formatted relative date/time. If no eligible `step` is found, then an empty string is returned.\r\n\t */\r\n\tformat(input, style, options) {\r\n\t\tif (!options) {\r\n\t\t\tif (style && !isStyle(style)) {\r\n\t\t\t\toptions = style\r\n\t\t\t\tstyle = undefined\r\n\t\t\t} else {\r\n\t\t\t\toptions = {}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!style) {\r\n\t\t\tstyle = defaultStyle\r\n\t\t}\r\n\r\n\t\tif (typeof style === 'string') {\r\n\t\t\tstyle = getStyleByName(style)\r\n\t\t}\r\n\r\n\t\tconst timestamp = getTimestamp(input)\r\n\r\n\t\t// Get locale messages for this type of labels.\r\n\t\t// \"flavour\" is a legacy name for \"labels\".\r\n\t\tconst { labels, labelsType } = this.getLabels(style.flavour || style.labels)\r\n\r\n\t\tlet now\r\n\t\t// Can pass a custom `now`, e.g. for testing purposes.\r\n\t\t//\r\n\t\t// Legacy way was passing `now` in `style`.\r\n\t\t// That way is deprecated.\r\n\t\tif (style.now !== undefined) {\r\n\t\t\tnow = style.now\r\n\t\t}\r\n\t\t// The new way is passing `now` option to `.format()`.\r\n\t\tif (now === undefined && options.now !== undefined) {\r\n\t\t\tnow = options.now\r\n\t\t}\r\n\t\tif (now === undefined) {\r\n\t\t\tnow = Date.now()\r\n\t\t}\r\n\r\n\t\t// how much time has passed (in seconds)\r\n\t\tconst secondsPassed = (now - timestamp) / 1000 // in seconds\r\n\r\n\t\tconst future = options.future || secondsPassed < 0\r\n\r\n\t\tconst nowLabel = getNowLabel(\r\n\t\t\tlabels,\r\n\t\t\tgetLocaleData(this.locale).now,\r\n\t\t\tgetLocaleData(this.locale).long,\r\n\t\t\tfuture\r\n\t\t)\r\n\r\n\t\t// `custom` \u2013 A function of `{ elapsed, time, date, now, locale }`.\r\n\t\t//\r\n\t\t// Looks like `custom` function is deprecated and will be removed\r\n\t\t// in the next major version.\r\n\t\t//\r\n\t\t// If this function returns a value, then the `.format()` call will return that value.\r\n\t\t// Otherwise the relative date/time is formatted as usual.\r\n\t\t// This feature is currently not used anywhere and is here\r\n\t\t// just for providing the ultimate customization point\r\n\t\t// in case anyone would ever need that. Prefer using\r\n\t\t// `steps[step].format(value, locale)` instead.\r\n\t\t//\r\n\t\tif (style.custom) {\r\n\t\t\tconst custom = style.custom({\r\n\t\t\t\tnow,\r\n\t\t\t\tdate: new Date(timestamp),\r\n\t\t\t\ttime: timestamp,\r\n\t\t\t\telapsed: secondsPassed,\r\n\t\t\t\tlocale: this.locale\r\n\t\t\t})\r\n\t\t\tif (custom !== undefined) {\r\n\t\t\t\t// Won't return `timeToNextUpdate` here\r\n\t\t\t\t// because `custom()` seems deprecated.\r\n\t\t\t\treturn custom\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Get the list of available time interval units.\r\n\t\tconst units = getTimeIntervalMeasurementUnits(\r\n\t\t\t// Controlling `style.steps` through `style.units` seems to be deprecated:\r\n\t\t\t// create a new custom `style` instead.\r\n\t\t\tstyle.units,\r\n\t\t\tlabels,\r\n\t\t\tnowLabel\r\n\t\t)\r\n\r\n\t\t// // If no available time unit is suitable, just output an empty string.\r\n\t\t// if (units.length === 0) {\r\n\t\t// \tconsole.error(`None of the \"${units.join(', ')}\" time units have been found in \"${labelsType}\" labels for \"${this.locale}\" locale.`)\r\n\t\t// \treturn ''\r\n\t\t// }\r\n\r\n\t\tconst round = options.round || style.round\r\n\r\n\t\t// Choose the appropriate time measurement unit\r\n\t\t// and get the corresponding rounded time amount.\r\n\t\tconst [prevStep, step, nextStep] = getStep(\r\n\t\t\t// \"gradation\" is a legacy name for \"steps\".\r\n\t\t\t// For historical reasons, \"approximate\" steps are used by default.\r\n\t\t\t// In the next major version, there'll be no default for `steps`.\r\n\t\t\tstyle.gradation || style.steps || defaultStyle.steps,\r\n\t\t\tsecondsPassed,\r\n\t\t\t{ now, units, round, future, getNextStep: true }\r\n\t\t)\r\n\r\n\t\tconst formattedDate = this.formatDateForStep(timestamp, step, secondsPassed, {\r\n\t\t\tlabels,\r\n\t\t\tlabelsType,\r\n\t\t\tnowLabel,\r\n\t\t\tnow,\r\n\t\t\tfuture,\r\n\t\t\tround\r\n\t\t}) || ''\r\n\r\n\t\tif (options.getTimeToNextUpdate) {\r\n\t\t\tconst timeToNextUpdate = getTimeToNextUpdate(timestamp, step, {\r\n\t\t\t\tnextStep,\r\n\t\t\t\tprevStep,\r\n\t\t\t\tnow,\r\n\t\t\t\tfuture,\r\n\t\t\t\tround\r\n\t\t\t})\r\n\t\t\treturn [formattedDate, timeToNextUpdate]\r\n\t\t}\r\n\r\n\t\treturn formattedDate\r\n\t}\r\n\r\n\tformatDateForStep(timestamp, step, secondsPassed, {\r\n\t\tlabels,\r\n\t\tlabelsType,\r\n\t\tnowLabel,\r\n\t\tnow,\r\n\t\tfuture,\r\n\t\tround\r\n\t}) {\r\n\t\t// If no step matches, then output an empty string.\r\n\t\tif (!step) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (step.format) {\r\n\t\t\treturn step.format(timestamp, this.locale, {\r\n\t\t\t\tformatAs: (unit, value) => {\r\n\t\t\t\t\t// Mimicks `Intl.RelativeTimeFormat.format()`.\r\n\t\t\t\t\treturn this.formatValue(value, unit, {\r\n\t\t\t\t\t\tlabels,\r\n\t\t\t\t\t\tfuture\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tnow,\r\n\t\t\t\tfuture\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// \"unit\" is now called \"formatAs\".\r\n\t\tconst unit = step.unit || step.formatAs\r\n\r\n\t\tif (!unit) {\r\n\t\t\tthrow new Error(`[javascript-time-ago] Each step must define either \\`formatAs\\` or \\`format()\\`. Step: ${JSON.stringify(step)}`)\r\n\t\t}\r\n\r\n\t\t// `Intl.RelativeTimeFormat` doesn't operate in \"now\" units.\r\n\t\t// Therefore, threat \"now\" as a special case.\r\n\t\tif (unit === 'now') {\r\n\t\t\treturn nowLabel\r\n\t\t}\r\n\r\n\t\t// Amount in units.\r\n\t\tlet amount = Math.abs(secondsPassed) / getStepDenominator(step)\r\n\r\n\t\t// Apply granularity to the time amount\r\n\t\t// (and fallback to the previous step\r\n\t\t//  if the first level of granularity\r\n\t\t//  isn't met by this amount)\r\n\t\t//\r\n\t\t// `granularity` \u2014 (advanced) Time interval value \"granularity\".\r\n\t\t// For example, it could be set to `5` for minutes to allow only 5-minute increments\r\n\t\t// when formatting time intervals: `0 minutes`, `5 minutes`, `10 minutes`, etc.\r\n\t\t// Perhaps this feature will be removed because there seem to be no use cases\r\n\t\t// of it in the real world.\r\n\t\t//\r\n\t\tif (step.granularity) {\r\n\t\t\t// Recalculate the amount of seconds passed based on granularity\r\n\t\t\tamount = getRoundFunction(round)(amount / step.granularity) * step.granularity\r\n\t\t}\r\n\r\n\t\tlet valueForFormatting = -1 * Math.sign(secondsPassed) * getRoundFunction(round)(amount)\r\n\r\n\t\t// By default, this library formats a `0` in \"past\" mode,\r\n\t\t// unless `future: true` option is passed.\r\n\t\t// This is different to `relative-time-format`'s behavior\r\n\t\t// which formats a `0` in \"future\" mode by default, unless it's a `-0`.\r\n\t\t// So, convert `0` to `-0` if `future: true` option wasn't passed.\r\n\t\t// `=== 0` matches both `0` and `-0`.\r\n\t\tif (valueForFormatting === 0) {\r\n\t\t\tif (future) {\r\n\t\t\t\tvalueForFormatting = 0\r\n\t\t\t} else {\r\n\t\t\t\tvalueForFormatting = -0\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch (labelsType) {\r\n\t\t\tcase 'long':\r\n\t\t\tcase 'short':\r\n\t\t\tcase 'narrow':\r\n\t\t\t\t// Format the amount using `Intl.RelativeTimeFormat`.\r\n\t\t\t\treturn this.getFormatter(labelsType).format(valueForFormatting, unit)\r\n\t\t\tdefault:\r\n\t\t\t\t// Format the amount.\r\n\t\t\t\t// (mimicks `Intl.RelativeTimeFormat` behavior for other time label styles)\r\n\t\t\t\treturn this.formatValue(valueForFormatting, unit, {\r\n\t\t\t\t\tlabels,\r\n\t\t\t\t\tfuture\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Mimicks what `Intl.RelativeTimeFormat` does for additional locale styles.\r\n\t * @param  {number} value\r\n\t * @param  {string} unit\r\n\t * @param  {object} options.labels \u2014 Relative time labels.\r\n\t * @param  {boolean} [options.future] \u2014 Tells how to format value `0`: as \"future\" (`true`) or \"past\" (`false`). Is `false` by default, but should have been `true` actually.\r\n\t * @return {string}\r\n\t */\r\n\tformatValue(value, unit, { labels, future }) {\r\n\t\treturn this.getFormattingRule(labels, unit, value, { future })\r\n\t\t\t.replace('{0}', this.formatNumber(Math.abs(value)))\r\n\t}\r\n\r\n\t/**\r\n\t * Returns formatting rule for `value` in `units` (either in past or in future).\r\n\t * @param {object} formattingRules \u2014 Relative time labels for different units.\r\n\t * @param {string} unit - Time interval measurement unit.\r\n\t * @param {number} value - Time interval value.\r\n\t * @param  {boolean} [options.future] \u2014 Tells how to format value `0`: as \"future\" (`true`) or \"past\" (`false`). Is `false` by default.\r\n\t * @return {string}\r\n\t * @example\r\n\t * // Returns \"{0} days ago\"\r\n\t * getFormattingRule(en.long, \"day\", -2, 'en')\r\n\t */\r\n\tgetFormattingRule(formattingRules, unit, value, { future }) {\r\n\t\t// Passing the language is required in order to\r\n\t\t// be able to correctly classify the `value` as a number.\r\n\t\tconst locale = this.locale\r\n\t\tformattingRules = formattingRules[unit]\r\n\t\t// Check for a special \"compacted\" rules case:\r\n\t\t// if formatting rules are the same for \"past\" and \"future\",\r\n\t\t// and also for all possible `value`s, then those rules are\r\n\t\t// stored as a single string.\r\n\t\tif (typeof formattingRules === 'string') {\r\n\t\t\treturn formattingRules\r\n\t\t}\r\n\t\t// Choose either \"past\" or \"future\" based on time `value` sign.\r\n\t\t// If \"past\" is same as \"future\" then they're stored as \"other\".\r\n\t\t// If there's only \"other\" then it's being collapsed.\r\n\t\tconst pastOrFuture = value === 0 ? (future ? 'future' : 'past') : (value < 0 ? 'past' : 'future')\r\n\t\tconst quantifierRules = formattingRules[pastOrFuture] || formattingRules\r\n\t\t// Bundle size optimization technique.\r\n\t\tif (typeof quantifierRules === 'string') {\r\n\t\t\treturn quantifierRules\r\n\t\t}\r\n\t\t// Quantify `value`.\r\n\t\tconst quantifier = this.getPluralRules().select(Math.abs(value))\r\n\t\t// \"other\" rule is supposed to always be present.\r\n\t\t// If only \"other\" rule is present then \"rules\" is not an object and is a string.\r\n\t\treturn quantifierRules[quantifier] || quantifierRules.other\r\n\t}\r\n\r\n\t/**\r\n\t * Formats a number into a string.\r\n\t * Uses `Intl.NumberFormat` when available.\r\n\t * @param  {number} number\r\n\t * @return {string}\r\n\t */\r\n\tformatNumber(number) {\r\n\t\treturn this.numberFormat ? this.numberFormat.format(number) : String(number)\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an `Intl.RelativeTimeFormat` for a given `labelsType`.\r\n\t * @param {string} labelsType\r\n\t * @return {object} `Intl.RelativeTimeFormat` instance\r\n\t */\r\n\tgetFormatter(labelsType) {\r\n\t\t// `Intl.RelativeTimeFormat` instance creation is (hypothetically) assumed\r\n\t\t// a lengthy operation so the instances are cached and reused.\r\n\t\treturn this.relativeTimeFormatCache.get(this.locale, labelsType) ||\r\n\t\t\tthis.relativeTimeFormatCache.put(this.locale, labelsType, new this.IntlRelativeTimeFormat(this.locale, { style: labelsType }))\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an `Intl.PluralRules` instance.\r\n\t * @return {object} `Intl.PluralRules` instance\r\n\t */\r\n\tgetPluralRules() {\r\n\t\t// `Intl.PluralRules` instance creation is (hypothetically) assumed\r\n\t\t// a lengthy operation so the instances are cached and reused.\r\n\t\treturn this.pluralRulesCache.get(this.locale) ||\r\n\t\t\tthis.pluralRulesCache.put(this.locale, new this.IntlPluralRules(this.locale))\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Gets localized labels for this type of labels.\r\n\t *\r\n\t * @param {(string|string[])} labelsType - Relative date/time labels type.\r\n\t *                                     If it's an array then all label types are tried\r\n\t *                                     until a suitable one is found.\r\n\t *\r\n\t * @returns {Object} Returns an object of shape { labelsType, labels }\r\n\t */\r\n\tgetLabels(labelsType = []) {\r\n\t\t// Convert `labels` to an array.\r\n\t\tif (typeof labelsType === 'string') {\r\n\t\t\tlabelsType = [labelsType]\r\n\t\t}\r\n\r\n\t\t// Supports legacy \"tiny\" and \"mini-time\" label styles.\r\n\t\tlabelsType = labelsType.map((labelsType) => {\r\n\t\t\tswitch (labelsType) {\r\n\t\t\t\tcase 'tiny':\r\n\t\t\t\tcase 'mini-time':\r\n\t\t\t\t\treturn 'mini'\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn labelsType\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t// \"long\" labels type is the default one.\r\n\t\t// (it's always present for all languages)\r\n\t\tlabelsType = labelsType.concat('long')\r\n\r\n\t\t// Find a suitable labels type.\r\n\t\tconst localeData = getLocaleData(this.locale)\r\n\t\tfor (const _labelsType of labelsType) {\r\n\t\t\tif (localeData[_labelsType]) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabelsType: _labelsType,\r\n\t\t\t\t\tlabels: localeData[_labelsType]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Default locale global variable.\r\n */\r\nlet defaultLocale = 'en'\r\n\r\n/**\r\n * Gets default locale.\r\n * @return  {string} locale\r\n */\r\nTimeAgo.getDefaultLocale = () => defaultLocale\r\n\r\n/**\r\n * Sets default locale.\r\n * @param  {string} locale\r\n */\r\nTimeAgo.setDefaultLocale = (locale) => defaultLocale = locale\r\n\r\n/**\r\n * Adds locale data for a specific locale and marks the locale as default.\r\n * @param {Object} localeData\r\n */\r\nTimeAgo.addDefaultLocale = function(localeData) {\r\n\tif (defaultLocaleHasBeenSpecified) {\r\n\t\treturn console.error('[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.')\r\n\t}\r\n\tdefaultLocaleHasBeenSpecified = true\r\n\tTimeAgo.setDefaultLocale(localeData.locale)\r\n\tTimeAgo.addLocale(localeData)\r\n}\r\n\r\nlet defaultLocaleHasBeenSpecified\r\n\r\n/**\r\n * Adds locale data for a specific locale.\r\n * @param {Object} localeData\r\n */\r\nTimeAgo.addLocale = function(localeData) {\r\n\taddLocaleData(localeData)\r\n\tRelativeTimeFormatPolyfill.addLocale(localeData)\r\n}\r\n\r\n/**\r\n * (legacy alias)\r\n * Adds locale data for a specific locale.\r\n * @param {Object} localeData\r\n * @deprecated\r\n */\r\nTimeAgo.locale = TimeAgo.addLocale\r\n\r\n/**\r\n * Adds custom labels to locale data.\r\n * @param {string} locale\r\n * @param {string} name\r\n * @param {object} labels\r\n */\r\nTimeAgo.addLabels = (locale, name, labels) => {\r\n\tlet localeData = getLocaleData(locale)\r\n\tif (!localeData) {\r\n\t\taddLocaleData({\r\n\t\t\tlocale\r\n\t\t})\r\n\t\tlocaleData = getLocaleData(locale)\r\n\t\t// throw new Error(`[javascript-time-ago] No data for locale \"${locale}\"`)\r\n\t}\r\n\tlocaleData[name] = labels\r\n}\r\n\r\n// Normalizes `.format()` `time` argument.\r\nfunction getTimestamp(input) {\r\n\tif (input.constructor === Date || isMockedDate(input)) {\r\n\t\treturn input.getTime()\r\n\t}\r\n\r\n\tif (typeof input === 'number') {\r\n\t\treturn input\r\n\t}\r\n\r\n\t// For some weird reason istanbul doesn't see this `throw` covered.\r\n\t/* istanbul ignore next */\r\n\tthrow new Error(`Unsupported relative time formatter input: ${typeof input}, ${input}`)\r\n}\r\n\r\n// During testing via some testing libraries `Date`s aren't actually `Date`s.\r\n// https://github.com/catamphetamine/javascript-time-ago/issues/22\r\nfunction isMockedDate(object) {\r\n\treturn typeof object === 'object' && typeof object.getTime === 'function'\r\n}\r\n\r\n// Get available time interval measurement units.\r\nfunction getTimeIntervalMeasurementUnits(allowedUnits, labels, nowLabel) {\r\n\t// Get all time interval measurement units that're available\r\n\t// in locale data for a given time labels style.\r\n\tlet units = Object.keys(labels)\r\n\r\n\t// `now` unit is handled separately and is shipped in its own `now.json` file.\r\n\t// `now.json` isn't present for all locales, so it could be substituted with\r\n\t// \".second.current\".\r\n\t// Add `now` unit if it's available in locale data.\r\n\tif (nowLabel) {\r\n\t\tunits.push('now')\r\n\t}\r\n\r\n\t// If only a specific set of available time measurement units can be used\r\n\t// then only those units are allowed (if they're present in locale data).\r\n\tif (allowedUnits) {\r\n\t\tunits = allowedUnits.filter(unit => unit === 'now' || units.indexOf(unit) >= 0)\r\n\t}\r\n\r\n\treturn units\r\n}\r\n\r\nfunction getNowLabel(labels, nowLabels, longLabels, future) {\r\n\tconst nowLabel = labels.now || (nowLabels && nowLabels.now)\r\n\t// Specific \"now\" message form extended locale data (if present).\r\n\tif (nowLabel) {\r\n\t\t// Bundle size optimization technique.\r\n\t\tif (typeof nowLabel === 'string') {\r\n\t\t\treturn nowLabel\r\n\t\t}\r\n\t\t// Not handling `value === 0` as `localeData.now.current` here\r\n\t\t// because it wouldn't make sense: \"now\" is a moment,\r\n\t\t// so one can't possibly differentiate between a\r\n\t\t// \"previous\" moment, a \"current\" moment and a \"next moment\".\r\n\t\t// It can only be differentiated between \"past\" and \"future\".\r\n\t\tif (future) {\r\n\t\t\treturn nowLabel.future\r\n\t\t} else {\r\n\t\t\treturn nowLabel.past\r\n\t\t}\r\n\t}\r\n\t// Use \".second.current\" as \"now\" message.\r\n\tif (longLabels && longLabels.second && longLabels.second.current) {\r\n\t\treturn longLabels.second.current\r\n\t}\r\n}\r\n\r\nconst OBJECT_CONSTRUCTOR = {}.constructor\r\nfunction isObject(object) {\r\n\treturn typeof object !== undefined && object !== null && object.constructor === OBJECT_CONSTRUCTOR\r\n}\r\n\r\nfunction isStyle(variable) {\r\n\treturn typeof variable === 'string' || isStyleObject(variable)\r\n}\r\n\r\nexport function isStyleObject(object) {\r\n\treturn isObject(object) && (\r\n\t\tArray.isArray(object.steps) ||\r\n\t\t// `gradation` property is deprecated: it has been renamed to `steps`.\r\n\t\tArray.isArray(object.gradation) ||\r\n\t\t// `flavour` property is deprecated: it has been renamed to `labels`.\r\n\t\tArray.isArray(object.flavour) ||\r\n\t\ttypeof object.flavour === 'string' ||\r\n\t\tArray.isArray(object.labels) ||\r\n\t\ttypeof object.labels === 'string' ||\r\n\t\t// `units` property is deprecated.\r\n\t\tArray.isArray(object.units) ||\r\n\t\t// `custom` property is deprecated.\r\n\t\ttypeof object.custom === 'function'\r\n\t)\r\n}", "'use strict'\r\n\r\nexports = module.exports = require('./commonjs/TimeAgo').default\r\nexports['default'] = require('./commonjs/TimeAgo').default\r\n\r\nvar locale = require('./commonjs/locale')\r\n\r\nexports.intlDateTimeFormatSupported = locale.intlDateTimeFormatSupported\r\nexports.intlDateTimeFormatSupportedLocale = locale.intlDateTimeFormatSupportedLocale", "(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n  else if (typeof define === 'function' && define.amd) define(definition);\n  else context[name] = definition();\n})('urljoin', this, function () {\n\n  function normalize (strArray) {\n    var resultArray = [];\n    if (strArray.length === 0) { return ''; }\n\n    if (typeof strArray[0] !== 'string') {\n      throw new TypeError('Url must be a string. Received ' + strArray[0]);\n    }\n\n    // If the first part is a plain protocol, we combine it with the next part.\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n      var first = strArray.shift();\n      strArray[0] = first + strArray[0];\n    }\n\n    // There must be two or three slashes in the file protocol, two slashes in anything else.\n    if (strArray[0].match(/^file:\\/\\/\\//)) {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n    } else {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n    }\n\n    for (var i = 0; i < strArray.length; i++) {\n      var component = strArray[i];\n\n      if (typeof component !== 'string') {\n        throw new TypeError('Url must be a string. Received ' + component);\n      }\n\n      if (component === '') { continue; }\n\n      if (i > 0) {\n        // Removing the starting slashes for each component but the first.\n        component = component.replace(/^[\\/]+/, '');\n      }\n      if (i < strArray.length - 1) {\n        // Removing the ending slashes for each component but the last.\n        component = component.replace(/[\\/]+$/, '');\n      } else {\n        // For the last component we will combine multiple slashes to a single one.\n        component = component.replace(/[\\/]+$/, '/');\n      }\n\n      resultArray.push(component);\n\n    }\n\n    var str = resultArray.join('/');\n    // Each input component is now separated by a single slash except the possible first plain protocol part.\n\n    // remove trailing slash before parameters or hash\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n    // replace ? in parameters with &\n    var parts = str.split('?');\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\n\n    return str;\n  }\n\n  return function () {\n    var input;\n\n    if (typeof arguments[0] === 'object') {\n      input = arguments[0];\n    } else {\n      input = [].slice.call(arguments);\n    }\n\n    return normalize(input);\n  };\n\n});\n", "import StatusList from \"./components/status/list\";\n\nexport default function GitLabStatus(): JSX.Element {\n  return <StatusList />;\n}\n", "import { ActionPanel, List } from \"@raycast/api\";\nimport { useCache } from \"../../cache\";\nimport { gitlab } from \"../../common\";\nimport { Status } from \"../../gitlabapi\";\nimport { formatDate, getErrorMessage, showErrorToast } from \"../../utils\";\nimport { useEffect, useState } from \"react\";\nimport { clearDurationText, emojiSymbol } from \"./utils\";\nimport { usePresets } from \"./presets\";\nimport {\n  StatusClearCurrentAction,\n  StatusPresetCreateAction,\n  StatusPresetDeleteAction,\n  StatusPresetEditAction,\n  StatusPresetFactoryResetAction,\n  StatusPresetMoveDownAction,\n  StatusPresetMoveUpAction,\n  StatusPresetSetAction,\n  StatusPresetSetWithDurationAction,\n  StatusSetCustomAction,\n} from \"./actions\";\n\nexport default function StatusList(): JSX.Element {\n  const { data, error, isLoading } = useCache<Status | undefined>(\n    \"userstatus\",\n    async () => {\n      return await gitlab.getUserStatus();\n    },\n    {\n      deps: [],\n      secondsToRefetch: 0,\n      secondsToInvalid: 0,\n    }\n  );\n  if (error) {\n    showErrorToast(getErrorMessage(error), \"Could not fetch Status\");\n  }\n  const [currentStatus, setCurrentStatus] = useState<Status | undefined>(data);\n  useEffect(() => {\n    setCurrentStatus(data);\n  }, [data]);\n\n  const { presets, setPresets } = usePresets();\n  const [selectedId, setSelectedId] = useState<string>();\n\n  return (\n    <List isLoading={isLoading} selectedItemId={selectedId}>\n      <List.Section title=\"Current Status\">\n        <StatusCurrentListItem\n          status={currentStatus}\n          presets={presets}\n          setPresets={setPresets}\n          setCurrentStatus={setCurrentStatus}\n        />\n      </List.Section>\n      <List.Section title=\"Presets\">\n        {presets.map((p, i) => (\n          <StatusPresetListItem\n            key={`${p.message}_${p.emoji}_${i}`}\n            status={p}\n            presets={presets}\n            setPresets={setPresets}\n            index={i}\n            setCurrentStatus={setCurrentStatus}\n            setSelectedId={setSelectedId}\n          />\n        ))}\n      </List.Section>\n    </List>\n  );\n}\n\nfunction StatusCurrentListItem(props: {\n  status: Status | undefined;\n  presets: Status[];\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  setCurrentStatus: React.Dispatch<React.SetStateAction<Status | undefined>>;\n}): JSX.Element {\n  const status = props.status;\n  const presets = props.presets;\n  const setPresets = props.setPresets;\n  let emojiIcon: string | undefined = undefined;\n\n  let durationText: string | undefined = undefined;\n  if (status && status.clear_status_at !== undefined && status.clear_status_at instanceof Date) {\n    durationText = `Clears ${formatDate(status.clear_status_at)}`;\n  }\n  const setNoStatus = () => {\n    emojiIcon = \"\uD83D\uDDE8\uFE0F\";\n    title = \"No Status\";\n    durationText = \"\";\n  };\n  let title = \"\";\n  if (status) {\n    if (!status.emoji && !status.message) {\n      setNoStatus();\n    } else {\n      emojiIcon = emojiSymbol(status.emoji);\n      title = status.message ? status.message : \"\";\n      if (durationText === undefined) {\n        durationText = \"Don't clear\";\n      }\n    }\n  }\n  return (\n    <List.Item\n      title={title}\n      icon={emojiIcon}\n      subtitle={durationText}\n      actions={\n        <ActionPanel>\n          <ActionPanel.Section>\n            <StatusClearCurrentAction status={status} setCurrentStatus={props.setCurrentStatus} />\n            <StatusSetCustomAction setCurrentStatus={props.setCurrentStatus} />\n          </ActionPanel.Section>\n          <ActionPanel.Section>\n            <StatusPresetCreateAction presets={presets} setPresets={setPresets} />\n            <StatusPresetFactoryResetAction setPresets={setPresets} />\n          </ActionPanel.Section>\n        </ActionPanel>\n      }\n    />\n  );\n}\n\nexport function StatusPresetListItem(props: {\n  status: Status;\n  presets: Status[];\n  index: number;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  setCurrentStatus: React.Dispatch<React.SetStateAction<Status | undefined>>;\n  setSelectedId: React.Dispatch<React.SetStateAction<string | undefined>>;\n}): JSX.Element {\n  const s = props.status;\n  const presets = props.presets || [];\n  return (\n    <List.Item\n      id={`preset_${props.index}`}\n      title={s.message}\n      icon={emojiSymbol(s.emoji)}\n      subtitle={clearDurationText(s.clear_status_after)}\n      actions={\n        <ActionPanel>\n          <ActionPanel.Section>\n            <StatusPresetSetAction status={s} setCurrentStatus={props.setCurrentStatus} />\n            <StatusPresetSetWithDurationAction status={s} setCurrentStatus={props.setCurrentStatus} />\n          </ActionPanel.Section>\n          <ActionPanel.Section>\n            <StatusPresetEditAction status={s} presets={presets} index={props.index} setPresets={props.setPresets} />\n            <StatusPresetDeleteAction presets={presets} index={props.index} setPresets={props.setPresets} />\n          </ActionPanel.Section>\n          <ActionPanel.Section>\n            <StatusPresetCreateAction presets={presets} setPresets={props.setPresets} />\n            <StatusSetCustomAction setCurrentStatus={props.setCurrentStatus} />\n          </ActionPanel.Section>\n          <ActionPanel.Section>\n            <StatusPresetMoveUpAction\n              presets={presets}\n              setPresets={props.setPresets}\n              index={props.index}\n              setSelectedId={props.setSelectedId}\n            />\n            <StatusPresetMoveDownAction\n              presets={presets}\n              setPresets={props.setPresets}\n              index={props.index}\n              setSelectedId={props.setSelectedId}\n            />\n          </ActionPanel.Section>\n          <ActionPanel.Section>\n            <StatusPresetFactoryResetAction setPresets={props.setPresets} />\n          </ActionPanel.Section>\n        </ActionPanel>\n      }\n    />\n  );\n}\n", "import { environment } from \"@raycast/api\";\nimport path from \"path/posix\";\nimport * as fs from \"fs/promises\";\nimport { constants } from \"fs\";\nimport { currentSeconds, daysInSeconds, fileExists, getErrorMessage } from \"./utils\";\nimport { useEffect, useRef, useState } from \"react\";\n\n/* eslint-disable @typescript-eslint/no-explicit-any,@typescript-eslint/explicit-module-boundary-types */\n\nconst logCaching = false;\n\nexport function cacheLog(message?: any, ...optionalParams: any[]): void {\n  if (logCaching) {\n    console.log(message, ...optionalParams);\n  }\n}\n\nexport function getLargeCacheDirectory(): string {\n  const sp = environment.supportPath;\n  const cacheDir = path.join(sp, \"cache\");\n  return cacheDir;\n}\n\nexport async function getCacheFilepath(key: string, ensureDirectory = false): Promise<string> {\n  const cacheDir = getLargeCacheDirectory();\n  if (ensureDirectory) {\n    cacheLog(`create cache directoy '${cacheDir}'`);\n    await fs.mkdir(cacheDir, { recursive: true });\n  }\n  const cacheFilePath = path.join(cacheDir, `${key}.json`);\n  return cacheFilePath;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function getLargeCacheObjectData(key: string): Promise<{ data: any; ageInSeconds: number } | undefined> {\n  let cacheFilePath = undefined;\n  try {\n    cacheFilePath = await getCacheFilepath(key);\n    await fs.access(cacheFilePath, constants.R_OK);\n    const jsontext = await fs.readFile(cacheFilePath, \"utf-8\");\n    const cache_data = JSON.parse(jsontext);\n    if (!cache_data) {\n      return undefined;\n    }\n    const timestamp = currentSeconds();\n    const delta = timestamp - cache_data.timestamp;\n    return { data: cache_data.payload, ageInSeconds: delta };\n  } catch (e) {\n    cacheLog(`could not access cache file or not exists '${cacheFilePath}'`);\n  }\n  return undefined;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function getLargeCacheObject(key: string, seconds: number): Promise<any> {\n  cacheLog(\"GET cache\");\n  let cacheFilePath = undefined;\n  try {\n    cacheFilePath = await getCacheFilepath(key);\n    await fs.access(cacheFilePath, constants.R_OK);\n    const jsontext = await fs.readFile(cacheFilePath, \"utf-8\");\n    const cache_data = JSON.parse(jsontext);\n    if (!cache_data) {\n      return undefined;\n    }\n    const timestamp = currentSeconds();\n    const delta = timestamp - cache_data.timestamp;\n    if (delta > seconds) {\n      return undefined;\n    } else {\n      return cache_data.payload;\n    }\n  } catch (e) {\n    cacheLog(`could not access cache file or not exists '${cacheFilePath}'`);\n  }\n  return undefined;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any,@typescript-eslint/explicit-module-boundary-types\nexport async function setLargeCacheObject(key: string, payload: any): Promise<void> {\n  let cacheFilePath = undefined;\n  try {\n    cacheFilePath = await getCacheFilepath(key, true);\n    cacheLog(`set cache object '${key}'`);\n    const cache_data = {\n      timestamp: currentSeconds(),\n      payload: payload,\n    };\n    const text = JSON.stringify(cache_data);\n    await fs.writeFile(cacheFilePath, text, \"utf-8\");\n  } catch (e) {\n    cacheLog(e);\n    cacheLog(`could not write cache file '${cacheFilePath}'`);\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function receiveLargeCachedObject(key: string, fn: () => Promise<any>): Promise<any> {\n  let data = await getLargeCacheObject(key, 5 * 60);\n  if (!data) {\n    data = await fn();\n    await setLargeCacheObject(key, data);\n    return data;\n  } else {\n    cacheLog(\"use cached data\");\n    return data;\n  }\n}\n\nexport async function clearLargeObjectCache(): Promise<void> {\n  const cacheDir = getLargeCacheDirectory();\n  if (await fileExists(cacheDir)) {\n    await fs.rm(cacheDir, { recursive: true });\n  }\n}\n\nexport function useCache<T>(\n  key: string,\n  getData: () => Promise<T>,\n  options: {\n    deps?: React.DependencyList;\n    onFilter?: (data: T) => Promise<T>;\n    secondsToRefetch?: number;\n    secondsToInvalid?: number;\n  }\n): {\n  data?: T;\n  error?: string;\n  isLoading: boolean;\n  performRefetch: () => void;\n} {\n  const secondsToRefetchUser = options.secondsToRefetch === undefined ? 5 * 60 : options.secondsToRefetch;\n  const secondsToInvalid = options.secondsToInvalid === undefined ? daysInSeconds(3) : options.secondsToInvalid;\n  const [data, setData] = useState<T>();\n  const [error, setError] = useState<string>();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [timestamp, setTimestamp] = useState<Date>(new Date());\n  const shouldForceRefetch = useRef(false);\n  const depsAll: unknown[] = [timestamp];\n  if (options.deps) {\n    for (const d of options.deps) {\n      depsAll.push(d);\n    }\n  }\n\n  const search = async (alldata: T) => {\n    if (options.onFilter) {\n      return await options.onFilter(alldata);\n    }\n    return alldata;\n  };\n\n  const performRefetch = () => {\n    shouldForceRefetch.current = true;\n    setTimestamp(new Date());\n  };\n\n  useEffect(() => {\n    let refetch = false;\n\n    // FIXME In the future version, we don't need didUnmount checking\n    // https://github.com/facebook/react/pull/22114\n    let didUnmount = false;\n\n    async function fetchData() {\n      if (didUnmount) {\n        return;\n      }\n\n      setIsLoading(true);\n      setError(undefined);\n\n      try {\n        cacheLog(\"check data from cache\");\n        const secondsToRefetch = shouldForceRefetch.current === true ? 0 : secondsToRefetchUser;\n        if (shouldForceRefetch.current) {\n          cacheLog(\"force refetch\");\n        }\n        const cacheData = await getLargeCacheObjectData(key);\n        if (cacheData && cacheData.ageInSeconds < secondsToInvalid) {\n          cacheLog(\"cache data found\");\n          if (!didUnmount) {\n            cacheLog(\"set cache data\");\n            setData(await search(cacheData.data));\n            cacheLog(`${cacheData.ageInSeconds}  vs  ${secondsToRefetch}`);\n            if (cacheData.ageInSeconds > secondsToRefetch) {\n              cacheLog(\"cache is older, start refetch\");\n              // older than x minutes, refetch data and set it again\n              refetch = true;\n              getData()\n                .then(async (value) => {\n                  cacheLog(\"set refetched data\");\n                  setLargeCacheObject(key, value);\n                  value = await search(value);\n                  refetch = false;\n                  if (!didUnmount) {\n                    setData(value);\n                    setIsLoading(false);\n                  }\n                })\n                .catch((e) => {\n                  if (!didUnmount) {\n                    setError(e);\n                  }\n                })\n                .finally(() => {\n                  if (!didUnmount) {\n                    setIsLoading(false);\n                    refetch = false;\n                  }\n                });\n            }\n          }\n        } else {\n          cacheLog(\"no cache data, start fetch\");\n          const data = await getData();\n          setLargeCacheObject(key, data);\n          if (!didUnmount) {\n            setData(await search(data));\n          }\n        }\n      } catch (e) {\n        if (!didUnmount) {\n          setError(getErrorMessage(e));\n        }\n      } finally {\n        if (shouldForceRefetch) {\n          shouldForceRefetch.current = false;\n        }\n        if (!didUnmount && !refetch) {\n          setIsLoading(false);\n        }\n      }\n    }\n\n    fetchData();\n\n    return () => {\n      didUnmount = true;\n    };\n  }, depsAll);\n\n  return { data, error, isLoading, performRefetch };\n}\n", "import { Clipboard, Image, List, LocalStorage, showToast, Toast } from \"@raycast/api\";\nimport { Project } from \"./gitlabapi\";\nimport { getSVGText, GitLabIcons } from \"./icons\";\nimport * as fs from \"fs/promises\";\nimport * as fsSync from \"fs\";\nimport { constants } from \"fs\";\nimport * as crypto from \"crypto\";\nimport TimeAgo from \"javascript-time-ago\";\nimport en from \"javascript-time-ago/locale/en.json\";\nimport urljoin from \"url-join\";\nimport { emojiSymbol } from \"./components/status/utils\";\n\nTimeAgo.addDefaultLocale(en);\nconst timeAgo = new TimeAgo(\"en-US\");\n\n/* eslint-disable @typescript-eslint/no-explicit-any,@typescript-eslint/explicit-module-boundary-types,no-useless-escape */\n\nexport function projectIconUrl(project: Project): string | undefined {\n  let result: string | undefined;\n  // TODO check also namespace for icon\n  if (project.avatar_url) {\n    result = project.avatar_url;\n  } else if (project.owner && project.owner.avatar_url) {\n    result = project.owner.avatar_url;\n  }\n  return result;\n}\n\nexport function projectIcon(project: Project): Image.ImageLike {\n  const svgSource = () => {\n    return getSVGText(project.name[0].toUpperCase()) || GitLabIcons.project;\n  };\n  let result: string = GitLabIcons.project;\n  // TODO check also namespace for icon\n  if (project.avatar_url) {\n    result = project.avatar_url;\n  } else if (project.owner && project.owner.avatar_url) {\n    result = project.owner.avatar_url;\n  } else {\n    result = svgSource();\n  }\n  return { source: result, mask: Image.Mask.Circle, fallback: svgSource() };\n}\n\nexport function toDateString(d: string): string {\n  const date = new Date(d);\n  const mo = new Intl.DateTimeFormat(\"en\", { month: \"short\" }).format(date);\n  const da = new Intl.DateTimeFormat(\"en\", { day: \"2-digit\" }).format(date);\n  return `${da}. ${mo}`;\n}\n\nexport function toLongDateString(d: string) {\n  const date = new Date(d);\n  return date.toLocaleDateString();\n}\n\nexport function getIdFromGqlId(id: string): number {\n  const splits = id.split(\"/\");\n  return parseInt(splits.pop() || \"\");\n}\n\nexport function currentSeconds(): number {\n  return Date.now() / 1000;\n}\n\nexport async function getCacheObject(key: string, seconds: number): Promise<any> {\n  console.log(`get cache object ${key} from store`);\n  const cache = await LocalStorage.getItem(key);\n  console.log(\"after local storage\");\n  console.log(cache);\n  if (cache) {\n    const cache_data = JSON.parse(cache.toString());\n    const timestamp = currentSeconds();\n    const delta = timestamp - cache_data.timestamp;\n    if (delta > seconds) {\n      return undefined;\n    } else {\n      return cache_data.payload;\n    }\n  }\n  return undefined;\n}\n\nexport async function setCacheObject(key: string, payload: any): Promise<void> {\n  const cache_data = {\n    timestamp: currentSeconds(),\n    payload: payload,\n  };\n  console.log(key);\n  console.log(cache_data);\n  const text = JSON.stringify(cache_data);\n  console.log(text.length);\n  await LocalStorage.setItem(key, text);\n}\n\nexport async function fileExists(filename: string): Promise<boolean> {\n  return fs\n    .access(filename, constants.F_OK | constants.W_OK | constants.R_OK)\n    .then(() => true)\n    .catch(() => false);\n}\n\nexport function fileExistsSync(filename: string): boolean {\n  try {\n    fsSync.accessSync(filename, constants.F_OK);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function replaceAll(str: string, find: RegExp, replace: string): string {\n  return str.replace(find, replace);\n}\n\nexport function optimizeMarkdownText(text: string, baseUrl?: string): string {\n  let result = text;\n  // remove html comments\n  result = replaceAll(result, /<!--[\\s\\S]*?-->/g, \"\");\n\n  // remove cc\n  result = replaceAll(result, /^\\/cc.*/gm, \"\");\n\n  // <br> to markdown new line\n  result = replaceAll(result, /<br>/g, \"  \\n\");\n\n  // replace all emojis\n  result = result.replace(/:(\\w+):/g, (original, emoji) => emojiSymbol(emoji) ?? original);\n\n  // remove inline HTML tags\n  result = replaceAll(result, /<[^>]+>/g, \"\");\n\n  if (baseUrl) {\n    // replace relative links with absolute ones\n    try {\n      const regexMdLinks = /\\[([^\\[]+)\\](\\(.*\\))/gm;\n      const matches = result.match(regexMdLinks);\n      if (matches) {\n        const singleMatch = /\\[([^\\[]+)\\]\\((.*)\\)/;\n        for (let i = 0; i < matches.length; i++) {\n          const text = singleMatch.exec(matches[i]);\n          if (text) {\n            const word = text[1];\n            const link = text[2].trim();\n            if (link.startsWith(\"/\")) {\n              const fullUrl = urljoin(baseUrl, link);\n              const mdUrl = `[${word}](${fullUrl})`;\n              result = result.replace(text[0], mdUrl);\n            }\n          }\n        }\n      }\n    } catch (error) {\n      // ignore errors\n    }\n  }\n\n  return result;\n}\n\nexport function hashString(text: string): string {\n  const sha256 = crypto.createHash(\"sha256\");\n  sha256.update(text);\n  return sha256.digest(\"hex\");\n}\n\nexport function hashRecord(rec: Record<string, any>, prefix?: string | undefined): string {\n  const sha256 = crypto.createHash(\"sha256\");\n  Object.entries(rec)\n    .sort()\n    .forEach((k: any, v: any) => {\n      sha256.update(`${k}${v}`);\n    });\n  const h = sha256.digest(\"hex\");\n  if (prefix) {\n    return `${prefix}_${h}`;\n  } else {\n    return h;\n  }\n}\n\nexport function capitalizeFirstLetter(name: string): string {\n  if (!name || name.length <= 0) {\n    return name;\n  }\n  return name.replace(/^./, name[0].toUpperCase());\n}\n\nexport function toFormValues(values: any): Record<string, any> {\n  const val: Record<string, any> = {};\n  for (const [k, v] of Object.entries(values)) {\n    if (v) {\n      if (Array.isArray(v)) {\n        if (v.length > 0) {\n          val[k] = v.join(\",\");\n        } else {\n          continue;\n        }\n      } else {\n        val[k] = v;\n      }\n    }\n  }\n  return val;\n}\n\nexport function stringToSlug(str: string): string {\n  str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\n  str = str.toLowerCase();\n\n  // remove accents, swap \u00F1 for n, etc\n  const from = \"\u00E5\u00E0\u00E1\u00E3\u00E4\u00E2\u00E8\u00E9\u00EB\u00EA\u00EC\u00ED\u00EF\u00EE\u00F2\u00F3\u00F6\u00F4\u00F9\u00FA\u00FC\u00FB\u00F1\u00E7\u00B7/_,:;\";\n  const to = \"aaaaaaeeeeiiiioooouuuunc------\";\n\n  for (let i = 0, l = from.length; i < l; i++) {\n    str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n  }\n\n  str = str\n    .replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\n    .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\n    .replace(/-+/g, \"-\"); // collapse dashes\n\n  return str;\n}\n\nexport class Query {\n  query: string | undefined;\n  named: Record<string, string[]> = {};\n  negativeNamed: Record<string, string[]> = {};\n}\n\nexport function tokenizeQueryText(query: string | undefined, namedKeywords: string[]): Query {\n  const positivePairs: Record<string, string[]> = {};\n  const negativePairs: Record<string, string[]> = {};\n  let text = query;\n  if (query) {\n    const splits = query.split(\" \");\n    const texts: string[] = [];\n    for (const s of splits) {\n      if (s.indexOf(\"=\") > 0) {\n        const parts = s.split(\"=\");\n        const keyRaw = parts[0];\n        const negative = keyRaw.endsWith(\"!\");\n        const key = (negative ? keyRaw.slice(0, keyRaw.length - 1) : keyRaw).toLocaleLowerCase();\n        if (namedKeywords.includes(key)) {\n          const val = parts.slice(1).join(\"=\");\n          if (val) {\n            const pairs = negative ? negativePairs : positivePairs;\n            if (key in pairs) {\n              pairs[key].push(val);\n            } else {\n              pairs[key] = [val];\n            }\n          }\n          continue;\n        }\n      }\n      texts.push(s);\n    }\n    text = texts.join(\" \");\n  }\n  return {\n    query: text,\n    named: positivePairs,\n    negativeNamed: negativePairs,\n  };\n}\n\nexport function getErrorMessage(error: unknown): string {\n  return error instanceof Error ? error.message : \"unknown error\";\n}\n\nexport function formatDate(input: Date | string): string {\n  const date = typeof input === \"string\" ? new Date(input) : input;\n  return timeAgo.format(date) as string;\n}\n\nexport function now(): Date {\n  return new Date();\n}\n\nexport function daysInSeconds(days: number): number {\n  return days * 24 * 60 * 60;\n}\n\nexport function showErrorToast(message: string, title?: string): Promise<Toast> {\n  const t = title || \"Something went wrong\";\n  return showToast({\n    style: Toast.Style.Failure,\n    title: t,\n    message: message,\n    primaryAction: {\n      title: \"Copy Error Message\",\n      onAction: (toast) => Clipboard.copy(`${t}: ${toast.message ?? \"\"}`),\n      shortcut: { modifiers: [\"cmd\", \"shift\"], key: \"c\" },\n    },\n  });\n}\n", "import { useEffect, useState } from \"react\";\nimport { cacheLog, getLargeCacheDirectory, useCache } from \"./cache\";\nimport { gitlab } from \"./common\";\nimport { daysInSeconds, hashString } from \"./utils\";\nimport path from \"path/posix\";\nimport * as fs from \"fs/promises\";\nimport { Image } from \"@raycast/api\";\n\nexport enum GitLabIcons {\n  merge_request = \"mropen.png\",\n  todo = \"todo.png\",\n  review = \"list-icon.png\",\n  issue = \"exclamation.png\",\n  project = \"credit-card-16\",\n  merged = \"merged.png\",\n  mropen = \"mropen.png\",\n  mraccepted = \"todo.png\",\n  branches = \"merged.png\",\n  ci = \"rocket.png\",\n  milestone = \"board_circuit.png\",\n  explorer = \"list.png\",\n  settings = \"gear.png\",\n  security = \"lock.png\",\n  labels = \"dash.png\",\n  epic = \"epic.png\",\n  comment = \"book.png\",\n  wiki = \"list.png\",\n  show_details = \"app-window-sidebar-right-16\",\n  tag = \"tag.png\",\n  commit = \"commit.png\",\n  status_success = \"status_success.png\",\n  status_failed = \"status_failed.png\",\n  status_running = \"status_running.png\",\n  status_notfound = \"status_notfound.png\",\n  status_pending = \"status_pending.png\",\n  status_created = \"status_created.png\",\n  status_canceled = \"status_canceled.png\",\n  status_skipped = \"status_skipped.png\",\n  status_scheduled = \"status_scheduled.png\",\n}\n\nasync function getImageCacheDirectory(ensureDirectory = false): Promise<string> {\n  const cacheDir = getLargeCacheDirectory();\n  const imgDir = path.join(cacheDir, \"img\");\n  if (ensureDirectory) {\n    cacheLog(`create img cache directoy '${imgDir}'`);\n    await fs.mkdir(imgDir, { recursive: true });\n  }\n  return imgDir;\n}\n\nexport function useImage(\n  url?: string,\n  defaultIcon?: string\n): {\n  localFilepath?: string;\n  error?: string;\n  isLoading: boolean;\n} {\n  const [localFilepath, setLocalFilepath] = useState<string | undefined>(defaultIcon);\n  const [error, setError] = useState<string>();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const { data } = useCache<string | undefined>(\n    \"img_\" + hashString(url || \"\"),\n    async (): Promise<string | undefined> => {\n      if (!url) {\n        return undefined;\n      }\n      const imgDir = await getImageCacheDirectory(true);\n      const imgFilepath = path.join(imgDir, hashString(url)) + \".png\"; // TODO get the extension correctly\n      return await gitlab.downloadFile(url, { localFilepath: imgFilepath });\n    },\n    { deps: [url], secondsToRefetch: 600, secondsToInvalid: daysInSeconds(7) }\n  );\n\n  useEffect(() => {\n    // FIXME In the future version, we don't need didUnmount checking\n    // https://github.com/facebook/react/pull/22114\n    let didUnmount = false;\n\n    async function fetchData() {\n      if (didUnmount) {\n        return;\n      }\n\n      setIsLoading(true);\n      setError(undefined);\n\n      if (!didUnmount) {\n        if (!data) {\n          setLocalFilepath(defaultIcon);\n        } else {\n          setLocalFilepath(data);\n        }\n      }\n    }\n\n    fetchData();\n\n    return () => {\n      didUnmount = true;\n    };\n  }, [data]);\n\n  return { localFilepath, error, isLoading };\n}\n\nexport function getSVGText(text: string): string | undefined {\n  if (!text || text.length <= 0) {\n    return undefined;\n  }\n  const svg = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\">\n  <rect x=\"0\" y=\"0\" width=\"40\" height=\"40\" fill=\"#FA6E34\" rx=\"10\"></rect>\n  <text\n  font-size=\"22\"\n  fill=\"white\"\n  font-family=\"Verdana\"\n  text-anchor=\"middle\"\n  alignment-baseline=\"baseline\"\n  x=\"20.5\"\n  y=\"32.5\">${text}</text>\n</svg>\n  `.replaceAll(\"\\n\", \"\");\n\n  return `data:image/svg+xml,${svg}`;\n}\n\nexport function getTextIcon(text: string): Image.ImageLike | undefined {\n  if (!text || text.length <= 0) {\n    return undefined;\n  }\n  return getSVGText(text);\n}\n", "import { ApolloClient, ApolloLink, HttpLink, InMemoryCache, concat, NormalizedCacheObject } from \"@apollo/client\";\nimport fetch from \"node-fetch\";\n\nimport { getPreferenceValues } from \"@raycast/api\";\nimport { getHttpAgent, GitLab } from \"./gitlabapi\";\n\nexport function createGitLabClient(): GitLab {\n  const preferences = getPreferenceValues();\n  const instance = (preferences.instance as string) || \"https://gitlab.com\";\n  const token = preferences.token as string;\n  const gitlab = new GitLab(instance, token);\n  return gitlab;\n}\n\nexport class GitLabGQL {\n  public url: string;\n  public client: ApolloClient<NormalizedCacheObject>;\n  constructor(url: string, client: ApolloClient<NormalizedCacheObject>) {\n    this.url = url;\n    this.client = client;\n  }\n  public urlJoin(url: string): string {\n    return `${this.url}/${url}`;\n  }\n}\n\nexport function createGitLabGQLClient(): GitLabGQL {\n  const preferences = getPreferenceValues();\n  const instance = (preferences.instance as string) || \"https://gitlab.com\";\n  const token = preferences.token as string;\n  const graphqlEndpoint = `${instance}/api/graphql`;\n  const httpLink = new HttpLink({ uri: graphqlEndpoint, fetch, fetchOptions: { agent: getHttpAgent() } });\n\n  const authMiddleware = new ApolloLink((operation, forward) => {\n    operation.setContext(({ headers = {} }) => ({\n      headers: {\n        ...headers,\n        authorization: token ? `Bearer ${token}` : \"\",\n      },\n    }));\n    return forward(operation);\n  });\n\n  const client = new ApolloClient({\n    link: concat(authMiddleware, httpLink),\n    cache: new InMemoryCache(),\n  });\n  return new GitLabGQL(instance, client);\n}\n\nexport const gitlab = createGitLabClient();\n\nconst defaultRefreshInterval = 10 * 1000;\n\nlet gitlabgql: GitLabGQL | undefined;\n\nexport function getGitLabGQL(): GitLabGQL {\n  if (!gitlabgql) {\n    gitlabgql = createGitLabGQLClient();\n  }\n  return gitlabgql;\n}\n\nexport function getCIRefreshInterval(): number | null {\n  const preferences = getPreferenceValues();\n  const userValue = preferences.cirefreshinterval as string;\n  if (!userValue || userValue.length <= 0) {\n    return defaultRefreshInterval;\n  }\n  const sec = parseFloat(userValue);\n  if (Number.isNaN(sec)) {\n    console.log(`invalid value ${userValue}, fallback to null`);\n    return null;\n  }\n  if (sec < 1) {\n    return null;\n  } else {\n    return sec * 1000; // ms\n  }\n}\n\nexport enum PrimaryAction {\n  Detail = \"detail\",\n  Browser = \"browser\",\n}\n\nexport function getPrimaryActionPreference(): PrimaryAction {\n  const pref = getPreferenceValues();\n  const val = (pref.primaryaction as string) || undefined;\n  if (val !== PrimaryAction.Detail && val !== PrimaryAction.Browser) {\n    return PrimaryAction.Browser;\n  }\n  const result: PrimaryAction = val;\n  return result;\n}\n\nexport function getPreferPopToRootPreference(): boolean {\n  const pref = getPreferenceValues();\n  const val = (pref.poptoroot as boolean) || false;\n  if (val === true) {\n    return true;\n  }\n  return false;\n}\n\nexport function getListDetailsPreference(): boolean {\n  const pref = getPreferenceValues();\n  const val = (pref.listdetails as boolean) || false;\n  if (val === true) {\n    return true;\n  }\n  return false;\n}\n\nexport function getExcludeTodoAuthorUsernamesPreference(): string[] {\n  const pref = getPreferenceValues();\n  return pref.excludeTodoAuthorUsernames?.split(\",\").map((u: string) => u.trim()) || [];\n}\n", "import Fuse from \"fuse.js\";\nimport fetch, { Response } from \"node-fetch\";\nimport { receiveLargeCachedObject } from \"./cache\";\nimport { hashRecord } from \"./utils\";\nimport util from \"util\";\nimport fs from \"fs\";\nimport { pipeline } from \"stream\";\nconst streamPipeline = util.promisify(pipeline);\nimport https from \"https\";\nimport { getPreferenceValues } from \"@raycast/api\";\n\nfunction readCACertFileSync(filename: string): Buffer | undefined {\n  try {\n    const data = fs.readFileSync(filename);\n    return data;\n  } catch (e) {\n    throw Error(`Could not read CA cert file ${filename}`);\n  }\n}\n\nfunction readCertFileSync(filename: string): Buffer | undefined {\n  try {\n    const data = fs.readFileSync(filename);\n    return data;\n  } catch (e) {\n    throw Error(`Could not read cert file ${filename}`);\n  }\n}\n\nexport function getHttpAgent(): https.Agent | undefined {\n  let agent: https.Agent | undefined;\n  const preferences = getPreferenceValues();\n  const ignoreCertificates = (preferences.ignorecerts as boolean) || false;\n  const customcacert = (preferences.customcacert as string) || \"\";\n  const customcert = (preferences.customcert as string) || \"\";\n  if (ignoreCertificates || customcacert.length > 0 || customcert.length > 0) {\n    const ca = customcacert.length > 0 ? readCACertFileSync(customcacert) : undefined;\n    const cert = customcert.length > 0 ? readCertFileSync(customcert) : undefined;\n    const opt: https.AgentOptions = { rejectUnauthorized: !ignoreCertificates, ca: ca, cert: cert };\n    agent = new https.Agent(opt);\n  }\n  return agent;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any,@typescript-eslint/explicit-module-boundary-types */\n\nconst activateAPILogging = false;\n\nexport function logAPI(message?: any, ...optionalParams: any[]) {\n  if (activateAPILogging) {\n    console.log(message, ...optionalParams);\n  }\n}\n\nfunction maybeUserFromJson(data: any): User | undefined {\n  return data ? userFromJson(data) : undefined;\n}\n\nfunction userFromJson(data: any): User {\n  return {\n    id: data.id,\n    name: data.name,\n    username: data.username,\n    web_url: data.web_url,\n    avatar_url: data.avatar_url,\n    state: data.state,\n  };\n}\n\nexport function dataToProject(project: any): Project {\n  return {\n    id: project.id,\n    name: project.name,\n    name_with_namespace: project.name_with_namespace,\n    fullPath: project.path_with_namespace,\n    web_url: project.web_url,\n    star_count: project.star_count,\n    fork_count: project.forks_count,\n    last_activity_at: project.last_activity_at,\n    readme_url: project.readme_url,\n    avatar_url: project.avatar_url,\n    owner: maybeUserFromJson(project.owner),\n    ssh_url_to_repo: project.ssh_url_to_repo,\n    http_url_to_repo: project.http_url_to_repo,\n    default_branch: project.default_branch,\n    archived: project.archived,\n  };\n}\n\nexport function jsonDataToMergeRequest(mr: any): MergeRequest {\n  return {\n    title: mr.title,\n    web_url: mr.web_url,\n    id: mr.id,\n    iid: mr.iid,\n    state: mr.state,\n    updated_at: mr.updated_at,\n    author: maybeUserFromJson(mr.author),\n    assignees: mr.assignees.map(userFromJson),\n    reviewers: mr.reviewers.map(userFromJson),\n    project_id: mr.project_id,\n    description: mr.description,\n    reference_full: mr.references?.full,\n    labels: mr.labels as Label[],\n    source_branch: mr.source_branch,\n    target_branch: mr.target_branch,\n    merge_commit_sha: mr.merge_commit_sha,\n    sha: mr.sha,\n    milestone: mr.milestone ? (mr.milestone as Milestone) : undefined,\n    draft: mr.draft,\n    has_conflicts: mr.has_conflicts === true || false,\n  };\n}\n\nexport function jsonDataToIssue(issue: any): Issue {\n  const dataToMilestone = (data: any): Milestone | undefined => {\n    if (data) {\n      return {\n        id: data.id,\n        title: data.title,\n      };\n    }\n    return undefined;\n  };\n  return {\n    title: issue.title,\n    description: issue.description,\n    web_url: issue.web_url,\n    id: issue.id,\n    iid: issue.iid,\n    reference_full: issue.references?.full,\n    state: issue.state,\n    updated_at: issue.updated_at,\n    author: maybeUserFromJson(issue.author),\n    assignees: issue.assignees.map(userFromJson),\n    project_id: issue.project_id,\n    milestone: dataToMilestone(issue.milestone),\n    labels: issue.labels as Label[],\n  };\n}\n\nfunction paramString(params: { [key: string]: string }): string {\n  const p: string[] = [];\n  for (const k in params) {\n    const v = encodeURI(params[k]);\n    p.push(`${k}=${v}`);\n  }\n  let prefix = \"\";\n  if (p.length > 0) {\n    prefix = \"?\";\n  }\n  return prefix + p.join(\"&\");\n}\n\nfunction getNextPageNumber(page_response: Response): number | undefined {\n  const header = page_response.headers.get(\"x-next-page\");\n  return header ? parseInt(header) : undefined;\n}\n\nexport enum EpicState {\n  opened = \"opened\",\n  closed = \"closed\",\n  all = \"all\",\n}\n\nexport enum EpicScope {\n  created_by_me = \"created_by_me\",\n  all = \"all\",\n}\n\nexport interface Branch {\n  name: string;\n  default: boolean;\n  web_url: string;\n}\n\nexport interface Epic {\n  id: number;\n  iid: number;\n  group_id: number;\n  title: string;\n  state: string;\n  web_url: string;\n  author?: any;\n}\n\nexport interface Group {\n  id: number;\n  web_url: string;\n  name: string;\n  path: string;\n  description: string;\n  full_name: string;\n  full_path: string;\n  projects: Project[];\n}\n\nexport class Label {\n  public id = 0;\n  public name = \"\";\n  public color = \"\";\n  public textColor = \"\";\n  public description = \"\";\n  public subscribed?: boolean | undefined;\n}\n\nexport class Milestone {\n  public id = 0;\n  public title = \"\";\n}\n\nexport class Issue {\n  public title = \"\";\n  public description = \"\";\n  public web_url = \"\";\n  public id = 0;\n  public iid = 0;\n  public reference_full = \"\";\n  public state = \"\";\n  public author: User | undefined;\n  public assignees: User[] = [];\n  public updated_at = \"\";\n  public project_id = 0;\n  public milestone?: Milestone = undefined;\n  public labels: Label[] = [];\n}\n\nexport class MergeRequest {\n  public title = \"\";\n  public description = \"\";\n  public web_url = \"\";\n  public id = 0;\n  public iid = 0;\n  public state = \"\";\n  public author: User | undefined;\n  public assignees: User[] = [];\n  public reviewers: User[] = [];\n  public updated_at = \"\";\n  public project_id = 0;\n  public reference_full = \"\";\n  public labels: Label[] = [];\n  public source_branch = \"\";\n  public target_branch = \"\";\n  public merge_commit_sha = \"\";\n  public sha = \"\";\n  public milestone?: Milestone;\n  public draft = false;\n  public has_conflicts = false;\n}\n\nexport interface TodoGroup {\n  id: number;\n  name: string;\n  path: string;\n  kind: string;\n  full_path: string;\n  parent_id: number;\n  avatar_url?: string;\n  web_url: string;\n}\n\nexport class Todo {\n  public title = \"\";\n  public target_url = \"\";\n  public target_type = \"\";\n  public target: any;\n  public id = 0;\n  public action_name = \"\";\n  public project_with_namespace = \"\";\n  public group?: TodoGroup;\n  public author?: User = undefined;\n  public created_at = \"\";\n  public updated_at = \"\";\n}\n\nexport class Project {\n  public id = 0;\n  public name_with_namespace = \"\";\n  public name = \"\";\n  public fullPath = \"\";\n  public web_url = \"\";\n  public star_count = 0;\n  public fork_count = 0;\n  public last_activity_at = \"\";\n  public readme_url = \"\";\n  public avatar_url = \"\";\n  public owner?: User;\n  public ssh_url_to_repo?: string = undefined;\n  public http_url_to_repo?: string = undefined;\n  public default_branch = \"\";\n  public archived = false;\n}\n\nexport class User {\n  public id = 0;\n  public name = \"\";\n  public username = \"\";\n  public state = \"\";\n  public avatar_url = \"\";\n  public web_url = \"\";\n}\n\nexport interface Status {\n  emoji: string;\n  message: string;\n  clear_status_after?: string | undefined;\n  clear_status_at?: Date | undefined;\n}\n\nexport function isValidStatus(status: Status): boolean {\n  if (status.message || status.emoji) {\n    return true;\n  }\n  return false;\n}\n\nasync function toJsonOrError(response: Response): Promise<any> {\n  const s = response.status;\n  logAPI(`status code: ${s}`);\n  if (s >= 200 && s < 300) {\n    const json = await response.json();\n    return json;\n  } else if (s == 401) {\n    throw Error(\"Unauthorized\");\n  } else if (s == 403) {\n    const json = await response.json();\n    let msg = \"Forbidden\";\n    if (json.error && json.error == \"insufficient_scope\") {\n      msg = \"Insufficient API token scope\";\n    }\n    logAPI(msg);\n    throw Error(msg);\n  } else if (s == 404) {\n    throw Error(\"Not found\");\n  } else if (s >= 400 && s < 500) {\n    const json = await response.json();\n    logAPI(json);\n    const msg = json.message;\n    throw Error(msg);\n  } else {\n    logAPI(\"unknown error\");\n    throw Error(`http status ${s}`);\n  }\n}\n\nexport class GitLab {\n  public token: string;\n  private url: string;\n  constructor(url: string, token: string) {\n    this.token = token;\n    this.url = url;\n  }\n\n  public joinUrl(relativeUrl: string): string {\n    return new URL(relativeUrl, this.url).href;\n  }\n\n  public async fetch(url: string, params: { [key: string]: string } = {}, all = false): Promise<any> {\n    const per_page = all ? 100 : 50;\n    const fetchPage = async (page: number): Promise<Response> => {\n      const pagedParams = { ...params, ...{ per_page: `${per_page}`, page: `${page}` } };\n      const ps = paramString(pagedParams);\n      const fullUrl = this.url + \"/api/v4/\" + url + ps;\n      logAPI(`send GET request: ${fullUrl}`);\n      const agent = getHttpAgent();\n      const response = await fetch(fullUrl, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"PRIVATE-TOKEN\": this.token,\n        },\n        agent: agent,\n      });\n      return response;\n    };\n    try {\n      const response = await fetchPage(1);\n      let json = await toJsonOrError(response);\n      if (!all) {\n        return json;\n      }\n\n      let next_page = getNextPageNumber(response);\n      while (next_page) {\n        logAPI(next_page);\n        const page_response = await fetchPage(next_page);\n        const page_content = await toJsonOrError(page_response);\n        json = json.concat(page_content);\n        next_page = getNextPageNumber(page_response);\n      }\n      return json;\n    } catch (error: any) {\n      throw Error(error); // rethrow error, otherwise raycast could not catch the error\n    }\n  }\n\n  public async downloadFile(url: string, params: { localFilepath: string }): Promise<string> {\n    logAPI(`download ${url}`);\n    const response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"PRIVATE-TOKEN\": this.token,\n      },\n    });\n    if (!response.ok) {\n      throw new Error(`unexpected response ${response.statusText}`);\n    }\n    logAPI(`write ${url} to ${params.localFilepath}`);\n    await streamPipeline(response.body, fs.createWriteStream(params.localFilepath));\n    return params.localFilepath;\n  }\n\n  public async post(url: string, params: { [key: string]: any } = {}): Promise<any> {\n    const fullUrl = this.url + \"/api/v4/\" + url;\n    logAPI(`send POST request: ${fullUrl}`);\n    logAPI(params);\n    try {\n      const response = await fetch(fullUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"PRIVATE-TOKEN\": this.token,\n        },\n        body: JSON.stringify(params),\n      });\n      const s = response.status;\n      logAPI(`status code: ${s}`);\n      if (s >= 200 && s < 300) {\n        const json = await response.json();\n        return json;\n      } else if (s === 304) {\n        // Not Modified\n        // ignored\n      } else if (s == 401) {\n        throw Error(\"Unauthorized\");\n      } else if (s == 403) {\n        const json = await response.json();\n        let msg = \"Forbidden\";\n        if (json.error && json.error == \"insufficient_scope\") {\n          msg = \"Insufficient API token scope\";\n        }\n        logAPI(msg);\n        throw Error(msg);\n      } else if (s == 404) {\n        throw Error(\"Not found\");\n      } else if (s >= 400 && s < 500) {\n        const json = await response.json();\n        logAPI(json);\n        let msg = `http status ${s}`;\n        if (json.message) {\n          // TODO better form error handling\n          msg = JSON.stringify(json.message);\n        }\n        throw Error(msg);\n      } else {\n        logAPI(\"unknown error\");\n        throw Error(`http status ${s}`);\n      }\n    } catch (e: any) {\n      logAPI(`catch error: ${e}`);\n      throw Error(e.message); // rethrow error, otherwise raycast could not catch the error\n    }\n  }\n\n  public async put(url: string, params: { [key: string]: any } = {}): Promise<void> {\n    const fullUrl = this.url + \"/api/v4/\" + url;\n    logAPI(`send PUT request: ${fullUrl}`);\n    logAPI(params);\n    try {\n      const response = await fetch(fullUrl, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"PRIVATE-TOKEN\": this.token,\n        },\n        body: JSON.stringify(params),\n      });\n      await toJsonOrError(response);\n    } catch (e: any) {\n      logAPI(`catch error: ${e}`);\n      throw Error(e.message); // rethrow error, otherwise raycast could not catch the error\n    }\n  }\n\n  async getIssues(params: Record<string, any>, project?: Project, all?: boolean): Promise<Issue[]> {\n    const projectPrefix = project ? `projects/${project.id}/` : \"\";\n    if (!params.with_labels_details) {\n      params.with_labels_details = \"true\";\n    }\n    const issueItems: Issue[] = await this.fetch(`${projectPrefix}issues`, params, all).then((issues) => {\n      return issues.map((issue: any) => jsonDataToIssue(issue));\n    });\n    return issueItems;\n  }\n\n  async getIssue(projectID: number, issueID: number, params: Record<string, any>): Promise<Issue> {\n    if (!params.with_labels_details) {\n      params.with_labels_details = \"true\";\n    }\n    const projectPrefix = `projects/${projectID}/issues/${issueID}`;\n    const result: Issue = await this.fetch(`${projectPrefix}`, params).then((issue) => {\n      return jsonDataToIssue(issue);\n    });\n    return result;\n  }\n\n  async getGroupIssues(params: Record<string, any>, groupID: number): Promise<Issue[]> {\n    if (!params.with_labels_details) {\n      params.with_labels_details = \"true\";\n    }\n    const issueItems: Issue[] = await this.fetch(`groups/${groupID}/issues`, params).then((issues) => {\n      return issues.map((issue: any) => jsonDataToIssue(issue));\n    });\n    return issueItems;\n  }\n\n  async createIssue(projectID: number, data: { [key: string]: any }): Promise<void> {\n    await this.post(`projects/${projectID}/issues`, data);\n  }\n\n  async createMR(projectID: number, data: { [key: string]: any }): Promise<void> {\n    await this.post(`projects/${projectID}/merge_requests`, data);\n  }\n\n  async getProjectMember(projectId: number): Promise<User[]> {\n    const userItems: User[] = await this.fetch(`projects/${projectId}/users`).then((users) => {\n      return users.map((userdata: any) => ({\n        id: userdata.id,\n        name: userdata.name,\n        username: userdata.username,\n        web_url: userdata.web_url,\n        avatar_url: userdata.avatar_url,\n        state: userdata.state,\n      }));\n    });\n    return userItems;\n  }\n\n  async getProjectLabels(projectId: number): Promise<Label[]> {\n    const items: Label[] = await this.fetch(`projects/${projectId}/labels`, {}, true).then((labels) => {\n      return labels.map((data: any) => ({\n        id: data.id,\n        name: data.name,\n        color: data.color,\n        textColor: data.text_color,\n        description: data.description,\n        subscribed: data.subscribed || undefined,\n      }));\n    });\n    return items;\n  }\n\n  async getProjectMilestones(projectId: number): Promise<Milestone[]> {\n    const items: Milestone[] = await this.fetch(`projects/${projectId}/milestones`).then((labels) => {\n      return labels.map((data: any) => ({\n        id: data.id,\n        title: data.title,\n      }));\n    });\n    return items;\n  }\n\n  async getGroupMilestones(group: Group): Promise<Milestone[]> {\n    const items: Milestone[] = await this.fetch(`groups/${group.id}/milestones`).then((labels) => {\n      return labels.map((data: any) => ({\n        id: data.id,\n        title: data.title,\n      }));\n    });\n    return items;\n  }\n\n  async getUserProjects(params: Record<string, any> = {}, all: boolean): Promise<Project[]> {\n    if (!params.min_access_level) {\n      params.min_access_level = \"30\";\n    }\n    return await this.fetch(\"projects\", params, all).then((projects: any[]) => {\n      return projects.map((p: any) => dataToProject(p));\n    });\n  }\n\n  async getProjects(args = { searchText: \"\", searchIn: \"\" }): Promise<Project[]> {\n    const params: { [key: string]: string } = {};\n    if (args.searchText) {\n      params.search = args.searchText;\n      params.in = args.searchIn || \"title\";\n    }\n    const issueItems: Project[] = await this.fetch(\"projects\", params).then((projects) => {\n      return projects.map((project: any) => dataToProject(project));\n    });\n    return issueItems;\n  }\n\n  async getProject(projectID: number): Promise<Project> {\n    const pro: Project = await this.fetch(`projects/${projectID}`).then((project) => {\n      return dataToProject(project);\n    });\n    return pro;\n  }\n\n  async getStarredProjects(args = { searchText: \"\", searchIn: \"\" }, all: boolean): Promise<Project[]> {\n    const params: { [key: string]: string } = {};\n    if (args.searchText && args.searchText.length > 0) {\n      params.searchText = args.searchText;\n    }\n    if (args.searchIn && args.searchIn.length > 0) {\n      params.searchIn = args.searchIn;\n    }\n    const user = await this.getMyself();\n    const projects: Project[] = await this.fetch(`users/${user.id}/starred_projects`, params, all).then(\n      (projects: any[]) => {\n        return projects.map((p: any) => dataToProject(p));\n      }\n    );\n    return projects;\n  }\n\n  async getUsers(args = { searchText: \"\", searchIn: \"\" }): Promise<User[]> {\n    const params: { [key: string]: string } = {};\n    if (args.searchText) {\n      params.search = args.searchText;\n      params.in = args.searchIn || \"title\";\n    }\n    const userItems: User[] = await this.fetch(\"users\", params).then((users) => {\n      return users.map((userdata: any) => ({\n        id: userdata.id,\n        name: userdata.name,\n        username: userdata.username,\n        web_url: userdata.web_url,\n        avatar_url: userdata.avatar_url,\n        state: userdata.state,\n      }));\n    });\n    return userItems;\n  }\n\n  async getMergeRequests(params: Record<string, any>, project?: Project): Promise<MergeRequest[]> {\n    if (!params.with_labels_details) {\n      params.with_labels_details = \"true\";\n    }\n    const projectPrefix = project ? `projects/${project.id}/` : \"\";\n    const issueItems: MergeRequest[] = await this.fetch(`${projectPrefix}merge_requests`, params).then((issues) => {\n      return issues.map((issue: any) => jsonDataToMergeRequest(issue));\n    });\n    return issueItems;\n  }\n\n  async getMergeRequest(projectID: number, mrID: number, params: Record<string, any>): Promise<MergeRequest> {\n    if (!params.with_labels_details) {\n      params.with_labels_details = \"true\";\n    }\n    const projectPrefix = `projects/${projectID}/merge_requests/${mrID}`;\n    const result: MergeRequest = await this.fetch(`${projectPrefix}`, params).then((mr) => {\n      return jsonDataToMergeRequest(mr);\n    });\n    return result;\n  }\n\n  async getGroupMergeRequests(params: Record<string, any>, group: Group): Promise<MergeRequest[]> {\n    if (!params.with_labels_details) {\n      params.with_labels_details = \"true\";\n    }\n    const issueItems: MergeRequest[] = await this.fetch(`groups/${group.id}/merge_requests`, params).then((issues) => {\n      return issues.map((issue: any) => jsonDataToMergeRequest(issue));\n    });\n    return issueItems;\n  }\n\n  async getTodos(params: Record<string, any>, all?: boolean): Promise<Todo[]> {\n    const issueItems: Todo[] = await this.fetch(\"todos\", params, all).then((issues) => {\n      return issues.map((issue: any) => ({\n        title: issue.target.title,\n        action_name: issue.action_name,\n        target_url: issue.target_url,\n        target_type: issue.target_type,\n        target: issue.target,\n        id: issue.id,\n        project_with_namespace: issue.project ? issue.project.name_with_namespace : undefined,\n        group: issue.group ? (issue.group as TodoGroup) : undefined,\n        author: maybeUserFromJson(issue.author),\n        created_at: issue.created_at,\n        updated_at: issue.updated_at,\n      }));\n    });\n\n    if (params.search) {\n      const lowerSearch = params.search.toLowerCase();\n      const filtered = issueItems.filter((t: Todo) => {\n        return t.title.toLowerCase().includes(lowerSearch);\n      });\n      return filtered;\n    }\n    return issueItems;\n  }\n\n  async getMyself(): Promise<User> {\n    const user: User = await receiveLargeCachedObject(\"user\", async () => {\n      const user: User = await this.fetch(\"user\").then((userdata) => {\n        return {\n          id: userdata.id,\n          name: userdata.name,\n          username: userdata.username,\n          web_url: userdata.web_url,\n          avatar_url: userdata.avatar_url,\n          state: userdata.state,\n        };\n      });\n      return user;\n    });\n    return user;\n  }\n\n  async getUserGroups(params: Record<string, any> = {}): Promise<any> {\n    if (!params.min_access_level) {\n      params.min_access_level = \"30\";\n    }\n    const search = params.search;\n    delete params.search;\n\n    const dataAll: Group[] = await receiveLargeCachedObject(hashRecord(params, \"usergroups\"), async () => {\n      return ((await this.fetch(`groups`, params, true)) as Group[]) || [];\n    });\n    return searchData<Group>(dataAll, { search: search, keys: [\"title\"], limit: 50 });\n  }\n\n  async getUserEpics(params: Record<string, any> = {}): Promise<Epic[]> {\n    if (!params.min_access_level) {\n      params.min_access_level = \"30\";\n    }\n\n    if (params.scope) {\n      if (params.scope == EpicScope.created_by_me) {\n        const user = await this.getMyself();\n        params.author_id = user.id;\n      }\n      delete params.scope;\n    }\n\n    params.include_ancestor_groups = false;\n    params.include_descendant_groups = false;\n\n    const groups = await this.getUserGroups();\n    const epics: Epic[] = [];\n    for (const g of groups) {\n      try {\n        const data = (await this.fetch(`groups/${g.id}/epics`, params, true)) || [];\n        for (const e of data) {\n          epics.push(e);\n        }\n      } catch (e: any) {\n        logAPI(\"skip during error\");\n      }\n    }\n    return epics;\n  }\n\n  async getUserStatus(): Promise<Status> {\n    const status: Status = await this.fetch(\"user/status\").then((data) => {\n      return {\n        message: data.message,\n        emoji: data.emoji,\n        clear_status_at: data.clear_status_at ? new Date(data.clear_status_at as string) : undefined,\n      };\n    });\n    return status;\n  }\n\n  async setUserStatus(status: Status): Promise<void> {\n    const params: Record<string, string> = {\n      emoji: status.emoji,\n      message: status.message,\n    };\n    if (status.clear_status_after && status.clear_status_after.length > 0) {\n      params.clear_status_after = status.clear_status_after;\n    }\n    await this.put(\"user/status\", params);\n  }\n\n  async clearUserStatus(): Promise<void> {\n    const status: Status = {\n      emoji: \"\",\n      message: \"\",\n      clear_status_after: \"\",\n    };\n    await this.put(\"user/status\", {\n      emoji: status.emoji,\n      message: status.message,\n    });\n  }\n}\n\nexport function searchData<Type>(\n  data: any,\n  params: { search: string; keys: string[]; limit: number; threshold?: number; ignoreLocation?: boolean }\n): any {\n  const options = {\n    includeScore: true,\n    threshold: params.threshold || 0.2,\n    keys: params.keys,\n    ignoreLocation: params.ignoreLocation || true,\n  };\n  const search = params.search;\n\n  if (search && search.length > 0) {\n    const fuse = new Fuse(data, options);\n    const searchResult = fuse.search(search, { limit: params.limit });\n\n    const items: Type[] = searchResult.map((result) => {\n      return result.item as Type;\n    });\n    return items;\n  } else {\n    return data.map((result: any) => {\n      return result as Type;\n    });\n  }\n}\n\nexport const DefaultGitLab = new GitLab(\"https://gitlab.com\", \"\");\n", "import emojis from \"./emojis.json\";\n\nexport const clearDurations: Record<string, string> = {\n  \"\": \"Don't clear\",\n  \"30_minutes\": \"30 minutes\",\n  \"3_hours\": \"3 hours\",\n  \"8_hours\": \"8 hours\",\n  \"1_day\": \"1 day\",\n  \"3_days\": \"3 days\",\n  \"7_days\": \"7 days\",\n  \"30_days\": \"30 days\",\n};\n\nconst clearDurationMinutes: Record<string, number> = {\n  \"30_minutes\": 30,\n  \"3_hours\": 60 * 3,\n  \"8_hours\": 60 * 8,\n  \"1_day\": 60 * 24,\n  \"3_days\": 60 * 24 * 3,\n  \"7_days\": 60 * 24 * 7,\n  \"30_days\": 60 * 24 * 30,\n};\n\nexport function clearDurationText(key: string | undefined | null): string {\n  if (key === undefined || key === null) {\n    return \"\";\n  }\n  const r = clearDurations[key] || undefined;\n  if (r === undefined) {\n    return \"\";\n  }\n  return r;\n}\n\nfunction getClearDurationMinutes(key: string | undefined | null): number | undefined {\n  if (key === undefined || key == null) {\n    return undefined;\n  }\n  const r = clearDurationMinutes[key];\n  return r;\n}\n\nexport function getClearDurationDate(key: string | undefined | null): Date | undefined {\n  const minutes = getClearDurationMinutes(key);\n  if (minutes === undefined) {\n    return undefined;\n  }\n  const d = new Date();\n  d.setMinutes(d.getMinutes() + minutes);\n  return d;\n}\n\nexport function emojiSymbol(text: string | undefined): string {\n  if (!text) {\n    return \"\";\n  }\n  const es = emojis as Record<string, string>;\n  const val = es[text];\n  if (val === undefined) {\n    return \"\";\n  }\n  return val;\n}\n\nexport function getAllEmojiSymbolAliases(): string[] {\n  const es = emojis as Record<string, string>;\n  return Object.keys(es).map((e) => e);\n}\n", "import { LocalStorage } from \"@raycast/api\";\nimport { useEffect, useState } from \"react\";\nimport { isValidStatus, Status } from \"../../gitlabapi\";\nimport { getErrorMessage } from \"../../utils\";\n\nconst presetsStoreKey = \"presets\";\n\nexport async function wipePresets(): Promise<void> {\n  await LocalStorage.removeItem(presetsStoreKey);\n}\n\nasync function storePresets(presets: Status[]) {\n  await LocalStorage.setItem(presetsStoreKey, JSON.stringify(presets));\n}\n\nasync function restorePresets(): Promise<Status[] | undefined> {\n  const content = await LocalStorage.getItem(presetsStoreKey);\n  if (content !== undefined) {\n    const data = JSON.parse(content.toString());\n    if (Array.isArray(data)) {\n      const result: Status[] = [];\n      for (const d of data) {\n        const stat: Status = {\n          emoji: d.emoji || \"\",\n          message: d.message || \"\",\n          clear_status_after: d.clear_status_after || \"\",\n        };\n        if (isValidStatus(stat)) {\n          result.push(stat);\n        }\n      }\n      return result;\n    }\n  }\n  return undefined;\n}\n\nexport function usePresets(): {\n  presets: Status[];\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  error: string | undefined;\n  isLoading: boolean;\n} {\n  const [presets, setPresets] = useState<Status[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string>();\n\n  useEffect(() => {\n    let didUnmount = false;\n\n    async function fetchData() {\n      if (didUnmount) {\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const presets = await restorePresets();\n        if (!didUnmount) {\n          const data = presets || predefinedPresets();\n          await storePresets(data);\n          setPresets(data);\n        }\n      } catch (error) {\n        setError(getErrorMessage(error));\n      } finally {\n        if (!didUnmount) {\n          setIsLoading(false);\n        }\n      }\n    }\n    fetchData();\n    return () => {\n      didUnmount = true;\n    };\n  }, []);\n\n  return { presets, setPresets, error, isLoading };\n}\n\nexport function predefinedPresets(): Status[] {\n  return [\n    {\n      emoji: \"calendar\",\n      message: \"In a Meeting\",\n      clear_status_after: \"30_minutes\",\n    },\n    {\n      emoji: \"coffee\",\n      message: \"Coffee break\",\n      clear_status_after: \"30_minutes\",\n    },\n    {\n      emoji: \"palm_tree\",\n      message: \"Holidays\",\n      clear_status_after: \"7_days\",\n    },\n    {\n      emoji: \"keyboard\",\n      message: \"AFK\",\n      clear_status_after: \"30_minutes\",\n    },\n    {\n      emoji: \"hamburger\",\n      message: \"Eating\",\n      clear_status_after: \"30_minutes\",\n    },\n    {\n      emoji: \"globe_with_meridians\",\n      message: \"Just saving the World\",\n      clear_status_after: \"\",\n    },\n  ];\n}\n", "import { Action, ActionPanel, Color, Icon, useNavigation } from \"@raycast/api\";\nimport { gitlab } from \"../../common\";\nimport { Status } from \"../../gitlabapi\";\nimport { getErrorMessage, showErrorToast } from \"../../utils\";\nimport { StatusFormPresetCreate, StatusFormPresetEdit, StatusFormSet } from \"./form\";\nimport { wipePresets, predefinedPresets } from \"./presets\";\nimport { clearDurations, clearDurationText, getClearDurationDate } from \"./utils\";\n\nexport function StatusSetCustomAction(props: {\n  setCurrentStatus: React.Dispatch<React.SetStateAction<Status | undefined>>;\n}): JSX.Element {\n  return (\n    <Action.Push\n      title=\"Set Custom Status\"\n      icon={{ source: Icon.Document, tintColor: Color.PrimaryText }}\n      shortcut={{ modifiers: [\"cmd\"], key: \"n\" }}\n      target={<StatusFormSet setCurrentStatus={props.setCurrentStatus} />}\n    />\n  );\n}\n\nexport function StatusClearCurrentAction(props: {\n  status?: Status | undefined;\n  setCurrentStatus: React.Dispatch<React.SetStateAction<Status | undefined>>;\n}): JSX.Element | null {\n  const status = props.status;\n  if (status === undefined) {\n    return null;\n  }\n  if (status.emoji || status.message) {\n    const handle = async () => {\n      try {\n        await gitlab.clearUserStatus();\n        props.setCurrentStatus({ emoji: \"\", message: \"\" });\n      } catch (error) {\n        showErrorToast(getErrorMessage(error), \"Could not clear Status\");\n      }\n    };\n    return <Action title=\"Clear Status\" icon={{ source: Icon.XMarkCircle, tintColor: Color.Red }} onAction={handle} />;\n  }\n  return null;\n}\n\nexport function StatusPresetFactoryResetAction(props: {\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n}): JSX.Element {\n  const handle = async () => {\n    try {\n      await wipePresets();\n      props.setPresets(predefinedPresets());\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not reset Presets\");\n    }\n  };\n  return (\n    <Action title=\"Preset Factory Reset\" icon={{ source: Icon.XMarkCircle, tintColor: Color.Red }} onAction={handle} />\n  );\n}\n\nexport function StatusPresetCreateAction(props: {\n  presets: Status[];\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n}): JSX.Element {\n  const presets = props.presets;\n  const { push, pop } = useNavigation();\n  return (\n    <Action\n      title=\"Create Status Preset\"\n      icon={{ source: Icon.Document, tintColor: Color.PrimaryText }}\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"n\" }}\n      onAction={() => {\n        push(\n          <StatusFormPresetCreate\n            presets={presets}\n            setPresets={props.setPresets}\n            onFinish={async (newStatus: Status) => {\n              const np = presets === undefined ? [] : [...presets, newStatus];\n              props.setPresets(np);\n              pop();\n            }}\n          />\n        );\n      }}\n    />\n  );\n}\n\nexport function StatusPresetSetAction(props: {\n  status: Status;\n  setCurrentStatus: React.Dispatch<React.SetStateAction<Status | undefined>>;\n}): JSX.Element {\n  const handle = async () => {\n    try {\n      await gitlab.setUserStatus(props.status);\n      props.status.clear_status_at = getClearDurationDate(props.status.clear_status_after);\n      props.setCurrentStatus(props.status);\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not set Status\");\n    }\n  };\n  return <Action title=\"Set Status\" icon={{ source: Icon.Pencil, tintColor: Color.PrimaryText }} onAction={handle} />;\n}\n\nexport function StatusPresetSetWithDurationAction(props: {\n  status: Status;\n  setCurrentStatus: React.Dispatch<React.SetStateAction<Status | undefined>>;\n}): JSX.Element {\n  const handle = async (durationKey: string) => {\n    try {\n      const newStatus = { ...props.status, clear_status_after: durationKey };\n      await gitlab.setUserStatus(newStatus);\n      newStatus.clear_status_at = getClearDurationDate(newStatus.clear_status_after);\n      props.setCurrentStatus(newStatus);\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not set Status\");\n    }\n  };\n\n  return (\n    <ActionPanel.Submenu title=\"Set Status with Duration\" icon={{ source: Icon.Clock, tintColor: Color.PrimaryText }}>\n      {Object.keys(clearDurations).map((k) => (\n        <Action key={k + \"_\"} title={clearDurationText(k)} onAction={() => handle(k)} />\n      ))}\n    </ActionPanel.Submenu>\n  );\n}\n\nexport function StatusPresetEditAction(props: {\n  status: Status;\n  presets: Status[];\n  index: number;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n}): JSX.Element {\n  const presets = props.presets;\n  const index = props.index;\n  const setStatus = async (newStatus: Status) => {\n    try {\n      if (index >= 0 && index < presets.length) {\n        const np = [...presets];\n        np[index] = newStatus;\n        props.setPresets(np);\n        pop();\n      } else {\n        throw Error(\"Preset index out of bounds\");\n      }\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not edit Preset\");\n    }\n  };\n  const { push, pop } = useNavigation();\n  return (\n    <Action\n      title=\"Edit Preset\"\n      icon={{ source: Icon.Pencil, tintColor: Color.PrimaryText }}\n      shortcut={{ modifiers: [\"cmd\"], key: \"e\" }}\n      onAction={() => {\n        push(\n          <StatusFormPresetEdit\n            status={props.status}\n            presets={presets}\n            setPresets={props.setPresets}\n            onFinish={setStatus}\n          />\n        );\n      }}\n    />\n  );\n}\n\nexport function StatusPresetDeleteAction(props: {\n  presets: Status[];\n  index: number;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n}): JSX.Element {\n  const presets = props.presets;\n  const index = props.index;\n  const handle = async () => {\n    try {\n      if (index >= 0 && index < presets.length) {\n        const np = presets.filter((_, i) => i != index);\n        props.setPresets(np);\n      } else {\n        throw Error(\"Preset index out of bounds\");\n      }\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not remove Preset\");\n    }\n  };\n  return (\n    <Action\n      title=\"Delete Preset\"\n      icon={{ source: Icon.Trash, tintColor: Color.PrimaryText }}\n      shortcut={{ modifiers: [\"opt\"], key: \"x\" }}\n      onAction={handle}\n    />\n  );\n}\n\nexport function StatusPresetMoveUpAction(props: {\n  presets: Status[];\n  index: number;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  setSelectedId: React.Dispatch<React.SetStateAction<string | undefined>>;\n}): JSX.Element | null {\n  const index = props.index;\n  if (index - 1 < 0) {\n    return null;\n  }\n  const handle = () => {\n    const np = [...props.presets];\n    const temp = np[index - 1];\n    np[index - 1] = np[index];\n    np[index] = temp;\n    props.setPresets(np);\n    props.setSelectedId(`preset_${index - 1}`);\n  };\n  return (\n    <Action\n      title=\"Move Up\"\n      onAction={handle}\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"arrowUp\" }}\n      icon={{ source: Icon.ChevronUp, tintColor: Color.PrimaryText }}\n    />\n  );\n}\n\nexport function StatusPresetMoveDownAction(props: {\n  presets: Status[];\n  index: number;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  setSelectedId: React.Dispatch<React.SetStateAction<string | undefined>>;\n}): JSX.Element | null {\n  const index = props.index;\n  const upperIndex = index + 1;\n  if (upperIndex >= props.presets.length) {\n    return null;\n  }\n  const handle = () => {\n    const np = [...props.presets];\n    const temp = np[upperIndex];\n    np[upperIndex] = np[index];\n    np[index] = temp;\n    props.setPresets(np);\n    props.setSelectedId(`preset_${upperIndex}`);\n  };\n  return (\n    <Action\n      title=\"Move Down\"\n      onAction={handle}\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"arrowDown\" }}\n      icon={{ source: Icon.ChevronDown, tintColor: Color.PrimaryText }}\n    />\n  );\n}\n", "import { Form, ActionPanel, useNavigation, Action } from \"@raycast/api\";\nimport { isValidStatus, Status } from \"../../gitlabapi\";\nimport {\n  clearDurations,\n  clearDurationText,\n  emojiSymbol,\n  getAllEmojiSymbolAliases,\n  getClearDurationDate,\n} from \"./utils\";\nimport { gitlab } from \"../../common\";\nimport { getErrorMessage, showErrorToast } from \"../../utils\";\n\nexport function StatusForm(props: {\n  submitTitle: string;\n  onSubmit: (values: Form.Values) => Promise<void>;\n  existingStatus?: Status | undefined;\n}): JSX.Element {\n  const es = props.existingStatus;\n  const emoji = es?.emoji;\n  const message = es?.message;\n  const duration = es?.clear_status_after || \"\";\n  return (\n    <Form\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm title={props.submitTitle} onSubmit={props.onSubmit} />\n        </ActionPanel>\n      }\n    >\n      <StatusEmojiDropDown id=\"emoji\" title=\"Emoji\" defaultValue={emoji} />\n      <Form.TextField id=\"message\" title=\"Message\" defaultValue={message} />\n      <StatusDurationDropDown id=\"clear_status_after\" defaultValue={duration} />\n    </Form>\n  );\n}\n\nfunction StatusDurationDropDown(props: { id: string; defaultValue: string | undefined }): JSX.Element {\n  return (\n    <Form.Dropdown id={props.id} title=\"Duration\" defaultValue={props.defaultValue}>\n      {Object.keys(clearDurations).map((k) => (\n        <Form.Dropdown.Item key={k + \"_\"} title={clearDurationText(k)} value={k} />\n      ))}\n    </Form.Dropdown>\n  );\n}\n\nfunction StatusEmojiDropDown(props: { id: string; title: string; defaultValue?: string | undefined }): JSX.Element {\n  return (\n    <Form.Dropdown id={props.id} title={props.title} defaultValue={props.defaultValue}>\n      <Form.Dropdown.Item key=\"-\" title=\"-\" value=\"\" />\n      {getAllEmojiSymbolAliases().map((k) => (\n        <Form.Dropdown.Item key={k} title={`:${k}:`} value={k} icon={emojiSymbol(k)} />\n      ))}\n    </Form.Dropdown>\n  );\n}\n\nexport function StatusFormSet(props: {\n  setCurrentStatus?: React.Dispatch<React.SetStateAction<Status | undefined>>;\n}): JSX.Element {\n  const { pop } = useNavigation();\n  const handle = async (values: Form.Values) => {\n    try {\n      const status = getValidStatusFromFormValue(values);\n      await gitlab.setUserStatus(status);\n      if (props.setCurrentStatus) {\n        props.setCurrentStatus(status);\n      }\n      pop();\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not set Status\");\n    }\n  };\n  return <StatusForm onSubmit={handle} submitTitle=\"Set Status\" />;\n}\n\nfunction getValidStatusFromFormValue(values: Form.Values): Status {\n  const s: Status = {\n    emoji: values.emoji,\n    message: values.message,\n    clear_status_after: values.clear_status_after,\n    clear_status_at: getClearDurationDate(values.clear_status_after),\n  };\n  if (!isValidStatus(s)) {\n    throw Error(\"Invalid Status\");\n  }\n  return s;\n}\n\nexport function StatusFormPresetCreate(props: {\n  presets: Status[] | undefined;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  onFinish: (status: Status) => Promise<void>;\n}): JSX.Element {\n  const handle = async (values: Form.Values) => {\n    try {\n      const status = getValidStatusFromFormValue(values);\n      props.onFinish(status);\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not create Preset\");\n    }\n  };\n  return <StatusForm onSubmit={handle} submitTitle=\"Create Preset\" />;\n}\n\nexport function StatusFormPresetEdit(props: {\n  status: Status;\n  presets: Status[] | undefined;\n  setPresets: React.Dispatch<React.SetStateAction<Status[]>>;\n  onFinish: (status: Status) => Promise<void>;\n}): JSX.Element {\n  const handle = async (values: Form.Values) => {\n    try {\n      const status = getValidStatusFromFormValue(values);\n      await props.onFinish(status);\n    } catch (error) {\n      showErrorToast(getErrorMessage(error), \"Could not edit Preset\");\n    }\n  };\n  return <StatusForm onSubmit={handle} submitTitle=\"Edit Preset\" existingStatus={props.status} />;\n}\n"],
  "mappings": "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",
  "names": ["require_lib", "__commonJSMin", "exports", "module", "conversions", "sign", "x", "evenRound", "createNumberConversion", "bitLength", "typeOpts", "lowerBound", "upperBound", "moduloVal", "moduloBound", "V", "opts", "val", "c", "i", "S", "n", "U", "d", "a", "b", "require_utils", "__commonJSMin", "exports", "module", "target", "source", "keys", "i", "impl", "wrapper", "require_tr46", "__commonJSMin", "exports", "module", "punycode", "mappingTable", "PROCESSING_OPTIONS", "normalize", "str", "s", "findStatus", "val", "start", "end", "mid", "target", "regexAstralSymbols", "countSymbols", "string", "mapChars", "domain_name", "useSTD3", "processing_option", "hasError", "processed", "len", "i", "codePoint", "status", "combiningMarksRegex", "validateLabel", "label", "error", "processing", "result", "labels", "validation", "verifyDnsLength", "total", "require_url_state_machine", "__commonJSMin", "exports", "module", "punycode", "tr46", "specialSchemes", "failure", "countSymbols", "str", "at", "input", "idx", "c", "isASCIIDigit", "isASCIIAlpha", "isASCIIAlphanumeric", "isASCIIHex", "isSingleDot", "buffer", "isDoubleDot", "isWindowsDriveLetterCodePoints", "cp1", "cp2", "isWindowsDriveLetterString", "string", "isNormalizedWindowsDriveLetterString", "containsForbiddenHostCodePoint", "containsForbiddenHostCodePointExcludingPercent", "isSpecialScheme", "scheme", "isSpecial", "url", "defaultPort", "percentEncode", "hex", "utf8PercentEncode", "buf", "i", "utf8PercentDecode", "output", "isC0ControlPercentEncode", "extraPathPercentEncodeSet", "isPathPercentEncode", "extraUserinfoPercentEncodeSet", "isUserinfoPercentEncode", "percentEncodeChar", "encodeSetPredicate", "cStr", "parseIPv4Number", "R", "parseIPv4", "parts", "numbers", "part", "n", "ipv4", "counter", "serializeIPv4", "address", "parseIPv6", "pieceIndex", "compress", "pointer", "value", "length", "numbersSeen", "ipv4Piece", "number", "swaps", "temp", "serializeIPv6", "findLongestZeroSequence", "ignore0", "parseHost", "isSpecialArg", "parseOpaqueHost", "domain", "asciiDomain", "ipv4Host", "decoded", "arr", "maxIdx", "maxLen", "currStart", "currLen", "serializeHost", "host", "trimControlChars", "trimTabAndNewline", "shortenPath", "path", "isNormalizedWindowsDriveLetter", "includesCredentials", "cannotHaveAUsernamePasswordPort", "URLStateMachine", "base", "encodingOverride", "stateOverride", "res", "ret", "len", "codePoint", "encodedCodePoints", "port", "fileOtherwiseCodePoints", "serializeURL", "excludeFragment", "serializeOrigin", "tuple", "result", "options", "usm", "username", "password", "integer", "require_URL_impl", "__commonJSMin", "exports", "usm", "constructorArgs", "url", "base", "parsedBase", "parsedURL", "v", "input", "require_URL", "__commonJSMin", "exports", "module", "conversions", "utils", "Impl", "impl", "URL", "url", "args", "i", "V", "obj", "constructorArgs", "privateData", "require_public_api", "__commonJSMin", "exports", "require_lib", "__commonJSMin", "exports", "module", "_interopDefault", "ex", "Stream", "http", "Url", "whatwgUrl", "https", "zlib", "Readable", "BUFFER", "TYPE", "Blob", "blobParts", "options", "buffers", "size", "a", "length", "i", "element", "buffer", "type", "buf", "ab", "readable", "start", "end", "relativeStart", "relativeEnd", "span", "slicedBuffer", "blob", "FetchError", "message", "systemError", "convert", "INTERNALS", "PassThrough", "Body", "body", "_this", "_ref", "_ref$size", "_ref$timeout", "timeout", "isURLSearchParams", "isBlob", "err", "error", "consumeBody", "ct", "_this2", "_this3", "convertBody", "proto", "name", "desc", "_this4", "accum", "accumBytes", "abort", "resolve", "reject", "resTimeout", "chunk", "headers", "charset", "res", "str", "obj", "clone", "instance", "p1", "p2", "extractContentType", "getTotalBytes", "writeToStream", "dest", "invalidTokenRegex", "invalidHeaderCharRegex", "validateName", "validateValue", "value", "find", "map", "key", "MAP", "Headers", "init", "rawHeaders", "headerNames", "headerName", "method", "pairs", "pair", "callback", "thisArg", "getHeaders", "_pairs$i", "createHeadersIterator", "kind", "k", "INTERNAL", "target", "iterator", "HeadersIteratorPrototype", "_INTERNAL", "index", "values", "len", "exportNodeCompatibleHeaders", "hostHeaderKey", "createHeadersLenient", "val", "INTERNALS$1", "STATUS_CODES", "Response", "opts", "status", "contentType", "INTERNALS$2", "URL", "parse_url", "format_url", "parseURL", "urlStr", "streamDestructionSupported", "isRequest", "input", "isAbortSignal", "signal", "Request", "parsedURL", "inputBody", "getNodeRequestOptions", "request", "contentLengthValue", "totalBytes", "agent", "AbortError", "URL$1", "PassThrough$1", "isDomainOrSubdomain", "destination", "original", "orig", "fetch", "url", "send", "response", "abortAndFinalize", "finalize", "req", "reqTimeout", "socket", "location", "locationURL", "requestOpts", "response_options", "codings", "zlibOptions", "code", "require_fuse_common", "__commonJSMin", "exports", "module", "_typeof", "obj", "_classCallCheck", "instance", "Constructor", "_defineProperties", "target", "props", "i", "descriptor", "_createClass", "protoProps", "staticProps", "_defineProperty", "key", "value", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread2", "source", "_inherits", "subClass", "superClass", "_setPrototypeOf", "_getPrototypeOf", "o", "p", "_isNativeReflectConstruct", "_assertThisInitialized", "self", "_possibleConstructorReturn", "call", "_createSuper", "Derived", "hasNativeReflectConstruct", "Super", "result", "NewTarget", "_toConsumableArray", "arr", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "iter", "minLen", "n", "len", "arr2", "isArray", "getTag", "INFINITY", "baseToString", "toString", "isString", "isNumber", "isBoolean", "isObjectLike", "isObject", "isDefined", "isBlank", "INCORRECT_INDEX_TYPE", "LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY", "PATTERN_LENGTH_TOO_LARGE", "max", "MISSING_KEY_PROPERTY", "name", "INVALID_KEY_WEIGHT_VALUE", "hasOwn", "KeyStore", "_this", "totalWeight", "createKey", "keyId", "path", "id", "src", "weight", "createKeyPath", "createKeyId", "get", "list", "deepGet", "index", "MatchOptions", "BasicOptions", "b", "FuzzyOptions", "AdvancedOptions", "Config", "SPACE", "norm", "mantissa", "cache", "m", "numTokens", "FuseIndex", "_ref", "_ref$getFn", "getFn", "docs", "records", "idx", "_this2", "doc", "docIndex", "item", "record", "_this3", "keyIndex", "subRecords", "stack", "_stack$pop", "nestedArrIndex", "_value", "subRecord", "k", "createIndex", "_ref2", "_ref2$getFn", "myIndex", "parseIndex", "data", "_ref3", "_ref3$getFn", "computeScore", "pattern", "_ref$errors", "errors", "_ref$currentLocation", "currentLocation", "_ref$expectedLocation", "expectedLocation", "_ref$distance", "distance", "_ref$ignoreLocation", "ignoreLocation", "accuracy", "proximity", "convertMaskToIndices", "matchmask", "minMatchCharLength", "indices", "start", "end", "match", "MAX_BITS", "search", "text", "patternAlphabet", "_ref$location", "location", "_ref$threshold", "threshold", "_ref$findAllMatches", "findAllMatches", "_ref$minMatchCharLeng", "_ref$includeMatches", "includeMatches", "patternLen", "textLen", "currentThreshold", "bestLocation", "computeMatches", "matchMask", "score", "lastBitArr", "finalScore", "binMax", "mask", "_i", "binMin", "binMid", "_score2", "finish", "bitArr", "j", "charMatch", "_score", "createPatternAlphabet", "char", "BitapSearch", "_ref$isCaseSensitive", "isCaseSensitive", "addChunk", "startIndex", "remainder", "_this$options", "_result", "_this$options2", "allIndices", "totalScore", "hasMatches", "alphabet", "_search", "isMatch", "BaseMatch", "getMatch", "exp", "matches", "ExactMatch", "_BaseMatch", "_super", "InverseExactMatch", "PrefixExactMatch", "InversePrefixExactMatch", "SuffixExactMatch", "InverseSuffixExactMatch", "FuzzyMatch", "IncludeMatch", "searchers", "searchersLen", "SPACE_RE", "OR_TOKEN", "parseQuery", "options", "query", "results", "queryItem", "found", "searcher", "token", "_searcher", "_token", "MultiMatchSet", "ExtendedSearch", "numMatches", "qLen", "pLen", "_searcher$search", "type", "_", "registeredSearchers", "register", "createSearcher", "searcherClass", "LogicalOperator", "KeyType", "isExpression", "isPath", "isLeaf", "convertToExplicit", "parse", "_ref3$auto", "auto", "next", "isQueryPath", "node", "computeScore$1", "_ref$ignoreFieldNorm", "ignoreFieldNorm", "transformMatches", "transformScore", "format", "_ref$includeScore", "includeScore", "transformers", "transformer", "Fuse", "predicate", "_ref$limit", "limit", "shouldSort", "sortFn", "_searcher$searchIn", "expression", "evaluate", "res", "child", "_res", "_len", "_child", "resultMap", "expResults", "_ref4", "_resultMap$idx$matche", "_this$_myIndex", "_ref5", "_ref6", "_ref7", "_searcher$searchIn2", "_searcher$searchIn3", "defaultLocale", "localesData", "lowercaseLocaleLookup", "getDefaultLocale", "setDefaultLocale", "locale", "getLocaleData", "addLocaleData", "localeData", "Error", "toLowerCase", "resolveLocale", "_LocaleDataStore", "resolveLocale", "locale", "options", "localeMatcher", "resolveLocaleLookup", "RangeError", "resolvedLocale", "parts", "split", "length", "pop", "join", "$", "af", "n", "am", "ar", "s", "String", "split", "t0", "Number", "n100", "slice", "ast", "v0", "be", "n10", "br", "n1000000", "bs", "i", "f", "i10", "i100", "f10", "f100", "ceb", "cs", "cy", "da", "dsb", "dz", "ff", "fr", "i1000000", "ga", "gd", "he", "is", "ksh", "lt", "lv", "v", "length", "mk", "mt", "pa", "pl", "pt", "ro", "ru", "se", "si", "sl", "as", "az", "bg", "bn", "ca", "ce", "chr", "de", "ee", "el", "en", "es", "et", "eu", "fa", "fi", "fil", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hr", "hsb", "hu", "hy", "ia", "id", "ig", "it", "ja", "jgo", "jv", "ka", "kea", "kk", "kl", "km", "kn", "ko", "ku", "ky", "lb", "lkt", "lo", "ml", "mn", "mr", "ms", "my", "nb", "ne", "nl", "nn", "no", "or", "pcm", "ps", "rm", "sah", "sd", "sk", "so", "sq", "sr", "su", "sv", "sw", "ta", "te", "th", "ti", "tk", "to", "tr", "ug", "uk", "ur", "uz", "vi", "wae", "wo", "yi", "yo", "yue", "zh", "zu", "getPluralRulesLocale", "locale", "getLanguageFromLanguageTag", "LANGUAGE_REG_EXP", "languageTag", "match", "TypeError", "_PluralRuleFunctions", "_interopRequireDefault", "_getPluralRulesLocale", "PluralRules", "locale", "options", "_classCallCheck", "locales", "supportedLocalesOf", "length", "RangeError", "type", "$", "PluralRuleFunctions", "number", "filter", "_LocaleDataStore", "_resolveLocale", "_interopRequireDefault", "_PluralRules", "UNITS", "NUMERIC_VALUES", "STYLE_VALUES", "LOCALE_MATCHER_VALUES", "RelativeTimeFormat", "locales", "options", "_classCallCheck", "_defineProperty", "numeric", "style", "styleFallback", "localeMatcher", "undefined", "indexOf", "RangeError", "push", "locale", "supportedLocalesOf", "Error", "PluralRules", "length", "pluralRules", "console", "warn", "Intl", "NumberFormat", "numberFormat", "numberingSystem", "resolvedOptions", "styles", "Object", "keys", "_arr", "_i", "_parseFormatArgs", "parseFormatArgs", "arguments", "_parseFormatArgs2", "_slicedToArray", "number", "unit", "getRule", "replace", "formatNumber", "Math", "abs", "_parseFormatArgs3", "_parseFormatArgs4", "rule", "valueIndex", "type", "value", "parts", "slice", "concat", "formatNumberToParts", "map", "part", "_objectSpread", "unitMessages", "message", "current", "pluralizedMessages", "isNegative", "quantifier", "select", "other", "format", "String", "formatToParts", "Array", "isArray", "TypeError", "filter", "addLocale", "addLocaleData", "setDefaultLocale", "getDefaultLocale", "UNIT_ERROR", "parseUnit", "_typeof", "NUMBER_ERROR", "parseNumber", "Number", "isFinite", "isNegativeZero", "args", "require_index_commonjs", "__commonJSMin", "exports", "module", "Cache", "cache", "_len", "keys", "_key", "_i", "key", "_typeof", "_len2", "_key2", "value", "pop", "lastKey", "_i2", "chooseLocale", "locales", "isLocaleDataAvailable", "_iterator", "_isArray", "_i", "_ref", "locale", "parts", "split", "length", "pop", "join", "Error", "intlDateTimeFormatSupportedLocale", "intlDateTimeFormatSupported", "Intl", "DateTimeFormat", "supportedLocalesOf", "isIntlAvailable", "_typeof", "minute", "hour", "day", "week", "month", "year", "getSecondsInUnit", "unit", "_units", "getStepDenominator", "step", "factor", "undefined", "unit", "formatAs", "getRoundFunction", "round", "Math", "floor", "getDiffRatioToNextRoundedNumber", "_units", "_round", "getStepMinTime", "step", "_ref", "prevStep", "timestamp", "now", "future", "round", "minTime", "id", "unit", "undefined", "threshold", "_typeof", "default", "getMinTimeForUnit", "toUnit", "fromUnit", "formatAs", "test", "console", "warn", "JSON", "stringify", "_ref2", "toUnitAmount", "fromUnitAmount", "_getStepDenominator", "_interopRequireDefault", "_getStepMinTime", "_round", "getStep", "steps", "secondsPassed", "_ref", "now", "future", "round", "units", "getNextStep", "filterStepsByUnits", "step", "_getStep", "prevStep", "indexOf", "nextStep", "undefined", "_ref2", "length", "i", "getStepIndex", "granularity", "secondsPassedGranular", "Math", "abs", "options", "minTime", "_objectSpread", "timestamp", "filter", "_ref3", "unit", "formatAs", "_units", "_round", "getTimeToNextUpdateForUnit", "unit", "timestamp", "_ref", "now", "round", "unitDenominator", "future", "preciseAmount", "Math", "abs", "roundedAmount", "getDiffToPreviousRoundedNumber", "getDiffToNextRoundedNumber", "_getTimeToNextUpdateForUnit2", "_interopRequireDefault", "_getStepMinTime", "_round", "YEAR", "INFINITY", "getTimeToNextUpdate", "date", "step", "_ref", "prevStep", "nextStep", "now", "future", "round", "timestamp", "getTime", "getTimeToNextUpdateForUnit", "unit", "timeToStepChange", "getTimeToStepChange", "undefined", "timeToNextUpdate", "getRoundFunction", "formatAs", "Math", "min", "getStepChangesAt", "currentOrNextStep", "_ref2", "minTime", "_ref3", "stepChangesAt", "localesData", "getLocaleData", "locale", "addLocaleData", "localeData", "Error", "formatAs", "_round", "_interopRequireDefault", "steps", "round", "labels", "_round", "_interopRequireDefault", "round", "steps", "filter", "step", "formatAs", "_units", "factor", "unit", "threshold", "threshold_for_now", "minute", "granularity", "hour", "threshold_for_minute", "day", "week", "month", "year", "_approximate", "_interopRequireDefault", "gradation", "approximate", "flavour", "units", "_approximate", "_interopRequireDefault", "gradation", "approximate", "flavour", "units", "getDate", "value", "Date", "_approximate", "_interopRequireDefault", "_round", "_units", "_helpers", "_default", "step_", "step", "_objectSpread", "minTime", "undefined", "_typeof", "_arr", "Object", "keys", "_i", "key", "threshold", "default", "formatAs", "unit", "_renameLegacyProperties", "_interopRequireDefault", "_default", "style_", "style", "_objectSpread", "steps", "gradation", "map", "renameLegacyProperties", "labels", "flavour", "_steps", "_locale", "_renameLegacyProperties", "_interopRequireDefault", "steps", "formatAs", "formatters", "monthAndDay", "minTime", "timestamp", "_ref", "future", "getMinTimeForUnit", "format", "value", "locale", "dayMonth", "Intl", "DateTimeFormat", "month", "day", "yearMonthAndDay", "_ref2", "maxFittingNow", "Date", "getFullYear", "getTime", "minFittingNow", "dayMonthYear", "year", "push", "labels", "_twitter", "_interopRequireDefault", "twitter", "steps", "formatAs", "concat", "_twitter", "_interopRequireDefault", "twitter", "steps", "filter", "step", "formatAs", "_twitterMinute", "_interopRequireDefault", "twitterMinute", "steps", "formatAs", "concat", "_units", "_twitter", "_interopRequireDefault", "twitter", "steps", "filter", "step", "formatAs", "map", "_objectSpread", "minTime", "minute", "steps", "formatAs", "labels", "_mini", "_interopRequireDefault", "mini", "steps", "formatAs", "concat", "_mini", "_interopRequireDefault", "mini", "steps", "filter", "step", "formatAs", "_miniMinute", "_interopRequireDefault", "miniMinute", "steps", "formatAs", "concat", "_round", "_interopRequireDefault", "_roundMinute", "_approximate", "_approximateTime", "_twitter", "_twitterNow", "_twitterMinute", "_twitterMinuteNow", "_twitterFirstMinute", "_mini", "_miniNow", "_miniMinute", "_miniMinuteNow", "getStyleByName", "style", "round", "roundMinute", "approximate", "approximateTime", "mini", "miniNow", "miniMinute", "miniMinuteNow", "twitter", "twitterNow", "twitterMinute", "twitterMinuteNow", "twitterFirstMinute", "_relativeTimeFormat", "_interopRequireDefault", "_cache", "_locale", "_getStep3", "_getStepDenominator", "_getTimeToNextUpdate", "_LocaleDataStore", "_roundMinute", "_getStyleByName", "_round", "TimeAgo", "locales", "_ref", "polyfill", "_classCallCheck", "locale", "concat", "getDefaultLocale", "getLocaleData", "Intl", "NumberFormat", "numberFormat", "IntlRelativeTimeFormat", "RelativeTimeFormat", "IntlPluralRules", "PluralRules", "RelativeTimeFormatPolyfill", "relativeTimeFormatCache", "Cache", "pluralRulesCache", "input", "style", "options", "isStyle", "undefined", "defaultStyle", "timestamp", "getTimestamp", "_this$getLabels", "getLabels", "flavour", "labels", "labelsType", "now", "Date", "secondsPassed", "future", "nowLabel", "getNowLabel", "long", "custom", "date", "time", "elapsed", "units", "getTimeIntervalMeasurementUnits", "round", "_getStep", "gradation", "steps", "getNextStep", "_getStep2", "_slicedToArray", "prevStep", "step", "nextStep", "formattedDate", "formatDateForStep", "getTimeToNextUpdate", "timeToNextUpdate", "_this", "_ref2", "format", "formatAs", "unit", "value", "formatValue", "Error", "JSON", "stringify", "amount", "Math", "abs", "granularity", "valueForFormatting", "sign", "getFormatter", "_ref3", "getFormattingRule", "replace", "formatNumber", "formattingRules", "_ref4", "pastOrFuture", "quantifierRules", "quantifier", "getPluralRules", "select", "other", "number", "String", "get", "put", "map", "localeData", "_iterator", "_isArray", "_i2", "_ref5", "_labelsType", "defaultLocale", "setDefaultLocale", "addDefaultLocale", "defaultLocaleHasBeenSpecified", "console", "error", "addLocale", "addLabels", "name", "constructor", "isMockedDate", "getTime", "_typeof", "object", "allowedUnits", "Object", "keys", "push", "filter", "indexOf", "nowLabels", "longLabels", "past", "second", "current", "OBJECT_CONSTRUCTOR", "isObject", "variable", "isStyleObject", "Array", "isArray", "require_index_commonjs", "__commonJSMin", "exports", "module", "locale", "require_url_join", "__commonJSMin", "exports", "module", "name", "context", "definition", "normalize", "strArray", "resultArray", "first", "i", "component", "str", "parts", "input", "status_exports", "__export", "GitLabStatus", "__toCommonJS", "import_api", "import_api", "import_posix", "fs", "import_fs", "import_api", "import_react", "import_node_fetch", "import_api", "import_fuse", "import_node_fetch", "import_util", "import_fs", "import_stream", "import_https", "import_api", "streamPipeline", "util", "readCACertFileSync", "filename", "fs", "readCertFileSync", "getHttpAgent", "agent", "preferences", "ignoreCertificates", "customcacert", "customcert", "ca", "cert", "opt", "https", "activateAPILogging", "logAPI", "message", "optionalParams", "maybeUserFromJson", "data", "userFromJson", "dataToProject", "project", "jsonDataToMergeRequest", "mr", "jsonDataToIssue", "issue", "dataToMilestone", "paramString", "params", "p", "k", "v", "prefix", "getNextPageNumber", "page_response", "header", "isValidStatus", "status", "toJsonOrError", "response", "s", "logAPI", "json", "msg", "GitLab", "url", "token", "relativeUrl", "params", "all", "per_page", "fetchPage", "page", "pagedParams", "ps", "paramString", "fullUrl", "agent", "getHttpAgent", "fetch", "next_page", "getNextPageNumber", "page_response", "page_content", "error", "streamPipeline", "fs", "e", "project", "projectPrefix", "issues", "issue", "jsonDataToIssue", "projectID", "issueID", "groupID", "data", "projectId", "users", "userdata", "labels", "group", "projects", "p", "dataToProject", "args", "user", "jsonDataToMergeRequest", "mrID", "mr", "issueItems", "maybeUserFromJson", "lowerSearch", "t", "receiveLargeCachedObject", "search", "dataAll", "hashRecord", "searchData", "groups", "epics", "g", "options", "Fuse", "result", "DefaultGitLab", "createGitLabClient", "preferences", "instance", "token", "GitLab", "gitlab", "createGitLabClient", "defaultRefreshInterval", "crypto", "import_javascript_time_ago", "import_url_join", "clearDurations", "clearDurationMinutes", "clearDurationText", "key", "r", "getClearDurationMinutes", "getClearDurationDate", "minutes", "d", "emojiSymbol", "text", "val", "emojis_default", "getAllEmojiSymbolAliases", "e", "TimeAgo", "en_default", "timeAgo", "currentSeconds", "hashRecord", "rec", "prefix", "sha256", "k", "v", "h", "getErrorMessage", "error", "formatDate", "input", "date", "timeAgo", "daysInSeconds", "days", "showErrorToast", "message", "title", "t", "toast", "import_react", "logCaching", "cacheLog", "message", "optionalParams", "getLargeCacheDirectory", "sp", "path", "getCacheFilepath", "key", "ensureDirectory", "cacheDir", "getLargeCacheObjectData", "cacheFilePath", "jsontext", "cache_data", "delta", "currentSeconds", "getLargeCacheObject", "seconds", "setLargeCacheObject", "payload", "text", "e", "receiveLargeCachedObject", "fn", "data", "useCache", "key", "getData", "options", "secondsToRefetchUser", "secondsToInvalid", "daysInSeconds", "data", "setData", "error", "setError", "isLoading", "setIsLoading", "timestamp", "setTimestamp", "shouldForceRefetch", "depsAll", "d", "search", "alldata", "performRefetch", "refetch", "didUnmount", "fetchData", "cacheLog", "secondsToRefetch", "cacheData", "getLargeCacheObjectData", "value", "setLargeCacheObject", "e", "getErrorMessage", "import_react", "import_api", "import_react", "presetsStoreKey", "wipePresets", "storePresets", "presets", "restorePresets", "content", "data", "result", "stat", "isValidStatus", "usePresets", "setPresets", "isLoading", "setIsLoading", "error", "setError", "didUnmount", "fetchData", "predefinedPresets", "getErrorMessage", "import_api", "import_api", "import_jsx_runtime", "StatusForm", "props", "es", "emoji", "message", "duration", "StatusEmojiDropDown", "StatusDurationDropDown", "clearDurations", "k", "clearDurationText", "getAllEmojiSymbolAliases", "emojiSymbol", "StatusFormSet", "pop", "values", "status", "getValidStatusFromFormValue", "gitlab", "error", "showErrorToast", "getErrorMessage", "s", "getClearDurationDate", "isValidStatus", "StatusFormPresetCreate", "StatusFormPresetEdit", "import_jsx_runtime", "StatusSetCustomAction", "props", "StatusFormSet", "StatusClearCurrentAction", "status", "handle", "gitlab", "error", "showErrorToast", "getErrorMessage", "StatusPresetFactoryResetAction", "wipePresets", "predefinedPresets", "StatusPresetCreateAction", "presets", "push", "pop", "StatusFormPresetCreate", "newStatus", "np", "StatusPresetSetAction", "getClearDurationDate", "StatusPresetSetWithDurationAction", "durationKey", "clearDurations", "k", "clearDurationText", "StatusPresetEditAction", "index", "setStatus", "StatusFormPresetEdit", "StatusPresetDeleteAction", "_", "i", "StatusPresetMoveUpAction", "temp", "StatusPresetMoveDownAction", "upperIndex", "import_jsx_runtime", "StatusList", "data", "error", "isLoading", "useCache", "gitlab", "showErrorToast", "getErrorMessage", "currentStatus", "setCurrentStatus", "presets", "setPresets", "usePresets", "selectedId", "setSelectedId", "StatusCurrentListItem", "p", "i", "StatusPresetListItem", "props", "status", "emojiIcon", "durationText", "formatDate", "setNoStatus", "title", "emojiSymbol", "StatusClearCurrentAction", "StatusSetCustomAction", "StatusPresetCreateAction", "StatusPresetFactoryResetAction", "s", "clearDurationText", "StatusPresetSetAction", "StatusPresetSetWithDurationAction", "StatusPresetEditAction", "StatusPresetDeleteAction", "StatusPresetMoveUpAction", "StatusPresetMoveDownAction", "import_jsx_runtime", "GitLabStatus", "StatusList"]
}
